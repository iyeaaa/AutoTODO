(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function s(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(o){if(o.ep)return;o.ep=!0;const d=s(o);fetch(o.href,d)}})();function Bv(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function $v(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var i=u.default;if(typeof i=="function"){var s=function l(){var o=!1;try{o=this instanceof l}catch{}return o?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(u).forEach(function(l){var o=Object.getOwnPropertyDescriptor(u,l);Object.defineProperty(s,l,o.get?o:{enumerable:!0,get:function(){return u[l]}})}),s}var Cu={exports:{}},Ts={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh;function Hv(){if(Jh)return Ts;Jh=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function s(l,o,d){var f=null;if(d!==void 0&&(f=""+d),o.key!==void 0&&(f=""+o.key),"key"in o){d={};for(var g in o)g!=="key"&&(d[g]=o[g])}else d=o;return o=d.ref,{$$typeof:u,type:l,key:f,ref:o!==void 0?o:null,props:d}}return Ts.Fragment=i,Ts.jsx=s,Ts.jsxs=s,Ts}var Fh;function Gv(){return Fh||(Fh=1,Cu.exports=Hv()),Cu.exports}var m=Gv(),Au={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph;function Yv(){if(Ph)return ge;Ph=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.iterator;function O(w){return w===null||typeof w!="object"?null:(w=x&&w[x]||w["@@iterator"],typeof w=="function"?w:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,q={};function H(w,L,X){this.props=w,this.context=L,this.refs=q,this.updater=X||A}H.prototype.isReactComponent={},H.prototype.setState=function(w,L){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,L,"setState")},H.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function se(){}se.prototype=H.prototype;function te(w,L,X){this.props=w,this.context=L,this.refs=q,this.updater=X||A}var $=te.prototype=new se;$.constructor=te,U($,H.prototype),$.isPureReactComponent=!0;var W=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function ye(w,L,X,K,ie,G){return X=G.ref,{$$typeof:u,type:w,key:L,ref:X!==void 0?X:null,props:G}}function de(w,L){return ye(w.type,L,void 0,void 0,void 0,w.props)}function Y(w){return typeof w=="object"&&w!==null&&w.$$typeof===u}function ue(w){var L={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(X){return L[X]})}var pe=/\/+/g;function P(w,L){return typeof w=="object"&&w!==null&&w.key!=null?ue(""+w.key):L.toString(36)}function Z(){}function Ae(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Z,Z):(w.status="pending",w.then(function(L){w.status==="pending"&&(w.status="fulfilled",w.value=L)},function(L){w.status==="pending"&&(w.status="rejected",w.reason=L)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function Oe(w,L,X,K,ie){var G=typeof w;(G==="undefined"||G==="boolean")&&(w=null);var Q=!1;if(w===null)Q=!0;else switch(G){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(w.$$typeof){case u:case i:Q=!0;break;case b:return Q=w._init,Oe(Q(w._payload),L,X,K,ie)}}if(Q)return ie=ie(w),Q=K===""?"."+P(w,0):K,W(ie)?(X="",Q!=null&&(X=Q.replace(pe,"$&/")+"/"),Oe(ie,L,X,"",function(ke){return ke})):ie!=null&&(Y(ie)&&(ie=de(ie,X+(ie.key==null||w&&w.key===ie.key?"":(""+ie.key).replace(pe,"$&/")+"/")+Q)),L.push(ie)),1;Q=0;var je=K===""?".":K+":";if(W(w))for(var I=0;I<w.length;I++)K=w[I],G=je+P(K,I),Q+=Oe(K,L,X,G,ie);else if(I=O(w),typeof I=="function")for(w=I.call(w),I=0;!(K=w.next()).done;)K=K.value,G=je+P(K,I++),Q+=Oe(K,L,X,G,ie);else if(G==="object"){if(typeof w.then=="function")return Oe(Ae(w),L,X,K,ie);throw L=String(w),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Q}function R(w,L,X){if(w==null)return w;var K=[],ie=0;return Oe(w,K,"","",function(G){return L.call(X,G,ie++)}),K}function V(w){if(w._status===-1){var L=w._result;L=L(),L.then(function(X){(w._status===0||w._status===-1)&&(w._status=1,w._result=X)},function(X){(w._status===0||w._status===-1)&&(w._status=2,w._result=X)}),w._status===-1&&(w._status=0,w._result=L)}if(w._status===1)return w._result.default;throw w._result}var le=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function xe(){}return ge.Children={map:R,forEach:function(w,L,X){R(w,function(){L.apply(this,arguments)},X)},count:function(w){var L=0;return R(w,function(){L++}),L},toArray:function(w){return R(w,function(L){return L})||[]},only:function(w){if(!Y(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},ge.Component=H,ge.Fragment=s,ge.Profiler=o,ge.PureComponent=te,ge.StrictMode=l,ge.Suspense=y,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,ge.__COMPILER_RUNTIME={__proto__:null,c:function(w){return B.H.useMemoCache(w)}},ge.cache=function(w){return function(){return w.apply(null,arguments)}},ge.cloneElement=function(w,L,X){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var K=U({},w.props),ie=w.key,G=void 0;if(L!=null)for(Q in L.ref!==void 0&&(G=void 0),L.key!==void 0&&(ie=""+L.key),L)!J.call(L,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&L.ref===void 0||(K[Q]=L[Q]);var Q=arguments.length-2;if(Q===1)K.children=X;else if(1<Q){for(var je=Array(Q),I=0;I<Q;I++)je[I]=arguments[I+2];K.children=je}return ye(w.type,ie,void 0,void 0,G,K)},ge.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:d,_context:w},w},ge.createElement=function(w,L,X){var K,ie={},G=null;if(L!=null)for(K in L.key!==void 0&&(G=""+L.key),L)J.call(L,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ie[K]=L[K]);var Q=arguments.length-2;if(Q===1)ie.children=X;else if(1<Q){for(var je=Array(Q),I=0;I<Q;I++)je[I]=arguments[I+2];ie.children=je}if(w&&w.defaultProps)for(K in Q=w.defaultProps,Q)ie[K]===void 0&&(ie[K]=Q[K]);return ye(w,G,void 0,void 0,null,ie)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(w){return{$$typeof:g,render:w}},ge.isValidElement=Y,ge.lazy=function(w){return{$$typeof:b,_payload:{_status:-1,_result:w},_init:V}},ge.memo=function(w,L){return{$$typeof:p,type:w,compare:L===void 0?null:L}},ge.startTransition=function(w){var L=B.T,X={};B.T=X;try{var K=w(),ie=B.S;ie!==null&&ie(X,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(xe,le)}catch(G){le(G)}finally{B.T=L}},ge.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},ge.use=function(w){return B.H.use(w)},ge.useActionState=function(w,L,X){return B.H.useActionState(w,L,X)},ge.useCallback=function(w,L){return B.H.useCallback(w,L)},ge.useContext=function(w){return B.H.useContext(w)},ge.useDebugValue=function(){},ge.useDeferredValue=function(w,L){return B.H.useDeferredValue(w,L)},ge.useEffect=function(w,L,X){var K=B.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(w,L)},ge.useId=function(){return B.H.useId()},ge.useImperativeHandle=function(w,L,X){return B.H.useImperativeHandle(w,L,X)},ge.useInsertionEffect=function(w,L){return B.H.useInsertionEffect(w,L)},ge.useLayoutEffect=function(w,L){return B.H.useLayoutEffect(w,L)},ge.useMemo=function(w,L){return B.H.useMemo(w,L)},ge.useOptimistic=function(w,L){return B.H.useOptimistic(w,L)},ge.useReducer=function(w,L,X){return B.H.useReducer(w,L,X)},ge.useRef=function(w){return B.H.useRef(w)},ge.useState=function(w){return B.H.useState(w)},ge.useSyncExternalStore=function(w,L,X){return B.H.useSyncExternalStore(w,L,X)},ge.useTransition=function(){return B.H.useTransition()},ge.version="19.1.1",ge}var Wh;function tc(){return Wh||(Wh=1,Au.exports=Yv()),Au.exports}var ee=tc(),ju={exports:{}},Os={},Nu={exports:{}},Ru={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg;function Kv(){return eg||(eg=1,(function(u){function i(R,V){var le=R.length;R.push(V);e:for(;0<le;){var xe=le-1>>>1,w=R[xe];if(0<o(w,V))R[xe]=V,R[le]=w,le=xe;else break e}}function s(R){return R.length===0?null:R[0]}function l(R){if(R.length===0)return null;var V=R[0],le=R.pop();if(le!==V){R[0]=le;e:for(var xe=0,w=R.length,L=w>>>1;xe<L;){var X=2*(xe+1)-1,K=R[X],ie=X+1,G=R[ie];if(0>o(K,le))ie<w&&0>o(G,K)?(R[xe]=G,R[ie]=le,xe=ie):(R[xe]=K,R[X]=le,xe=X);else if(ie<w&&0>o(G,le))R[xe]=G,R[ie]=le,xe=ie;else break e}}return V}function o(R,V){var le=R.sortIndex-V.sortIndex;return le!==0?le:R.id-V.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;u.unstable_now=function(){return d.now()}}else{var f=Date,g=f.now();u.unstable_now=function(){return f.now()-g}}var y=[],p=[],b=1,x=null,O=3,A=!1,U=!1,q=!1,H=!1,se=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function W(R){for(var V=s(p);V!==null;){if(V.callback===null)l(p);else if(V.startTime<=R)l(p),V.sortIndex=V.expirationTime,i(y,V);else break;V=s(p)}}function B(R){if(q=!1,W(R),!U)if(s(y)!==null)U=!0,J||(J=!0,P());else{var V=s(p);V!==null&&Oe(B,V.startTime-R)}}var J=!1,ye=-1,de=5,Y=-1;function ue(){return H?!0:!(u.unstable_now()-Y<de)}function pe(){if(H=!1,J){var R=u.unstable_now();Y=R;var V=!0;try{e:{U=!1,q&&(q=!1,te(ye),ye=-1),A=!0;var le=O;try{t:{for(W(R),x=s(y);x!==null&&!(x.expirationTime>R&&ue());){var xe=x.callback;if(typeof xe=="function"){x.callback=null,O=x.priorityLevel;var w=xe(x.expirationTime<=R);if(R=u.unstable_now(),typeof w=="function"){x.callback=w,W(R),V=!0;break t}x===s(y)&&l(y),W(R)}else l(y);x=s(y)}if(x!==null)V=!0;else{var L=s(p);L!==null&&Oe(B,L.startTime-R),V=!1}}break e}finally{x=null,O=le,A=!1}V=void 0}}finally{V?P():J=!1}}}var P;if(typeof $=="function")P=function(){$(pe)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Ae=Z.port2;Z.port1.onmessage=pe,P=function(){Ae.postMessage(null)}}else P=function(){se(pe,0)};function Oe(R,V){ye=se(function(){R(u.unstable_now())},V)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(R){R.callback=null},u.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<R?Math.floor(1e3/R):5},u.unstable_getCurrentPriorityLevel=function(){return O},u.unstable_next=function(R){switch(O){case 1:case 2:case 3:var V=3;break;default:V=O}var le=O;O=V;try{return R()}finally{O=le}},u.unstable_requestPaint=function(){H=!0},u.unstable_runWithPriority=function(R,V){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var le=O;O=R;try{return V()}finally{O=le}},u.unstable_scheduleCallback=function(R,V,le){var xe=u.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?xe+le:xe):le=xe,R){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=le+w,R={id:b++,callback:V,priorityLevel:R,startTime:le,expirationTime:w,sortIndex:-1},le>xe?(R.sortIndex=le,i(p,R),s(y)===null&&R===s(p)&&(q?(te(ye),ye=-1):q=!0,Oe(B,le-xe))):(R.sortIndex=w,i(y,R),U||A||(U=!0,J||(J=!0,P()))),R},u.unstable_shouldYield=ue,u.unstable_wrapCallback=function(R){var V=O;return function(){var le=O;O=V;try{return R.apply(this,arguments)}finally{O=le}}}})(Ru)),Ru}var tg;function Vv(){return tg||(tg=1,Nu.exports=Kv()),Nu.exports}var Mu={exports:{}},ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag;function Xv(){if(ag)return ht;ag=1;var u=tc();function i(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function d(y,p,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:y,containerInfo:p,implementation:b}}var f=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ht.createPortal=function(y,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(i(299));return d(y,p,null,b)},ht.flushSync=function(y){var p=f.T,b=l.p;try{if(f.T=null,l.p=2,y)return y()}finally{f.T=p,l.p=b,l.d.f()}},ht.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(y,p))},ht.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},ht.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var b=p.as,x=g(b,p.crossOrigin),O=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?l.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:O,fetchPriority:A}):b==="script"&&l.d.X(y,{crossOrigin:x,integrity:O,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ht.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=g(p.as,p.crossOrigin);l.d.M(y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(y)},ht.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,x=g(b,p.crossOrigin);l.d.L(y,b,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ht.preloadModule=function(y,p){if(typeof y=="string")if(p){var b=g(p.as,p.crossOrigin);l.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(y)},ht.requestFormReset=function(y){l.d.r(y)},ht.unstable_batchedUpdates=function(y,p){return y(p)},ht.useFormState=function(y,p,b){return f.H.useFormState(y,p,b)},ht.useFormStatus=function(){return f.H.useHostTransitionStatus()},ht.version="19.1.1",ht}var ng;function Qv(){if(ng)return Mu.exports;ng=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),Mu.exports=Xv(),Mu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function Iv(){if(ig)return Os;ig=1;var u=Vv(),i=tc(),s=Qv();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(l(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(r===null)break;var c=r.alternate;if(c===null){if(n=r.return,n!==null){a=n;continue}break}if(r.child===c.child){for(c=r.child;c;){if(c===a)return g(r),e;if(c===n)return g(r),t;c=c.sibling}throw Error(l(188))}if(a.return!==n.return)a=r,n=c;else{for(var h=!1,v=r.child;v;){if(v===a){h=!0,a=r,n=c;break}if(v===n){h=!0,n=r,a=c;break}v=v.sibling}if(!h){for(v=c.child;v;){if(v===a){h=!0,a=c,n=r;break}if(v===n){h=!0,n=c,a=r;break}v=v.sibling}if(!h)throw Error(l(189))}}if(a.alternate!==n)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),te=Symbol.for("react.consumer"),$=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),pe=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=pe&&e[pe]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Symbol.for("react.client.reference");function Ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Z?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case H:return"Profiler";case q:return"StrictMode";case B:return"Suspense";case J:return"SuspenseList";case Y:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case $:return(e.displayName||"Context")+".Provider";case te:return(e._context.displayName||"Context")+".Consumer";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ye:return t=e.displayName||null,t!==null?t:Ae(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return Ae(e(t))}catch{}}return null}var Oe=Array.isArray,R=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},xe=[],w=-1;function L(e){return{current:e}}function X(e){0>w||(e.current=xe[w],xe[w]=null,w--)}function K(e,t){w++,xe[w]=e.current,e.current=t}var ie=L(null),G=L(null),Q=L(null),je=L(null);function I(e,t){switch(K(Q,t),K(G,e),K(ie,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Eh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Eh(t),e=Th(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(ie),K(ie,e)}function ke(){X(ie),X(G),X(Q)}function Qt(e){e.memoizedState!==null&&K(je,e);var t=ie.current,a=Th(t,e.type);t!==a&&(K(G,e),K(ie,a))}function Pa(e){G.current===e&&(X(ie),X(G)),je.current===e&&(X(je),_s._currentValue=le)}var Ni=Object.prototype.hasOwnProperty,wa=u.unstable_scheduleCallback,Tn=u.unstable_cancelCallback,cr=u.unstable_shouldYield,dr=u.unstable_requestPaint,Et=u.unstable_now,qs=u.unstable_getCurrentPriorityLevel,Bs=u.unstable_ImmediatePriority,$s=u.unstable_UserBlockingPriority,On=u.unstable_NormalPriority,fr=u.unstable_LowPriority,Hs=u.unstable_IdlePriority,hr=u.log,gr=u.unstable_setDisableYieldValue,Wa=null,yt=null;function It(e){if(typeof hr=="function"&&gr(e),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(Wa,e)}catch{}}var vt=Math.clz32?Math.clz32:ae,yr=Math.log,M=Math.LN2;function ae(e){return e>>>=0,e===0?32:31-(yr(e)/M|0)|0}var fe=256,ve=4194304;function Ie(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $e(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var r=0,c=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var v=n&134217727;return v!==0?(n=v&~c,n!==0?r=Ie(n):(h&=v,h!==0?r=Ie(h):a||(a=v&~e,a!==0&&(r=Ie(a))))):(v=n&~c,v!==0?r=Ie(v):h!==0?r=Ie(h):a||(a=n&~e,a!==0&&(r=Ie(a)))),r===0?0:t!==0&&t!==r&&(t&c)===0&&(c=r&-r,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:r}function Tt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ze(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zt(){var e=fe;return fe<<=1,(fe&4194048)===0&&(fe=256),e}function Sa(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function aa(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function en(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function C0(e,t,a,n,r,c){var h=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,_=e.expirationTimes,C=e.hiddenUpdates;for(a=h&~a;0<a;){var D=31-vt(a),z=1<<D;v[D]=0,_[D]=-1;var j=C[D];if(j!==null)for(C[D]=null,D=0;D<j.length;D++){var N=j[D];N!==null&&(N.lane&=-536870913)}a&=~z}n!==0&&oc(e,n,0),c!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=c&~(h&~t))}function oc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-vt(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function uc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-vt(a),r=1<<n;r&t|e[n]&t&&(e[n]|=t),a&=~r}}function vr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cc(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:Kh(e.type))}function A0(e,t){var a=V.p;try{return V.p=e,t()}finally{V.p=a}}var xa=Math.random().toString(36).slice(2),dt="__reactFiber$"+xa,bt="__reactProps$"+xa,Cn="__reactContainer$"+xa,pr="__reactEvents$"+xa,j0="__reactListeners$"+xa,N0="__reactHandles$"+xa,dc="__reactResources$"+xa,Ri="__reactMarker$"+xa;function br(e){delete e[dt],delete e[bt],delete e[pr],delete e[j0],delete e[N0]}function An(e){var t=e[dt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Cn]||a[dt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=jh(e);e!==null;){if(a=e[dt])return a;e=jh(e)}return t}e=a,a=e.parentNode}return null}function jn(e){if(e=e[dt]||e[Cn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Mi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Nn(e){var t=e[dc];return t||(t=e[dc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[Ri]=!0}var fc=new Set,hc={};function tn(e,t){Rn(e,t),Rn(e+"Capture",t)}function Rn(e,t){for(hc[e]=t,e=0;e<t.length;e++)fc.add(t[e])}var R0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gc={},yc={};function M0(e){return Ni.call(yc,e)?!0:Ni.call(gc,e)?!1:R0.test(e)?yc[e]=!0:(gc[e]=!0,!1)}function Gs(e,t,a){if(M0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ys(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function na(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var _r,vc;function Mn(e){if(_r===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);_r=t&&t[1]||"",vc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_r+e+vc}var wr=!1;function Sr(e,t){if(!e||wr)return"";wr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(N){var j=N}Reflect.construct(e,[],z)}else{try{z.call()}catch(N){j=N}e.call(z.prototype)}}else{try{throw Error()}catch(N){j=N}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(N){if(N&&j&&typeof N.stack=="string")return[N.stack,j.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=n.DetermineComponentFrameRoot(),h=c[0],v=c[1];if(h&&v){var _=h.split(`
`),C=v.split(`
`);for(r=n=0;n<_.length&&!_[n].includes("DetermineComponentFrameRoot");)n++;for(;r<C.length&&!C[r].includes("DetermineComponentFrameRoot");)r++;if(n===_.length||r===C.length)for(n=_.length-1,r=C.length-1;1<=n&&0<=r&&_[n]!==C[r];)r--;for(;1<=n&&0<=r;n--,r--)if(_[n]!==C[r]){if(n!==1||r!==1)do if(n--,r--,0>r||_[n]!==C[r]){var D=`
`+_[n].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=n&&0<=r);break}}}finally{wr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Mn(a):""}function U0(e){switch(e.tag){case 26:case 27:case 5:return Mn(e.type);case 16:return Mn("Lazy");case 13:return Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 15:return Sr(e.type,!1);case 11:return Sr(e.type.render,!1);case 1:return Sr(e.type,!0);case 31:return Mn("Activity");default:return""}}function mc(e){try{var t="";do t+=U0(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function D0(e){var t=pc(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,c=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(h){n=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(h){n=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ks(e){e._valueTracker||(e._valueTracker=D0(e))}function bc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=pc(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var k0=/[\n"\\]/g;function Dt(e){return e.replace(k0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function xr(e,t,a,n,r,c,h,v){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ut(t)):e.value!==""+Ut(t)&&(e.value=""+Ut(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?Er(e,h,Ut(t)):a!=null?Er(e,h,Ut(a)):n!=null&&e.removeAttribute("value"),r==null&&c!=null&&(e.defaultChecked=!!c),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Ut(v):e.removeAttribute("name")}function _c(e,t,a,n,r,c,h,v){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;a=a!=null?""+Ut(a):"",t=t!=null?""+Ut(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}n=n??r,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=v?e.checked:!!n,e.defaultChecked=!!n,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h)}function Er(e,t,a){t==="number"&&Vs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Un(e,t,a,n){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Ut(a),t=null,r=0;r<e.length;r++){if(e[r].value===a){e[r].selected=!0,n&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function wc(e,t,a){if(t!=null&&(t=""+Ut(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ut(a):""}function Sc(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(l(92));if(Oe(n)){if(1<n.length)throw Error(l(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Ut(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function Dn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var z0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xc(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||z0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Ec(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var r in t)n=t[r],t.hasOwnProperty(r)&&a[r]!==n&&xc(e,r,n)}else for(var c in t)t.hasOwnProperty(c)&&xc(e,c,t[c])}function Tr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var L0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),q0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(e){return q0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Or=null;function Cr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kn=null,zn=null;function Tc(e){var t=jn(e);if(t&&(e=t.stateNode)){var a=e[bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(xr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var r=n[bt]||null;if(!r)throw Error(l(90));xr(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&bc(n)}break e;case"textarea":wc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Un(e,!!a.multiple,t,!1)}}}var Ar=!1;function Oc(e,t,a){if(Ar)return e(t,a);Ar=!0;try{var n=e(t);return n}finally{if(Ar=!1,(kn!==null||zn!==null)&&(Rl(),kn&&(t=kn,e=zn,zn=kn=null,Tc(t),e)))for(t=0;t<e.length;t++)Tc(e[t])}}function Ui(e,t){var a=e.stateNode;if(a===null)return null;var n=a[bt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jr=!1;if(ia)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){jr=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{jr=!1}var Ea=null,Nr=null,Qs=null;function Cc(){if(Qs)return Qs;var e,t=Nr,a=t.length,n,r="value"in Ea?Ea.value:Ea.textContent,c=r.length;for(e=0;e<a&&t[e]===r[e];e++);var h=a-e;for(n=1;n<=h&&t[a-n]===r[c-n];n++);return Qs=r.slice(e,1<n?1-n:void 0)}function Is(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zs(){return!0}function Ac(){return!1}function _t(e){function t(a,n,r,c,h){this._reactName=a,this._targetInst=r,this.type=n,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Zs:Ac,this.isPropagationStopped=Ac,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),t}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=_t(an),ki=b({},an,{view:0,detail:0}),B0=_t(ki),Rr,Mr,zi,Fs=b({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zi&&(zi&&e.type==="mousemove"?(Rr=e.screenX-zi.screenX,Mr=e.screenY-zi.screenY):Mr=Rr=0,zi=e),Rr)},movementY:function(e){return"movementY"in e?e.movementY:Mr}}),jc=_t(Fs),$0=b({},Fs,{dataTransfer:0}),H0=_t($0),G0=b({},ki,{relatedTarget:0}),Ur=_t(G0),Y0=b({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),K0=_t(Y0),V0=b({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),X0=_t(V0),Q0=b({},an,{data:0}),Nc=_t(Q0),I0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=J0[e])?!!t[e]:!1}function Dr(){return F0}var P0=b({},ki,{key:function(e){if(e.key){var t=I0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Is(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Z0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(e){return e.type==="keypress"?Is(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Is(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),W0=_t(P0),ey=b({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rc=_t(ey),ty=b({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),ay=_t(ty),ny=b({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),iy=_t(ny),sy=b({},Fs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ly=_t(sy),ry=b({},an,{newState:0,oldState:0}),oy=_t(ry),uy=[9,13,27,32],kr=ia&&"CompositionEvent"in window,Li=null;ia&&"documentMode"in document&&(Li=document.documentMode);var cy=ia&&"TextEvent"in window&&!Li,Mc=ia&&(!kr||Li&&8<Li&&11>=Li),Uc=" ",Dc=!1;function kc(e,t){switch(e){case"keyup":return uy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ln=!1;function dy(e,t){switch(e){case"compositionend":return zc(t);case"keypress":return t.which!==32?null:(Dc=!0,Uc);case"textInput":return e=t.data,e===Uc&&Dc?null:e;default:return null}}function fy(e,t){if(Ln)return e==="compositionend"||!kr&&kc(e,t)?(e=Cc(),Qs=Nr=Ea=null,Ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mc&&t.locale!=="ko"?null:t.data;default:return null}}var hy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hy[e.type]:t==="textarea"}function qc(e,t,a,n){kn?zn?zn.push(n):zn=[n]:kn=n,t=Ll(t,"onChange"),0<t.length&&(a=new Js("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var qi=null,Bi=null;function gy(e){bh(e,0)}function Ps(e){var t=Mi(e);if(bc(t))return e}function Bc(e,t){if(e==="change")return t}var $c=!1;if(ia){var zr;if(ia){var Lr="oninput"in document;if(!Lr){var Hc=document.createElement("div");Hc.setAttribute("oninput","return;"),Lr=typeof Hc.oninput=="function"}zr=Lr}else zr=!1;$c=zr&&(!document.documentMode||9<document.documentMode)}function Gc(){qi&&(qi.detachEvent("onpropertychange",Yc),Bi=qi=null)}function Yc(e){if(e.propertyName==="value"&&Ps(Bi)){var t=[];qc(t,Bi,e,Cr(e)),Oc(gy,t)}}function yy(e,t,a){e==="focusin"?(Gc(),qi=t,Bi=a,qi.attachEvent("onpropertychange",Yc)):e==="focusout"&&Gc()}function vy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ps(Bi)}function my(e,t){if(e==="click")return Ps(t)}function py(e,t){if(e==="input"||e==="change")return Ps(t)}function by(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:by;function $i(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var r=a[n];if(!Ni.call(t,r)||!Ot(e[r],t[r]))return!1}return!0}function Kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vc(e,t){var a=Kc(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kc(a)}}function Xc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Vs(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Vs(e.document)}return t}function qr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var _y=ia&&"documentMode"in document&&11>=document.documentMode,qn=null,Br=null,Hi=null,$r=!1;function Ic(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$r||qn==null||qn!==Vs(n)||(n=qn,"selectionStart"in n&&qr(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hi&&$i(Hi,n)||(Hi=n,n=Ll(Br,"onSelect"),0<n.length&&(t=new Js("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=qn)))}function nn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Bn={animationend:nn("Animation","AnimationEnd"),animationiteration:nn("Animation","AnimationIteration"),animationstart:nn("Animation","AnimationStart"),transitionrun:nn("Transition","TransitionRun"),transitionstart:nn("Transition","TransitionStart"),transitioncancel:nn("Transition","TransitionCancel"),transitionend:nn("Transition","TransitionEnd")},Hr={},Zc={};ia&&(Zc=document.createElement("div").style,"AnimationEvent"in window||(delete Bn.animationend.animation,delete Bn.animationiteration.animation,delete Bn.animationstart.animation),"TransitionEvent"in window||delete Bn.transitionend.transition);function sn(e){if(Hr[e])return Hr[e];if(!Bn[e])return e;var t=Bn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Zc)return Hr[e]=t[a];return e}var Jc=sn("animationend"),Fc=sn("animationiteration"),Pc=sn("animationstart"),wy=sn("transitionrun"),Sy=sn("transitionstart"),xy=sn("transitioncancel"),Wc=sn("transitionend"),ed=new Map,Gr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gr.push("scrollEnd");function Gt(e,t){ed.set(e,t),tn(t,[e])}var td=new WeakMap;function kt(e,t){if(typeof e=="object"&&e!==null){var a=td.get(e);return a!==void 0?a:(t={value:e,source:t,stack:mc(t)},td.set(e,t),t)}return{value:e,source:t,stack:mc(t)}}var zt=[],$n=0,Yr=0;function Ws(){for(var e=$n,t=Yr=$n=0;t<e;){var a=zt[t];zt[t++]=null;var n=zt[t];zt[t++]=null;var r=zt[t];zt[t++]=null;var c=zt[t];if(zt[t++]=null,n!==null&&r!==null){var h=n.pending;h===null?r.next=r:(r.next=h.next,h.next=r),n.pending=r}c!==0&&ad(a,r,c)}}function el(e,t,a,n){zt[$n++]=e,zt[$n++]=t,zt[$n++]=a,zt[$n++]=n,Yr|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Kr(e,t,a,n){return el(e,t,a,n),tl(e)}function Hn(e,t){return el(e,null,null,t),tl(e)}function ad(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var r=!1,c=e.return;c!==null;)c.childLanes|=a,n=c.alternate,n!==null&&(n.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(r=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,r&&t!==null&&(r=31-vt(a),e=c.hiddenUpdates,n=e[r],n===null?e[r]=[t]:n.push(t),t.lane=a|536870912),c):null}function tl(e){if(50<fs)throw fs=0,Fo=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Gn={};function Ey(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,a,n){return new Ey(e,t,a,n)}function Vr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sa(e,t){var a=e.alternate;return a===null?(a=Ct(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function nd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function al(e,t,a,n,r,c){var h=0;if(n=e,typeof e=="function")Vr(e)&&(h=1);else if(typeof e=="string")h=Ov(e,a,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Y:return e=Ct(31,a,t,r),e.elementType=Y,e.lanes=c,e;case U:return ln(a.children,r,c,t);case q:h=8,r|=24;break;case H:return e=Ct(12,a,t,r|2),e.elementType=H,e.lanes=c,e;case B:return e=Ct(13,a,t,r),e.elementType=B,e.lanes=c,e;case J:return e=Ct(19,a,t,r),e.elementType=J,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:case $:h=10;break e;case te:h=9;break e;case W:h=11;break e;case ye:h=14;break e;case de:h=16,n=null;break e}h=29,a=Error(l(130,e===null?"null":typeof e,"")),n=null}return t=Ct(h,a,t,r),t.elementType=e,t.type=n,t.lanes=c,t}function ln(e,t,a,n){return e=Ct(7,e,n,t),e.lanes=a,e}function Xr(e,t,a){return e=Ct(6,e,null,t),e.lanes=a,e}function Qr(e,t,a){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Yn=[],Kn=0,nl=null,il=0,Lt=[],qt=0,rn=null,la=1,ra="";function on(e,t){Yn[Kn++]=il,Yn[Kn++]=nl,nl=e,il=t}function id(e,t,a){Lt[qt++]=la,Lt[qt++]=ra,Lt[qt++]=rn,rn=e;var n=la;e=ra;var r=32-vt(n)-1;n&=~(1<<r),a+=1;var c=32-vt(t)+r;if(30<c){var h=r-r%5;c=(n&(1<<h)-1).toString(32),n>>=h,r-=h,la=1<<32-vt(t)+r|a<<r|n,ra=c+e}else la=1<<c|a<<r|n,ra=e}function Ir(e){e.return!==null&&(on(e,1),id(e,1,0))}function Zr(e){for(;e===nl;)nl=Yn[--Kn],Yn[Kn]=null,il=Yn[--Kn],Yn[Kn]=null;for(;e===rn;)rn=Lt[--qt],Lt[qt]=null,ra=Lt[--qt],Lt[qt]=null,la=Lt[--qt],Lt[qt]=null}var mt=null,Ge=null,Ce=!1,un=null,Jt=!1,Jr=Error(l(519));function cn(e){var t=Error(l(418,""));throw Ki(kt(t,e)),Jr}function sd(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[dt]=e,t[bt]=n,a){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(a=0;a<gs.length;a++)we(gs[a],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),_c(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Ks(t);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),Sc(t,n.value,n.defaultValue,n.children),Ks(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||xh(t.textContent,a)?(n.popover!=null&&(we("beforetoggle",t),we("toggle",t)),n.onScroll!=null&&we("scroll",t),n.onScrollEnd!=null&&we("scrollend",t),n.onClick!=null&&(t.onclick=ql),t=!0):t=!1,t||cn(e)}function ld(e){for(mt=e.return;mt;)switch(mt.tag){case 5:case 13:Jt=!1;return;case 27:case 3:Jt=!0;return;default:mt=mt.return}}function Gi(e){if(e!==mt)return!1;if(!Ce)return ld(e),Ce=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||hu(e.type,e.memoizedProps)),a=!a),a&&Ge&&cn(e),ld(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Ge=Kt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Ge=null}}else t===27?(t=Ge,$a(e.type)?(e=mu,mu=null,Ge=e):Ge=t):Ge=mt?Kt(e.stateNode.nextSibling):null;return!0}function Yi(){Ge=mt=null,Ce=!1}function rd(){var e=un;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),un=null),e}function Ki(e){un===null?un=[e]:un.push(e)}var Fr=L(null),dn=null,oa=null;function Ta(e,t,a){K(Fr,t._currentValue),t._currentValue=a}function ua(e){e._currentValue=Fr.current,X(Fr)}function Pr(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Wr(e,t,a,n){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var c=r.dependencies;if(c!==null){var h=r.child;c=c.firstContext;e:for(;c!==null;){var v=c;c=r;for(var _=0;_<t.length;_++)if(v.context===t[_]){c.lanes|=a,v=c.alternate,v!==null&&(v.lanes|=a),Pr(c.return,a,e),n||(h=null);break e}c=v.next}}else if(r.tag===18){if(h=r.return,h===null)throw Error(l(341));h.lanes|=a,c=h.alternate,c!==null&&(c.lanes|=a),Pr(h,a,e),h=null}else h=r.child;if(h!==null)h.return=r;else for(h=r;h!==null;){if(h===e){h=null;break}if(r=h.sibling,r!==null){r.return=h.return,h=r;break}h=h.return}r=h}}function Vi(e,t,a,n){e=null;for(var r=t,c=!1;r!==null;){if(!c){if((r.flags&524288)!==0)c=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var h=r.alternate;if(h===null)throw Error(l(387));if(h=h.memoizedProps,h!==null){var v=r.type;Ot(r.pendingProps.value,h.value)||(e!==null?e.push(v):e=[v])}}else if(r===je.current){if(h=r.alternate,h===null)throw Error(l(387));h.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(_s):e=[_s])}r=r.return}e!==null&&Wr(t,e,a,n),t.flags|=262144}function sl(e){for(e=e.firstContext;e!==null;){if(!Ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fn(e){dn=e,oa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ft(e){return od(dn,e)}function ll(e,t){return dn===null&&fn(e),od(e,t)}function od(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},oa===null){if(e===null)throw Error(l(308));oa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else oa=oa.next=t;return a}var Ty=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Oy=u.unstable_scheduleCallback,Cy=u.unstable_NormalPriority,Je={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eo(){return{controller:new Ty,data:new Map,refCount:0}}function Xi(e){e.refCount--,e.refCount===0&&Oy(Cy,function(){e.controller.abort()})}var Qi=null,to=0,Vn=0,Xn=null;function Ay(e,t){if(Qi===null){var a=Qi=[];to=0,Vn=iu(),Xn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return to++,t.then(ud,ud),t}function ud(){if(--to===0&&Qi!==null){Xn!==null&&(Xn.status="fulfilled");var e=Qi;Qi=null,Vn=0,Xn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function jy(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var r=0;r<a.length;r++)(0,a[r])(t)},function(r){for(n.status="rejected",n.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),n}var cd=R.S;R.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ay(e,t),cd!==null&&cd(e,t)};var hn=L(null);function ao(){var e=hn.current;return e!==null?e:Le.pooledCache}function rl(e,t){t===null?K(hn,hn.current):K(hn,t.pool)}function dd(){var e=ao();return e===null?null:{parent:Je._currentValue,pool:e}}var Ii=Error(l(460)),fd=Error(l(474)),ol=Error(l(542)),no={then:function(){}};function hd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ul(){}function gd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ul,ul),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,vd(e),e;default:if(typeof t.status=="string")t.then(ul,ul);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=n}},function(n){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,vd(e),e}throw Zi=t,Ii}}var Zi=null;function yd(){if(Zi===null)throw Error(l(459));var e=Zi;return Zi=null,e}function vd(e){if(e===Ii||e===ol)throw Error(l(483))}var Oa=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function so(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ca(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Aa(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Ne&2)!==0){var r=n.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t,t=tl(e),ad(e,null,a),t}return el(e,n,t,a),tl(e)}function Ji(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,uc(e,a)}}function lo(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var r=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var h={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?r=c=h:c=c.next=h,a=a.next}while(a!==null);c===null?r=c=t:c=c.next=t}else r=c=t;a={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:c,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var ro=!1;function Fi(){if(ro){var e=Xn;if(e!==null)throw e}}function Pi(e,t,a,n){ro=!1;var r=e.updateQueue;Oa=!1;var c=r.firstBaseUpdate,h=r.lastBaseUpdate,v=r.shared.pending;if(v!==null){r.shared.pending=null;var _=v,C=_.next;_.next=null,h===null?c=C:h.next=C,h=_;var D=e.alternate;D!==null&&(D=D.updateQueue,v=D.lastBaseUpdate,v!==h&&(v===null?D.firstBaseUpdate=C:v.next=C,D.lastBaseUpdate=_))}if(c!==null){var z=r.baseState;h=0,D=C=_=null,v=c;do{var j=v.lane&-536870913,N=j!==v.lane;if(N?(Ee&j)===j:(n&j)===j){j!==0&&j===Vn&&(ro=!0),D!==null&&(D=D.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ce=e,re=v;j=t;var De=a;switch(re.tag){case 1:if(ce=re.payload,typeof ce=="function"){z=ce.call(De,z,j);break e}z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=re.payload,j=typeof ce=="function"?ce.call(De,z,j):ce,j==null)break e;z=b({},z,j);break e;case 2:Oa=!0}}j=v.callback,j!==null&&(e.flags|=64,N&&(e.flags|=8192),N=r.callbacks,N===null?r.callbacks=[j]:N.push(j))}else N={lane:j,tag:v.tag,payload:v.payload,callback:v.callback,next:null},D===null?(C=D=N,_=z):D=D.next=N,h|=j;if(v=v.next,v===null){if(v=r.shared.pending,v===null)break;N=v,v=N.next,N.next=null,r.lastBaseUpdate=N,r.shared.pending=null}}while(!0);D===null&&(_=z),r.baseState=_,r.firstBaseUpdate=C,r.lastBaseUpdate=D,c===null&&(r.shared.lanes=0),za|=h,e.lanes=h,e.memoizedState=z}}function md(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function pd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)md(a[e],t)}var Qn=L(null),cl=L(0);function bd(e,t){e=va,K(cl,e),K(Qn,t),va=e|t.baseLanes}function oo(){K(cl,va),K(Qn,Qn.current)}function uo(){va=cl.current,X(Qn),X(cl)}var ja=0,me=null,Me=null,Xe=null,dl=!1,In=!1,gn=!1,fl=0,Wi=0,Zn=null,Ny=0;function Ke(){throw Error(l(321))}function co(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ot(e[a],t[a]))return!1;return!0}function fo(e,t,a,n,r,c){return ja=c,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?af:nf,gn=!1,c=a(n,r),gn=!1,In&&(c=wd(t,a,n,r)),_d(e),c}function _d(e){R.H=pl;var t=Me!==null&&Me.next!==null;if(ja=0,Xe=Me=me=null,dl=!1,Wi=0,Zn=null,t)throw Error(l(300));e===null||at||(e=e.dependencies,e!==null&&sl(e)&&(at=!0))}function wd(e,t,a,n){me=e;var r=0;do{if(In&&(Zn=null),Wi=0,In=!1,25<=r)throw Error(l(301));if(r+=1,Xe=Me=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}R.H=Ly,c=t(a,n)}while(In);return c}function Ry(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?es(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(me.flags|=1024),t}function ho(){var e=fl!==0;return fl=0,e}function go(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function yo(e){if(dl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}dl=!1}ja=0,Xe=Me=me=null,In=!1,Wi=fl=0,Zn=null}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?me.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Qe(){if(Me===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Xe===null?me.memoizedState:Xe.next;if(t!==null)Xe=t,Me=e;else{if(e===null)throw me.alternate===null?Error(l(467)):Error(l(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Xe===null?me.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function vo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function es(e){var t=Wi;return Wi+=1,Zn===null&&(Zn=[]),e=gd(Zn,e,t),t=me,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?af:nf),e}function hl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return es(e);if(e.$$typeof===$)return ft(e)}throw Error(l(438,String(e)))}function mo(e){var t=null,a=me.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=me.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=vo(),me.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=ue;return t.index++,a}function ca(e,t){return typeof t=="function"?t(e):t}function gl(e){var t=Qe();return po(t,Me,e)}function po(e,t,a){var n=e.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=a;var r=e.baseQueue,c=n.pending;if(c!==null){if(r!==null){var h=r.next;r.next=c.next,c.next=h}t.baseQueue=r=c,n.pending=null}if(c=e.baseState,r===null)e.memoizedState=c;else{t=r.next;var v=h=null,_=null,C=t,D=!1;do{var z=C.lane&-536870913;if(z!==C.lane?(Ee&z)===z:(ja&z)===z){var j=C.revertLane;if(j===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),z===Vn&&(D=!0);else if((ja&j)===j){C=C.next,j===Vn&&(D=!0);continue}else z={lane:0,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},_===null?(v=_=z,h=c):_=_.next=z,me.lanes|=j,za|=j;z=C.action,gn&&a(c,z),c=C.hasEagerState?C.eagerState:a(c,z)}else j={lane:z,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},_===null?(v=_=j,h=c):_=_.next=j,me.lanes|=z,za|=z;C=C.next}while(C!==null&&C!==t);if(_===null?h=c:_.next=v,!Ot(c,e.memoizedState)&&(at=!0,D&&(a=Xn,a!==null)))throw a;e.memoizedState=c,e.baseState=h,e.baseQueue=_,n.lastRenderedState=c}return r===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function bo(e){var t=Qe(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var n=a.dispatch,r=a.pending,c=t.memoizedState;if(r!==null){a.pending=null;var h=r=r.next;do c=e(c,h.action),h=h.next;while(h!==r);Ot(c,t.memoizedState)||(at=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,n]}function Sd(e,t,a){var n=me,r=Qe(),c=Ce;if(c){if(a===void 0)throw Error(l(407));a=a()}else a=t();var h=!Ot((Me||r).memoizedState,a);h&&(r.memoizedState=a,at=!0),r=r.queue;var v=Td.bind(null,n,r,e);if(ts(2048,8,v,[e]),r.getSnapshot!==t||h||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,Jn(9,yl(),Ed.bind(null,n,r,a,t),null),Le===null)throw Error(l(349));c||(ja&124)!==0||xd(n,t,a)}return a}function xd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=me.updateQueue,t===null?(t=vo(),me.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Ed(e,t,a,n){t.value=a,t.getSnapshot=n,Od(t)&&Cd(e)}function Td(e,t,a){return a(function(){Od(t)&&Cd(e)})}function Od(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ot(e,a)}catch{return!0}}function Cd(e){var t=Hn(e,2);t!==null&&Mt(t,e,2)}function _o(e){var t=wt();if(typeof e=="function"){var a=e;if(e=a(),gn){It(!0);try{a()}finally{It(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e},t}function Ad(e,t,a,n){return e.baseState=a,po(e,Me,typeof n=="function"?n:ca)}function My(e,t,a,n,r){if(ml(e))throw Error(l(485));if(e=t.action,e!==null){var c={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){c.listeners.push(h)}};R.T!==null?a(!0):c.isTransition=!1,n(c),a=t.pending,a===null?(c.next=t.pending=c,jd(t,c)):(c.next=a.next,t.pending=a.next=c)}}function jd(e,t){var a=t.action,n=t.payload,r=e.state;if(t.isTransition){var c=R.T,h={};R.T=h;try{var v=a(r,n),_=R.S;_!==null&&_(h,v),Nd(e,t,v)}catch(C){wo(e,t,C)}finally{R.T=c}}else try{c=a(r,n),Nd(e,t,c)}catch(C){wo(e,t,C)}}function Nd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Rd(e,t,n)},function(n){return wo(e,t,n)}):Rd(e,t,a)}function Rd(e,t,a){t.status="fulfilled",t.value=a,Md(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,jd(e,a)))}function wo(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Md(t),t=t.next;while(t!==n)}e.action=null}function Md(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ud(e,t){return t}function Dd(e,t){if(Ce){var a=Le.formState;if(a!==null){e:{var n=me;if(Ce){if(Ge){t:{for(var r=Ge,c=Jt;r.nodeType!==8;){if(!c){r=null;break t}if(r=Kt(r.nextSibling),r===null){r=null;break t}}c=r.data,r=c==="F!"||c==="F"?r:null}if(r){Ge=Kt(r.nextSibling),n=r.data==="F!";break e}}cn(n)}n=!1}n&&(t=a[0])}}return a=wt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ud,lastRenderedState:t},a.queue=n,a=Wd.bind(null,me,n),n.dispatch=a,n=_o(!1),c=Oo.bind(null,me,!1,n.queue),n=wt(),r={state:t,dispatch:null,action:e,pending:null},n.queue=r,a=My.bind(null,me,r,c,a),r.dispatch=a,n.memoizedState=e,[t,a,!1]}function kd(e){var t=Qe();return zd(t,Me,e)}function zd(e,t,a){if(t=po(e,t,Ud)[0],e=gl(ca)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=es(t)}catch(h){throw h===Ii?ol:h}else n=t;t=Qe();var r=t.queue,c=r.dispatch;return a!==t.memoizedState&&(me.flags|=2048,Jn(9,yl(),Uy.bind(null,r,a),null)),[n,c,e]}function Uy(e,t){e.action=t}function Ld(e){var t=Qe(),a=Me;if(a!==null)return zd(t,a,e);Qe(),t=t.memoizedState,a=Qe();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Jn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=me.updateQueue,t===null&&(t=vo(),me.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function yl(){return{destroy:void 0,resource:void 0}}function qd(){return Qe().memoizedState}function vl(e,t,a,n){var r=wt();n=n===void 0?null:n,me.flags|=e,r.memoizedState=Jn(1|t,yl(),a,n)}function ts(e,t,a,n){var r=Qe();n=n===void 0?null:n;var c=r.memoizedState.inst;Me!==null&&n!==null&&co(n,Me.memoizedState.deps)?r.memoizedState=Jn(t,c,a,n):(me.flags|=e,r.memoizedState=Jn(1|t,c,a,n))}function Bd(e,t){vl(8390656,8,e,t)}function $d(e,t){ts(2048,8,e,t)}function Hd(e,t){return ts(4,2,e,t)}function Gd(e,t){return ts(4,4,e,t)}function Yd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kd(e,t,a){a=a!=null?a.concat([e]):null,ts(4,4,Yd.bind(null,t,e),a)}function So(){}function Vd(e,t){var a=Qe();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&co(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Xd(e,t){var a=Qe();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&co(t,n[1]))return n[0];if(n=e(),gn){It(!0);try{e()}finally{It(!1)}}return a.memoizedState=[n,t],n}function xo(e,t,a){return a===void 0||(ja&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=Jf(),me.lanes|=e,za|=e,a)}function Qd(e,t,a,n){return Ot(a,t)?a:Qn.current!==null?(e=xo(e,a,n),Ot(e,t)||(at=!0),e):(ja&42)===0?(at=!0,e.memoizedState=a):(e=Jf(),me.lanes|=e,za|=e,t)}function Id(e,t,a,n,r){var c=V.p;V.p=c!==0&&8>c?c:8;var h=R.T,v={};R.T=v,Oo(e,!1,t,a);try{var _=r(),C=R.S;if(C!==null&&C(v,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var D=jy(_,n);as(e,t,D,Rt(e))}else as(e,t,n,Rt(e))}catch(z){as(e,t,{then:function(){},status:"rejected",reason:z},Rt())}finally{V.p=c,R.T=h}}function Dy(){}function Eo(e,t,a,n){if(e.tag!==5)throw Error(l(476));var r=Zd(e).queue;Id(e,r,t,le,a===null?Dy:function(){return Jd(e),a(n)})}function Zd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:le},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Jd(e){var t=Zd(e).next.queue;as(e,t,{},Rt())}function To(){return ft(_s)}function Fd(){return Qe().memoizedState}function Pd(){return Qe().memoizedState}function ky(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Rt();e=Ca(a);var n=Aa(t,e,a);n!==null&&(Mt(n,t,a),Ji(n,t,a)),t={cache:eo()},e.payload=t;return}t=t.return}}function zy(e,t,a){var n=Rt();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ml(e)?ef(t,a):(a=Kr(e,t,a,n),a!==null&&(Mt(a,e,n),tf(a,t,n)))}function Wd(e,t,a){var n=Rt();as(e,t,a,n)}function as(e,t,a,n){var r={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ml(e))ef(t,r);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,v=c(h,a);if(r.hasEagerState=!0,r.eagerState=v,Ot(v,h))return el(e,t,r,0),Le===null&&Ws(),!1}catch{}finally{}if(a=Kr(e,t,r,n),a!==null)return Mt(a,e,n),tf(a,t,n),!0}return!1}function Oo(e,t,a,n){if(n={lane:2,revertLane:iu(),action:n,hasEagerState:!1,eagerState:null,next:null},ml(e)){if(t)throw Error(l(479))}else t=Kr(e,a,n,2),t!==null&&Mt(t,e,2)}function ml(e){var t=e.alternate;return e===me||t!==null&&t===me}function ef(e,t){In=dl=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function tf(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,uc(e,a)}}var pl={readContext:ft,use:hl,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke},af={readContext:ft,use:hl,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:Bd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,vl(4194308,4,Yd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return vl(4194308,4,e,t)},useInsertionEffect:function(e,t){vl(4,2,e,t)},useMemo:function(e,t){var a=wt();t=t===void 0?null:t;var n=e();if(gn){It(!0);try{e()}finally{It(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=wt();if(a!==void 0){var r=a(t);if(gn){It(!0);try{a(t)}finally{It(!1)}}}else r=t;return n.memoizedState=n.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=zy.bind(null,me,e),[n.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:function(e){e=_o(e);var t=e.queue,a=Wd.bind(null,me,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:So,useDeferredValue:function(e,t){var a=wt();return xo(a,e,t)},useTransition:function(){var e=_o(!1);return e=Id.bind(null,me,e.queue,!0,!1),wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=me,r=wt();if(Ce){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Le===null)throw Error(l(349));(Ee&124)!==0||xd(n,t,a)}r.memoizedState=a;var c={value:a,getSnapshot:t};return r.queue=c,Bd(Td.bind(null,n,c,e),[e]),n.flags|=2048,Jn(9,yl(),Ed.bind(null,n,c,a,t),null),a},useId:function(){var e=wt(),t=Le.identifierPrefix;if(Ce){var a=ra,n=la;a=(n&~(1<<32-vt(n)-1)).toString(32)+a,t="«"+t+"R"+a,a=fl++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=Ny++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:To,useFormState:Dd,useActionState:Dd,useOptimistic:function(e){var t=wt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Oo.bind(null,me,!0,a),a.dispatch=t,[e,t]},useMemoCache:mo,useCacheRefresh:function(){return wt().memoizedState=ky.bind(null,me)}},nf={readContext:ft,use:hl,useCallback:Vd,useContext:ft,useEffect:$d,useImperativeHandle:Kd,useInsertionEffect:Hd,useLayoutEffect:Gd,useMemo:Xd,useReducer:gl,useRef:qd,useState:function(){return gl(ca)},useDebugValue:So,useDeferredValue:function(e,t){var a=Qe();return Qd(a,Me.memoizedState,e,t)},useTransition:function(){var e=gl(ca)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:es(e),t]},useSyncExternalStore:Sd,useId:Fd,useHostTransitionStatus:To,useFormState:kd,useActionState:kd,useOptimistic:function(e,t){var a=Qe();return Ad(a,Me,e,t)},useMemoCache:mo,useCacheRefresh:Pd},Ly={readContext:ft,use:hl,useCallback:Vd,useContext:ft,useEffect:$d,useImperativeHandle:Kd,useInsertionEffect:Hd,useLayoutEffect:Gd,useMemo:Xd,useReducer:bo,useRef:qd,useState:function(){return bo(ca)},useDebugValue:So,useDeferredValue:function(e,t){var a=Qe();return Me===null?xo(a,e,t):Qd(a,Me.memoizedState,e,t)},useTransition:function(){var e=bo(ca)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:es(e),t]},useSyncExternalStore:Sd,useId:Fd,useHostTransitionStatus:To,useFormState:Ld,useActionState:Ld,useOptimistic:function(e,t){var a=Qe();return Me!==null?Ad(a,Me,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:mo,useCacheRefresh:Pd},Fn=null,ns=0;function bl(e){var t=ns;return ns+=1,Fn===null&&(Fn=[]),gd(Fn,e,t)}function is(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function _l(e,t){throw t.$$typeof===x?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function sf(e){var t=e._init;return t(e._payload)}function lf(e){function t(E,S){if(e){var T=E.deletions;T===null?(E.deletions=[S],E.flags|=16):T.push(S)}}function a(E,S){if(!e)return null;for(;S!==null;)t(E,S),S=S.sibling;return null}function n(E){for(var S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function r(E,S){return E=sa(E,S),E.index=0,E.sibling=null,E}function c(E,S,T){return E.index=T,e?(T=E.alternate,T!==null?(T=T.index,T<S?(E.flags|=67108866,S):T):(E.flags|=67108866,S)):(E.flags|=1048576,S)}function h(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function v(E,S,T,k){return S===null||S.tag!==6?(S=Xr(T,E.mode,k),S.return=E,S):(S=r(S,T),S.return=E,S)}function _(E,S,T,k){var F=T.type;return F===U?D(E,S,T.props.children,k,T.key):S!==null&&(S.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===de&&sf(F)===S.type)?(S=r(S,T.props),is(S,T),S.return=E,S):(S=al(T.type,T.key,T.props,null,E.mode,k),is(S,T),S.return=E,S)}function C(E,S,T,k){return S===null||S.tag!==4||S.stateNode.containerInfo!==T.containerInfo||S.stateNode.implementation!==T.implementation?(S=Qr(T,E.mode,k),S.return=E,S):(S=r(S,T.children||[]),S.return=E,S)}function D(E,S,T,k,F){return S===null||S.tag!==7?(S=ln(T,E.mode,k,F),S.return=E,S):(S=r(S,T),S.return=E,S)}function z(E,S,T){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Xr(""+S,E.mode,T),S.return=E,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case O:return T=al(S.type,S.key,S.props,null,E.mode,T),is(T,S),T.return=E,T;case A:return S=Qr(S,E.mode,T),S.return=E,S;case de:var k=S._init;return S=k(S._payload),z(E,S,T)}if(Oe(S)||P(S))return S=ln(S,E.mode,T,null),S.return=E,S;if(typeof S.then=="function")return z(E,bl(S),T);if(S.$$typeof===$)return z(E,ll(E,S),T);_l(E,S)}return null}function j(E,S,T,k){var F=S!==null?S.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return F!==null?null:v(E,S,""+T,k);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case O:return T.key===F?_(E,S,T,k):null;case A:return T.key===F?C(E,S,T,k):null;case de:return F=T._init,T=F(T._payload),j(E,S,T,k)}if(Oe(T)||P(T))return F!==null?null:D(E,S,T,k,null);if(typeof T.then=="function")return j(E,S,bl(T),k);if(T.$$typeof===$)return j(E,S,ll(E,T),k);_l(E,T)}return null}function N(E,S,T,k,F){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return E=E.get(T)||null,v(S,E,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case O:return E=E.get(k.key===null?T:k.key)||null,_(S,E,k,F);case A:return E=E.get(k.key===null?T:k.key)||null,C(S,E,k,F);case de:var be=k._init;return k=be(k._payload),N(E,S,T,k,F)}if(Oe(k)||P(k))return E=E.get(T)||null,D(S,E,k,F,null);if(typeof k.then=="function")return N(E,S,T,bl(k),F);if(k.$$typeof===$)return N(E,S,T,ll(S,k),F);_l(S,k)}return null}function ce(E,S,T,k){for(var F=null,be=null,ne=S,oe=S=0,it=null;ne!==null&&oe<T.length;oe++){ne.index>oe?(it=ne,ne=null):it=ne.sibling;var Te=j(E,ne,T[oe],k);if(Te===null){ne===null&&(ne=it);break}e&&ne&&Te.alternate===null&&t(E,ne),S=c(Te,S,oe),be===null?F=Te:be.sibling=Te,be=Te,ne=it}if(oe===T.length)return a(E,ne),Ce&&on(E,oe),F;if(ne===null){for(;oe<T.length;oe++)ne=z(E,T[oe],k),ne!==null&&(S=c(ne,S,oe),be===null?F=ne:be.sibling=ne,be=ne);return Ce&&on(E,oe),F}for(ne=n(ne);oe<T.length;oe++)it=N(ne,E,oe,T[oe],k),it!==null&&(e&&it.alternate!==null&&ne.delete(it.key===null?oe:it.key),S=c(it,S,oe),be===null?F=it:be.sibling=it,be=it);return e&&ne.forEach(function(Va){return t(E,Va)}),Ce&&on(E,oe),F}function re(E,S,T,k){if(T==null)throw Error(l(151));for(var F=null,be=null,ne=S,oe=S=0,it=null,Te=T.next();ne!==null&&!Te.done;oe++,Te=T.next()){ne.index>oe?(it=ne,ne=null):it=ne.sibling;var Va=j(E,ne,Te.value,k);if(Va===null){ne===null&&(ne=it);break}e&&ne&&Va.alternate===null&&t(E,ne),S=c(Va,S,oe),be===null?F=Va:be.sibling=Va,be=Va,ne=it}if(Te.done)return a(E,ne),Ce&&on(E,oe),F;if(ne===null){for(;!Te.done;oe++,Te=T.next())Te=z(E,Te.value,k),Te!==null&&(S=c(Te,S,oe),be===null?F=Te:be.sibling=Te,be=Te);return Ce&&on(E,oe),F}for(ne=n(ne);!Te.done;oe++,Te=T.next())Te=N(ne,E,oe,Te.value,k),Te!==null&&(e&&Te.alternate!==null&&ne.delete(Te.key===null?oe:Te.key),S=c(Te,S,oe),be===null?F=Te:be.sibling=Te,be=Te);return e&&ne.forEach(function(qv){return t(E,qv)}),Ce&&on(E,oe),F}function De(E,S,T,k){if(typeof T=="object"&&T!==null&&T.type===U&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case O:e:{for(var F=T.key;S!==null;){if(S.key===F){if(F=T.type,F===U){if(S.tag===7){a(E,S.sibling),k=r(S,T.props.children),k.return=E,E=k;break e}}else if(S.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===de&&sf(F)===S.type){a(E,S.sibling),k=r(S,T.props),is(k,T),k.return=E,E=k;break e}a(E,S);break}else t(E,S);S=S.sibling}T.type===U?(k=ln(T.props.children,E.mode,k,T.key),k.return=E,E=k):(k=al(T.type,T.key,T.props,null,E.mode,k),is(k,T),k.return=E,E=k)}return h(E);case A:e:{for(F=T.key;S!==null;){if(S.key===F)if(S.tag===4&&S.stateNode.containerInfo===T.containerInfo&&S.stateNode.implementation===T.implementation){a(E,S.sibling),k=r(S,T.children||[]),k.return=E,E=k;break e}else{a(E,S);break}else t(E,S);S=S.sibling}k=Qr(T,E.mode,k),k.return=E,E=k}return h(E);case de:return F=T._init,T=F(T._payload),De(E,S,T,k)}if(Oe(T))return ce(E,S,T,k);if(P(T)){if(F=P(T),typeof F!="function")throw Error(l(150));return T=F.call(T),re(E,S,T,k)}if(typeof T.then=="function")return De(E,S,bl(T),k);if(T.$$typeof===$)return De(E,S,ll(E,T),k);_l(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,S!==null&&S.tag===6?(a(E,S.sibling),k=r(S,T),k.return=E,E=k):(a(E,S),k=Xr(T,E.mode,k),k.return=E,E=k),h(E)):a(E,S)}return function(E,S,T,k){try{ns=0;var F=De(E,S,T,k);return Fn=null,F}catch(ne){if(ne===Ii||ne===ol)throw ne;var be=Ct(29,ne,null,E.mode);return be.lanes=k,be.return=E,be}finally{}}}var Pn=lf(!0),rf=lf(!1),Bt=L(null),Ft=null;function Na(e){var t=e.alternate;K(Fe,Fe.current&1),K(Bt,e),Ft===null&&(t===null||Qn.current!==null||t.memoizedState!==null)&&(Ft=e)}function of(e){if(e.tag===22){if(K(Fe,Fe.current),K(Bt,e),Ft===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Ft=e)}}else Ra()}function Ra(){K(Fe,Fe.current),K(Bt,Bt.current)}function da(e){X(Bt),Ft===e&&(Ft=null),X(Fe)}var Fe=L(0);function wl(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||vu(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Co(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ao={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Rt(),r=Ca(n);r.payload=t,a!=null&&(r.callback=a),t=Aa(e,r,n),t!==null&&(Mt(t,e,n),Ji(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Rt(),r=Ca(n);r.tag=1,r.payload=t,a!=null&&(r.callback=a),t=Aa(e,r,n),t!==null&&(Mt(t,e,n),Ji(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Rt(),n=Ca(a);n.tag=2,t!=null&&(n.callback=t),t=Aa(e,n,a),t!==null&&(Mt(t,e,a),Ji(t,e,a))}};function uf(e,t,a,n,r,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,c,h):t.prototype&&t.prototype.isPureReactComponent?!$i(a,n)||!$i(r,c):!0}function cf(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Ao.enqueueReplaceState(t,t.state,null)}function yn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var r in e)a[r]===void 0&&(a[r]=e[r])}return a}var Sl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function df(e){Sl(e)}function ff(e){console.error(e)}function hf(e){Sl(e)}function xl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function gf(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function jo(e,t,a){return a=Ca(a),a.tag=3,a.payload={element:null},a.callback=function(){xl(e,t)},a}function yf(e){return e=Ca(e),e.tag=3,e}function vf(e,t,a,n){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var c=n.value;e.payload=function(){return r(c)},e.callback=function(){gf(t,a,n)}}var h=a.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){gf(t,a,n),typeof r!="function"&&(La===null?La=new Set([this]):La.add(this));var v=n.stack;this.componentDidCatch(n.value,{componentStack:v!==null?v:""})})}function qy(e,t,a,n,r){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Vi(t,a,r,!0),a=Bt.current,a!==null){switch(a.tag){case 13:return Ft===null?Wo():a.alternate===null&&Ye===0&&(Ye=3),a.flags&=-257,a.flags|=65536,a.lanes=r,n===no?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),tu(e,n,r)),!1;case 22:return a.flags|=65536,n===no?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),tu(e,n,r)),!1}throw Error(l(435,a.tag))}return tu(e,n,r),Wo(),!1}if(Ce)return t=Bt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,n!==Jr&&(e=Error(l(422),{cause:n}),Ki(kt(e,a)))):(n!==Jr&&(t=Error(l(423),{cause:n}),Ki(kt(t,a))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,n=kt(n,a),r=jo(e.stateNode,n,r),lo(e,r),Ye!==4&&(Ye=2)),!1;var c=Error(l(520),{cause:n});if(c=kt(c,a),ds===null?ds=[c]:ds.push(c),Ye!==4&&(Ye=2),t===null)return!0;n=kt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,e=jo(a.stateNode,n,e),lo(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(La===null||!La.has(c))))return a.flags|=65536,r&=-r,a.lanes|=r,r=yf(r),vf(r,e,a,n),lo(a,r),!1}a=a.return}while(a!==null);return!1}var mf=Error(l(461)),at=!1;function lt(e,t,a,n){t.child=e===null?rf(t,null,a,n):Pn(t,e.child,a,n)}function pf(e,t,a,n,r){a=a.render;var c=t.ref;if("ref"in n){var h={};for(var v in n)v!=="ref"&&(h[v]=n[v])}else h=n;return fn(t),n=fo(e,t,a,h,c,r),v=ho(),e!==null&&!at?(go(e,t,r),fa(e,t,r)):(Ce&&v&&Ir(t),t.flags|=1,lt(e,t,n,r),t.child)}function bf(e,t,a,n,r){if(e===null){var c=a.type;return typeof c=="function"&&!Vr(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,_f(e,t,c,n,r)):(e=al(a.type,null,n,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Lo(e,r)){var h=c.memoizedProps;if(a=a.compare,a=a!==null?a:$i,a(h,n)&&e.ref===t.ref)return fa(e,t,r)}return t.flags|=1,e=sa(c,n),e.ref=t.ref,e.return=t,t.child=e}function _f(e,t,a,n,r){if(e!==null){var c=e.memoizedProps;if($i(c,n)&&e.ref===t.ref)if(at=!1,t.pendingProps=n=c,Lo(e,r))(e.flags&131072)!==0&&(at=!0);else return t.lanes=e.lanes,fa(e,t,r)}return No(e,t,a,n,r)}function wf(e,t,a){var n=t.pendingProps,r=n.children,c=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=c!==null?c.baseLanes|a:a,e!==null){for(r=t.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;t.childLanes=c&~n}else t.childLanes=0,t.child=null;return Sf(e,t,n,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&rl(t,c!==null?c.cachePool:null),c!==null?bd(t,c):oo(),of(t);else return t.lanes=t.childLanes=536870912,Sf(e,t,c!==null?c.baseLanes|a:a,a)}else c!==null?(rl(t,c.cachePool),bd(t,c),Ra(),t.memoizedState=null):(e!==null&&rl(t,null),oo(),Ra());return lt(e,t,r,a),t.child}function Sf(e,t,a,n){var r=ao();return r=r===null?null:{parent:Je._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&rl(t,null),oo(),of(t),e!==null&&Vi(e,t,n,!0),null}function El(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function No(e,t,a,n,r){return fn(t),a=fo(e,t,a,n,void 0,r),n=ho(),e!==null&&!at?(go(e,t,r),fa(e,t,r)):(Ce&&n&&Ir(t),t.flags|=1,lt(e,t,a,r),t.child)}function xf(e,t,a,n,r,c){return fn(t),t.updateQueue=null,a=wd(t,n,a,r),_d(e),n=ho(),e!==null&&!at?(go(e,t,c),fa(e,t,c)):(Ce&&n&&Ir(t),t.flags|=1,lt(e,t,a,c),t.child)}function Ef(e,t,a,n,r){if(fn(t),t.stateNode===null){var c=Gn,h=a.contextType;typeof h=="object"&&h!==null&&(c=ft(h)),c=new a(n,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Ao,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=n,c.state=t.memoizedState,c.refs={},io(t),h=a.contextType,c.context=typeof h=="object"&&h!==null?ft(h):Gn,c.state=t.memoizedState,h=a.getDerivedStateFromProps,typeof h=="function"&&(Co(t,a,h,n),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(h=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),h!==c.state&&Ao.enqueueReplaceState(c,c.state,null),Pi(t,n,c,r),Fi(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){c=t.stateNode;var v=t.memoizedProps,_=yn(a,v);c.props=_;var C=c.context,D=a.contextType;h=Gn,typeof D=="object"&&D!==null&&(h=ft(D));var z=a.getDerivedStateFromProps;D=typeof z=="function"||typeof c.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,D||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(v||C!==h)&&cf(t,c,n,h),Oa=!1;var j=t.memoizedState;c.state=j,Pi(t,n,c,r),Fi(),C=t.memoizedState,v||j!==C||Oa?(typeof z=="function"&&(Co(t,a,z,n),C=t.memoizedState),(_=Oa||uf(t,a,_,n,j,C,h))?(D||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=C),c.props=n,c.state=C,c.context=h,n=_):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{c=t.stateNode,so(e,t),h=t.memoizedProps,D=yn(a,h),c.props=D,z=t.pendingProps,j=c.context,C=a.contextType,_=Gn,typeof C=="object"&&C!==null&&(_=ft(C)),v=a.getDerivedStateFromProps,(C=typeof v=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==z||j!==_)&&cf(t,c,n,_),Oa=!1,j=t.memoizedState,c.state=j,Pi(t,n,c,r),Fi();var N=t.memoizedState;h!==z||j!==N||Oa||e!==null&&e.dependencies!==null&&sl(e.dependencies)?(typeof v=="function"&&(Co(t,a,v,n),N=t.memoizedState),(D=Oa||uf(t,a,D,n,j,N,_)||e!==null&&e.dependencies!==null&&sl(e.dependencies))?(C||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,N,_),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,N,_)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=N),c.props=n,c.state=N,c.context=_,n=D):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),n=!1)}return c=n,El(e,t),n=(t.flags&128)!==0,c||n?(c=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&n?(t.child=Pn(t,e.child,null,r),t.child=Pn(t,null,a,r)):lt(e,t,a,r),t.memoizedState=c.state,e=t.child):e=fa(e,t,r),e}function Tf(e,t,a,n){return Yi(),t.flags|=256,lt(e,t,a,n),t.child}var Ro={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mo(e){return{baseLanes:e,cachePool:dd()}}function Uo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=$t),e}function Of(e,t,a){var n=t.pendingProps,r=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),h&&(r=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ce){if(r?Na(t):Ra(),Ce){var v=Ge,_;if(_=v){e:{for(_=v,v=Jt;_.nodeType!==8;){if(!v){v=null;break e}if(_=Kt(_.nextSibling),_===null){v=null;break e}}v=_}v!==null?(t.memoizedState={dehydrated:v,treeContext:rn!==null?{id:la,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},_=Ct(18,null,null,0),_.stateNode=v,_.return=t,t.child=_,mt=t,Ge=null,_=!0):_=!1}_||cn(t)}if(v=t.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return vu(v)?t.lanes=32:t.lanes=536870912,null;da(t)}return v=n.children,n=n.fallback,r?(Ra(),r=t.mode,v=Tl({mode:"hidden",children:v},r),n=ln(n,r,a,null),v.return=t,n.return=t,v.sibling=n,t.child=v,r=t.child,r.memoizedState=Mo(a),r.childLanes=Uo(e,h,a),t.memoizedState=Ro,n):(Na(t),Do(t,v))}if(_=e.memoizedState,_!==null&&(v=_.dehydrated,v!==null)){if(c)t.flags&256?(Na(t),t.flags&=-257,t=ko(e,t,a)):t.memoizedState!==null?(Ra(),t.child=e.child,t.flags|=128,t=null):(Ra(),r=n.fallback,v=t.mode,n=Tl({mode:"visible",children:n.children},v),r=ln(r,v,a,null),r.flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,Pn(t,e.child,null,a),n=t.child,n.memoizedState=Mo(a),n.childLanes=Uo(e,h,a),t.memoizedState=Ro,t=r);else if(Na(t),vu(v)){if(h=v.nextSibling&&v.nextSibling.dataset,h)var C=h.dgst;h=C,n=Error(l(419)),n.stack="",n.digest=h,Ki({value:n,source:null,stack:null}),t=ko(e,t,a)}else if(at||Vi(e,t,a,!1),h=(a&e.childLanes)!==0,at||h){if(h=Le,h!==null&&(n=a&-a,n=(n&42)!==0?1:vr(n),n=(n&(h.suspendedLanes|a))!==0?0:n,n!==0&&n!==_.retryLane))throw _.retryLane=n,Hn(e,n),Mt(h,e,n),mf;v.data==="$?"||Wo(),t=ko(e,t,a)}else v.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Ge=Kt(v.nextSibling),mt=t,Ce=!0,un=null,Jt=!1,e!==null&&(Lt[qt++]=la,Lt[qt++]=ra,Lt[qt++]=rn,la=e.id,ra=e.overflow,rn=t),t=Do(t,n.children),t.flags|=4096);return t}return r?(Ra(),r=n.fallback,v=t.mode,_=e.child,C=_.sibling,n=sa(_,{mode:"hidden",children:n.children}),n.subtreeFlags=_.subtreeFlags&65011712,C!==null?r=sa(C,r):(r=ln(r,v,a,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,n=r,r=t.child,v=e.child.memoizedState,v===null?v=Mo(a):(_=v.cachePool,_!==null?(C=Je._currentValue,_=_.parent!==C?{parent:C,pool:C}:_):_=dd(),v={baseLanes:v.baseLanes|a,cachePool:_}),r.memoizedState=v,r.childLanes=Uo(e,h,a),t.memoizedState=Ro,n):(Na(t),a=e.child,e=a.sibling,a=sa(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=a,t.memoizedState=null,a)}function Do(e,t){return t=Tl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Tl(e,t){return e=Ct(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ko(e,t,a){return Pn(t,e.child,null,a),e=Do(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cf(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Pr(e.return,t,a)}function zo(e,t,a,n,r){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:r}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=n,c.tail=a,c.tailMode=r)}function Af(e,t,a){var n=t.pendingProps,r=n.revealOrder,c=n.tail;if(lt(e,t,n.children,a),n=Fe.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cf(e,a,t);else if(e.tag===19)Cf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(K(Fe,n),r){case"forwards":for(a=t.child,r=null;a!==null;)e=a.alternate,e!==null&&wl(e)===null&&(r=a),a=a.sibling;a=r,a===null?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),zo(t,!1,r,a,c);break;case"backwards":for(a=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&wl(e)===null){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}zo(t,!0,a,null,c);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),za|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Vi(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=sa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=sa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Lo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&sl(e)))}function By(e,t,a){switch(t.tag){case 3:I(t,t.stateNode.containerInfo),Ta(t,Je,e.memoizedState.cache),Yi();break;case 27:case 5:Qt(t);break;case 4:I(t,t.stateNode.containerInfo);break;case 10:Ta(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Na(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Of(e,t,a):(Na(t),e=fa(e,t,a),e!==null?e.sibling:null);Na(t);break;case 19:var r=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Vi(e,t,a,!1),n=(a&t.childLanes)!==0),r){if(n)return Af(e,t,a);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),K(Fe,Fe.current),n)break;return null;case 22:case 23:return t.lanes=0,wf(e,t,a);case 24:Ta(t,Je,e.memoizedState.cache)}return fa(e,t,a)}function jf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)at=!0;else{if(!Lo(e,a)&&(t.flags&128)===0)return at=!1,By(e,t,a);at=(e.flags&131072)!==0}else at=!1,Ce&&(t.flags&1048576)!==0&&id(t,il,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,r=n._init;if(n=r(n._payload),t.type=n,typeof n=="function")Vr(n)?(e=yn(n,e),t.tag=1,t=Ef(null,t,n,e,a)):(t.tag=0,t=No(null,t,n,e,a));else{if(n!=null){if(r=n.$$typeof,r===W){t.tag=11,t=pf(null,t,n,e,a);break e}else if(r===ye){t.tag=14,t=bf(null,t,n,e,a);break e}}throw t=Ae(n)||n,Error(l(306,t,""))}}return t;case 0:return No(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,r=yn(n,t.pendingProps),Ef(e,t,n,r,a);case 3:e:{if(I(t,t.stateNode.containerInfo),e===null)throw Error(l(387));n=t.pendingProps;var c=t.memoizedState;r=c.element,so(e,t),Pi(t,n,null,a);var h=t.memoizedState;if(n=h.cache,Ta(t,Je,n),n!==c.cache&&Wr(t,[Je],a,!0),Fi(),n=h.element,c.isDehydrated)if(c={element:n,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Tf(e,t,n,a);break e}else if(n!==r){r=kt(Error(l(424)),t),Ki(r),t=Tf(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ge=Kt(e.firstChild),mt=t,Ce=!0,un=null,Jt=!0,a=rf(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Yi(),n===r){t=fa(e,t,a);break e}lt(e,t,n,a)}t=t.child}return t;case 26:return El(e,t),e===null?(a=Uh(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ce||(a=t.type,e=t.pendingProps,n=Bl(Q.current).createElement(a),n[dt]=t,n[bt]=e,ot(n,a,e),tt(n),t.stateNode=n):t.memoizedState=Uh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Qt(t),e===null&&Ce&&(n=t.stateNode=Nh(t.type,t.pendingProps,Q.current),mt=t,Jt=!0,r=Ge,$a(t.type)?(mu=r,Ge=Kt(n.firstChild)):Ge=r),lt(e,t,t.pendingProps.children,a),El(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ce&&((r=n=Ge)&&(n=hv(n,t.type,t.pendingProps,Jt),n!==null?(t.stateNode=n,mt=t,Ge=Kt(n.firstChild),Jt=!1,r=!0):r=!1),r||cn(t)),Qt(t),r=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,n=c.children,hu(r,c)?n=null:h!==null&&hu(r,h)&&(t.flags|=32),t.memoizedState!==null&&(r=fo(e,t,Ry,null,null,a),_s._currentValue=r),El(e,t),lt(e,t,n,a),t.child;case 6:return e===null&&Ce&&((e=a=Ge)&&(a=gv(a,t.pendingProps,Jt),a!==null?(t.stateNode=a,mt=t,Ge=null,e=!0):e=!1),e||cn(t)),null;case 13:return Of(e,t,a);case 4:return I(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Pn(t,null,n,a):lt(e,t,n,a),t.child;case 11:return pf(e,t,t.type,t.pendingProps,a);case 7:return lt(e,t,t.pendingProps,a),t.child;case 8:return lt(e,t,t.pendingProps.children,a),t.child;case 12:return lt(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Ta(t,t.type,n.value),lt(e,t,n.children,a),t.child;case 9:return r=t.type._context,n=t.pendingProps.children,fn(t),r=ft(r),n=n(r),t.flags|=1,lt(e,t,n,a),t.child;case 14:return bf(e,t,t.type,t.pendingProps,a);case 15:return _f(e,t,t.type,t.pendingProps,a);case 19:return Af(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=Tl(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=sa(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return wf(e,t,a);case 24:return fn(t),n=ft(Je),e===null?(r=ao(),r===null&&(r=Le,c=eo(),r.pooledCache=c,c.refCount++,c!==null&&(r.pooledCacheLanes|=a),r=c),t.memoizedState={parent:n,cache:r},io(t),Ta(t,Je,r)):((e.lanes&a)!==0&&(so(e,t),Pi(t,null,null,a),Fi()),r=e.memoizedState,c=t.memoizedState,r.parent!==n?(r={parent:n,cache:n},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Ta(t,Je,n)):(n=c.cache,Ta(t,Je,n),n!==r.cache&&Wr(t,[Je],a,!0))),lt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function ha(e){e.flags|=4}function Nf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!qh(t)){if(t=Bt.current,t!==null&&((Ee&4194048)===Ee?Ft!==null:(Ee&62914560)!==Ee&&(Ee&536870912)===0||t!==Ft))throw Zi=no,fd;e.flags|=8192}}function Ol(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Sa():536870912,e.lanes|=t,ai|=t)}function ss(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags&65011712,n|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function $y(e,t,a){var n=t.pendingProps;switch(Zr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return He(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ua(Je),ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Gi(t)?ha(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,rd())),He(t),null;case 26:return a=t.memoizedState,e===null?(ha(t),a!==null?(He(t),Nf(t,a)):(He(t),t.flags&=-16777217)):a?a!==e.memoizedState?(ha(t),He(t),Nf(t,a)):(He(t),t.flags&=-16777217):(e.memoizedProps!==n&&ha(t),He(t),t.flags&=-16777217),null;case 27:Pa(t),a=Q.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ha(t);else{if(!n){if(t.stateNode===null)throw Error(l(166));return He(t),null}e=ie.current,Gi(t)?sd(t):(e=Nh(r,n,a),t.stateNode=e,ha(t))}return He(t),null;case 5:if(Pa(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ha(t);else{if(!n){if(t.stateNode===null)throw Error(l(166));return He(t),null}if(e=ie.current,Gi(t))sd(t);else{switch(r=Bl(Q.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?r.createElement("select",{is:n.is}):r.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?r.createElement(a,{is:n.is}):r.createElement(a)}}e[dt]=t,e[bt]=n;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(ot(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ha(t)}}return He(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&ha(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(l(166));if(e=Q.current,Gi(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,r=mt,r!==null)switch(r.tag){case 27:case 5:n=r.memoizedProps}e[dt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||xh(e.nodeValue,a)),e||cn(t)}else e=Bl(e).createTextNode(n),e[dt]=t,t.stateNode=e}return He(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Gi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!r)throw Error(l(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(l(317));r[dt]=t}else Yi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;He(t),r=!1}else r=rd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(da(t),t):(da(t),null)}if(da(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,r=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(r=n.alternate.memoizedState.cachePool.pool);var c=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==r&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Ol(t,t.updateQueue),He(t),null;case 4:return ke(),e===null&&ou(t.stateNode.containerInfo),He(t),null;case 10:return ua(t.type),He(t),null;case 19:if(X(Fe),r=t.memoizedState,r===null)return He(t),null;if(n=(t.flags&128)!==0,c=r.rendering,c===null)if(n)ss(r,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=wl(e),c!==null){for(t.flags|=128,ss(r,!1),e=c.updateQueue,t.updateQueue=e,Ol(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)nd(a,e),a=a.sibling;return K(Fe,Fe.current&1|2),t.child}e=e.sibling}r.tail!==null&&Et()>jl&&(t.flags|=128,n=!0,ss(r,!1),t.lanes=4194304)}else{if(!n)if(e=wl(c),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Ol(t,e),ss(r,!0),r.tail===null&&r.tailMode==="hidden"&&!c.alternate&&!Ce)return He(t),null}else 2*Et()-r.renderingStartTime>jl&&a!==536870912&&(t.flags|=128,n=!0,ss(r,!1),t.lanes=4194304);r.isBackwards?(c.sibling=t.child,t.child=c):(e=r.last,e!==null?e.sibling=c:t.child=c,r.last=c)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Et(),t.sibling=null,e=Fe.current,K(Fe,n?e&1|2:e&1),t):(He(t),null);case 22:case 23:return da(t),uo(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),a=t.updateQueue,a!==null&&Ol(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&X(hn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ua(Je),He(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Hy(e,t){switch(Zr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ua(Je),ke(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Pa(t),null;case 13:if(da(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return X(Fe),null;case 4:return ke(),null;case 10:return ua(t.type),null;case 22:case 23:return da(t),uo(),e!==null&&X(hn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ua(Je),null;case 25:return null;default:return null}}function Rf(e,t){switch(Zr(t),t.tag){case 3:ua(Je),ke();break;case 26:case 27:case 5:Pa(t);break;case 4:ke();break;case 13:da(t);break;case 19:X(Fe);break;case 10:ua(t.type);break;case 22:case 23:da(t),uo(),e!==null&&X(hn);break;case 24:ua(Je)}}function ls(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var r=n.next;a=r;do{if((a.tag&e)===e){n=void 0;var c=a.create,h=a.inst;n=c(),h.destroy=n}a=a.next}while(a!==r)}}catch(v){ze(t,t.return,v)}}function Ma(e,t,a){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var c=r.next;n=c;do{if((n.tag&e)===e){var h=n.inst,v=h.destroy;if(v!==void 0){h.destroy=void 0,r=t;var _=a,C=v;try{C()}catch(D){ze(r,_,D)}}}n=n.next}while(n!==c)}}catch(D){ze(t,t.return,D)}}function Mf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{pd(t,a)}catch(n){ze(e,e.return,n)}}}function Uf(e,t,a){a.props=yn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){ze(e,t,n)}}function rs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(r){ze(e,t,r)}}function Pt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(r){ze(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){ze(e,t,r)}else a.current=null}function Df(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(r){ze(e,e.return,r)}}function qo(e,t,a){try{var n=e.stateNode;ov(n,e.type,a,t),n[bt]=t}catch(r){ze(e,e.return,r)}}function kf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$a(e.type)||e.tag===4}function Bo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$a(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $o(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ql));else if(n!==4&&(n===27&&$a(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for($o(e,t,a),e=e.sibling;e!==null;)$o(e,t,a),e=e.sibling}function Cl(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&$a(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Cl(e,t,a),e=e.sibling;e!==null;)Cl(e,t,a),e=e.sibling}function zf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ot(t,n,a),t[dt]=e,t[bt]=a}catch(c){ze(e,e.return,c)}}var ga=!1,Ve=!1,Ho=!1,Lf=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Gy(e,t){if(e=e.containerInfo,du=Vl,e=Qc(e),qr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var r=n.anchorOffset,c=n.focusNode;n=n.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var h=0,v=-1,_=-1,C=0,D=0,z=e,j=null;t:for(;;){for(var N;z!==a||r!==0&&z.nodeType!==3||(v=h+r),z!==c||n!==0&&z.nodeType!==3||(_=h+n),z.nodeType===3&&(h+=z.nodeValue.length),(N=z.firstChild)!==null;)j=z,z=N;for(;;){if(z===e)break t;if(j===a&&++C===r&&(v=h),j===c&&++D===n&&(_=h),(N=z.nextSibling)!==null)break;z=j,j=z.parentNode}z=N}a=v===-1||_===-1?null:{start:v,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(fu={focusedElem:e,selectionRange:a},Vl=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){switch(t=nt,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,r=c.memoizedProps,c=c.memoizedState,n=a.stateNode;try{var ce=yn(a.type,r,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(ce,c),n.__reactInternalSnapshotBeforeUpdate=e}catch(re){ze(a,a.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)yu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}}function qf(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Ua(e,a),n&4&&ls(5,a);break;case 1:if(Ua(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(h){ze(a,a.return,h)}else{var r=yn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){ze(a,a.return,h)}}n&64&&Mf(a),n&512&&rs(a,a.return);break;case 3:if(Ua(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{pd(e,t)}catch(h){ze(a,a.return,h)}}break;case 27:t===null&&n&4&&zf(a);case 26:case 5:Ua(e,a),t===null&&n&4&&Df(a),n&512&&rs(a,a.return);break;case 12:Ua(e,a);break;case 13:Ua(e,a),n&4&&Hf(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Fy.bind(null,a),yv(e,a))));break;case 22:if(n=a.memoizedState!==null||ga,!n){t=t!==null&&t.memoizedState!==null||Ve,r=ga;var c=Ve;ga=n,(Ve=t)&&!c?Da(e,a,(a.subtreeFlags&8772)!==0):Ua(e,a),ga=r,Ve=c}break;case 30:break;default:Ua(e,a)}}function Bf(e){var t=e.alternate;t!==null&&(e.alternate=null,Bf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&br(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,St=!1;function ya(e,t,a){for(a=a.child;a!==null;)$f(e,t,a),a=a.sibling}function $f(e,t,a){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Wa,a)}catch{}switch(a.tag){case 26:Ve||Pt(a,t),ya(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ve||Pt(a,t);var n=Be,r=St;$a(a.type)&&(Be=a.stateNode,St=!1),ya(e,t,a),vs(a.stateNode),Be=n,St=r;break;case 5:Ve||Pt(a,t);case 6:if(n=Be,r=St,Be=null,ya(e,t,a),Be=n,St=r,Be!==null)if(St)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(a.stateNode)}catch(c){ze(a,t,c)}else try{Be.removeChild(a.stateNode)}catch(c){ze(a,t,c)}break;case 18:Be!==null&&(St?(e=Be,Ah(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Es(e)):Ah(Be,a.stateNode));break;case 4:n=Be,r=St,Be=a.stateNode.containerInfo,St=!0,ya(e,t,a),Be=n,St=r;break;case 0:case 11:case 14:case 15:Ve||Ma(2,a,t),Ve||Ma(4,a,t),ya(e,t,a);break;case 1:Ve||(Pt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Uf(a,t,n)),ya(e,t,a);break;case 21:ya(e,t,a);break;case 22:Ve=(n=Ve)||a.memoizedState!==null,ya(e,t,a),Ve=n;break;default:ya(e,t,a)}}function Hf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Es(e)}catch(a){ze(t,t.return,a)}}function Yy(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Lf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Lf),t;default:throw Error(l(435,e.tag))}}function Go(e,t){var a=Yy(e);t.forEach(function(n){var r=Py.bind(null,e,n);a.has(n)||(a.add(n),n.then(r,r))})}function At(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var r=a[n],c=e,h=t,v=h;e:for(;v!==null;){switch(v.tag){case 27:if($a(v.type)){Be=v.stateNode,St=!1;break e}break;case 5:Be=v.stateNode,St=!1;break e;case 3:case 4:Be=v.stateNode.containerInfo,St=!0;break e}v=v.return}if(Be===null)throw Error(l(160));$f(c,h,r),Be=null,St=!1,c=r.alternate,c!==null&&(c.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Gf(t,e),t=t.sibling}var Yt=null;function Gf(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:At(t,e),jt(e),n&4&&(Ma(3,e,e.return),ls(3,e),Ma(5,e,e.return));break;case 1:At(t,e),jt(e),n&512&&(Ve||a===null||Pt(a,a.return)),n&64&&ga&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var r=Yt;if(At(t,e),jt(e),n&512&&(Ve||a===null||Pt(a,a.return)),n&4){var c=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(n){case"title":c=r.getElementsByTagName("title")[0],(!c||c[Ri]||c[dt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=r.createElement(n),r.head.insertBefore(c,r.querySelector("head > title"))),ot(c,n,a),c[dt]=e,tt(c),n=c;break e;case"link":var h=zh("link","href",r).get(n+(a.href||""));if(h){for(var v=0;v<h.length;v++)if(c=h[v],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){h.splice(v,1);break t}}c=r.createElement(n),ot(c,n,a),r.head.appendChild(c);break;case"meta":if(h=zh("meta","content",r).get(n+(a.content||""))){for(v=0;v<h.length;v++)if(c=h[v],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){h.splice(v,1);break t}}c=r.createElement(n),ot(c,n,a),r.head.appendChild(c);break;default:throw Error(l(468,n))}c[dt]=e,tt(c),n=c}e.stateNode=n}else Lh(r,e.type,e.stateNode);else e.stateNode=kh(r,n,e.memoizedProps);else c!==n?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,n===null?Lh(r,e.type,e.stateNode):kh(r,n,e.memoizedProps)):n===null&&e.stateNode!==null&&qo(e,e.memoizedProps,a.memoizedProps)}break;case 27:At(t,e),jt(e),n&512&&(Ve||a===null||Pt(a,a.return)),a!==null&&n&4&&qo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(At(t,e),jt(e),n&512&&(Ve||a===null||Pt(a,a.return)),e.flags&32){r=e.stateNode;try{Dn(r,"")}catch(N){ze(e,e.return,N)}}n&4&&e.stateNode!=null&&(r=e.memoizedProps,qo(e,r,a!==null?a.memoizedProps:r)),n&1024&&(Ho=!0);break;case 6:if(At(t,e),jt(e),n&4){if(e.stateNode===null)throw Error(l(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(N){ze(e,e.return,N)}}break;case 3:if(Gl=null,r=Yt,Yt=$l(t.containerInfo),At(t,e),Yt=r,jt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Es(t.containerInfo)}catch(N){ze(e,e.return,N)}Ho&&(Ho=!1,Yf(e));break;case 4:n=Yt,Yt=$l(e.stateNode.containerInfo),At(t,e),jt(e),Yt=n;break;case 12:At(t,e),jt(e);break;case 13:At(t,e),jt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Io=Et()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Go(e,n)));break;case 22:r=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,C=ga,D=Ve;if(ga=C||r,Ve=D||_,At(t,e),Ve=D,ga=C,jt(e),n&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(a===null||_||ga||Ve||vn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(c=_.stateNode,r)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{v=_.stateNode;var z=_.memoizedProps.style,j=z!=null&&z.hasOwnProperty("display")?z.display:null;v.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(N){ze(_,_.return,N)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=r?"":_.memoizedProps}catch(N){ze(_,_.return,N)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Go(e,a))));break;case 19:At(t,e),jt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Go(e,n)));break;case 30:break;case 21:break;default:At(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(kf(n)){a=n;break}n=n.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var r=a.stateNode,c=Bo(e);Cl(e,c,r);break;case 5:var h=a.stateNode;a.flags&32&&(Dn(h,""),a.flags&=-33);var v=Bo(e);Cl(e,v,h);break;case 3:case 4:var _=a.stateNode.containerInfo,C=Bo(e);$o(e,C,_);break;default:throw Error(l(161))}}catch(D){ze(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Yf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ua(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)qf(e,t.alternate,t),t=t.sibling}function vn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ma(4,t,t.return),vn(t);break;case 1:Pt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Uf(t,t.return,a),vn(t);break;case 27:vs(t.stateNode);case 26:case 5:Pt(t,t.return),vn(t);break;case 22:t.memoizedState===null&&vn(t);break;case 30:vn(t);break;default:vn(t)}e=e.sibling}}function Da(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,r=e,c=t,h=c.flags;switch(c.tag){case 0:case 11:case 15:Da(r,c,a),ls(4,c);break;case 1:if(Da(r,c,a),n=c,r=n.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(C){ze(n,n.return,C)}if(n=c,r=n.updateQueue,r!==null){var v=n.stateNode;try{var _=r.shared.hiddenCallbacks;if(_!==null)for(r.shared.hiddenCallbacks=null,r=0;r<_.length;r++)md(_[r],v)}catch(C){ze(n,n.return,C)}}a&&h&64&&Mf(c),rs(c,c.return);break;case 27:zf(c);case 26:case 5:Da(r,c,a),a&&n===null&&h&4&&Df(c),rs(c,c.return);break;case 12:Da(r,c,a);break;case 13:Da(r,c,a),a&&h&4&&Hf(r,c);break;case 22:c.memoizedState===null&&Da(r,c,a),rs(c,c.return);break;case 30:break;default:Da(r,c,a)}t=t.sibling}}function Yo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Xi(a))}function Ko(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xi(e))}function Wt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kf(e,t,a,n),t=t.sibling}function Kf(e,t,a,n){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Wt(e,t,a,n),r&2048&&ls(9,t);break;case 1:Wt(e,t,a,n);break;case 3:Wt(e,t,a,n),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xi(e)));break;case 12:if(r&2048){Wt(e,t,a,n),e=t.stateNode;try{var c=t.memoizedProps,h=c.id,v=c.onPostCommit;typeof v=="function"&&v(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){ze(t,t.return,_)}}else Wt(e,t,a,n);break;case 13:Wt(e,t,a,n);break;case 23:break;case 22:c=t.stateNode,h=t.alternate,t.memoizedState!==null?c._visibility&2?Wt(e,t,a,n):os(e,t):c._visibility&2?Wt(e,t,a,n):(c._visibility|=2,Wn(e,t,a,n,(t.subtreeFlags&10256)!==0)),r&2048&&Yo(h,t);break;case 24:Wt(e,t,a,n),r&2048&&Ko(t.alternate,t);break;default:Wt(e,t,a,n)}}function Wn(e,t,a,n,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,h=t,v=a,_=n,C=h.flags;switch(h.tag){case 0:case 11:case 15:Wn(c,h,v,_,r),ls(8,h);break;case 23:break;case 22:var D=h.stateNode;h.memoizedState!==null?D._visibility&2?Wn(c,h,v,_,r):os(c,h):(D._visibility|=2,Wn(c,h,v,_,r)),r&&C&2048&&Yo(h.alternate,h);break;case 24:Wn(c,h,v,_,r),r&&C&2048&&Ko(h.alternate,h);break;default:Wn(c,h,v,_,r)}t=t.sibling}}function os(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,r=n.flags;switch(n.tag){case 22:os(a,n),r&2048&&Yo(n.alternate,n);break;case 24:os(a,n),r&2048&&Ko(n.alternate,n);break;default:os(a,n)}t=t.sibling}}var us=8192;function ei(e){if(e.subtreeFlags&us)for(e=e.child;e!==null;)Vf(e),e=e.sibling}function Vf(e){switch(e.tag){case 26:ei(e),e.flags&us&&e.memoizedState!==null&&Av(Yt,e.memoizedState,e.memoizedProps);break;case 5:ei(e);break;case 3:case 4:var t=Yt;Yt=$l(e.stateNode.containerInfo),ei(e),Yt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=us,us=16777216,ei(e),us=t):ei(e));break;default:ei(e)}}function Xf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function cs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];nt=n,If(n,e)}Xf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qf(e),e=e.sibling}function Qf(e){switch(e.tag){case 0:case 11:case 15:cs(e),e.flags&2048&&Ma(9,e,e.return);break;case 3:cs(e);break;case 12:cs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Al(e)):cs(e);break;default:cs(e)}}function Al(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];nt=n,If(n,e)}Xf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ma(8,t,t.return),Al(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Al(t));break;default:Al(t)}e=e.sibling}}function If(e,t){for(;nt!==null;){var a=nt;switch(a.tag){case 0:case 11:case 15:Ma(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Xi(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,nt=n;else e:for(a=e;nt!==null;){n=nt;var r=n.sibling,c=n.return;if(Bf(n),n===a){nt=null;break e}if(r!==null){r.return=c,nt=r;break e}nt=c}}}var Ky={getCacheForType:function(e){var t=ft(Je),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Vy=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Le=null,_e=null,Ee=0,Re=0,Nt=null,ka=!1,ti=!1,Vo=!1,va=0,Ye=0,za=0,mn=0,Xo=0,$t=0,ai=0,ds=null,xt=null,Qo=!1,Io=0,jl=1/0,Nl=null,La=null,rt=0,qa=null,ni=null,ii=0,Zo=0,Jo=null,Zf=null,fs=0,Fo=null;function Rt(){if((Ne&2)!==0&&Ee!==0)return Ee&-Ee;if(R.T!==null){var e=Vn;return e!==0?e:iu()}return cc()}function Jf(){$t===0&&($t=(Ee&536870912)===0||Ce?Zt():536870912);var e=Bt.current;return e!==null&&(e.flags|=32),$t}function Mt(e,t,a){(e===Le&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(si(e,0),Ba(e,Ee,$t,!1)),en(e,a),((Ne&2)===0||e!==Le)&&(e===Le&&((Ne&2)===0&&(mn|=a),Ye===4&&Ba(e,Ee,$t,!1)),ea(e))}function Ff(e,t,a){if((Ne&6)!==0)throw Error(l(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Tt(e,t),r=n?Iy(e,t):eu(e,t,!0),c=n;do{if(r===0){ti&&!n&&Ba(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!Xy(a)){r=eu(e,t,!1),c=!1;continue}if(r===2){if(c=t,e.errorRecoveryDisabledLanes&c)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var v=e;r=ds;var _=v.current.memoizedState.isDehydrated;if(_&&(si(v,h).flags|=256),h=eu(v,h,!1),h!==2){if(Vo&&!_){v.errorRecoveryDisabledLanes|=c,mn|=c,r=4;break e}c=xt,xt=r,c!==null&&(xt===null?xt=c:xt.push.apply(xt,c))}r=h}if(c=!1,r!==2)continue}}if(r===1){si(e,0),Ba(e,t,0,!0);break}e:{switch(n=e,c=r,c){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Ba(n,t,$t,!ka);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(r=Io+300-Et(),10<r)){if(Ba(n,t,$t,!ka),$e(n,0,!0)!==0)break e;n.timeoutHandle=Oh(Pf.bind(null,n,a,xt,Nl,Qo,t,$t,mn,ai,ka,c,2,-0,0),r);break e}Pf(n,a,xt,Nl,Qo,t,$t,mn,ai,ka,c,0,-0,0)}}break}while(!0);ea(e)}function Pf(e,t,a,n,r,c,h,v,_,C,D,z,j,N){if(e.timeoutHandle=-1,z=t.subtreeFlags,(z&8192||(z&16785408)===16785408)&&(bs={stylesheets:null,count:0,unsuspend:Cv},Vf(t),z=jv(),z!==null)){e.cancelPendingCommit=z(sh.bind(null,e,t,c,a,n,r,h,v,_,D,1,j,N)),Ba(e,c,h,!C);return}sh(e,t,c,a,n,r,h,v,_)}function Xy(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var r=a[n],c=r.getSnapshot;r=r.value;try{if(!Ot(c(),r))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ba(e,t,a,n){t&=~Xo,t&=~mn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var r=t;0<r;){var c=31-vt(r),h=1<<c;n[c]=-1,r&=~h}a!==0&&oc(e,a,t)}function Rl(){return(Ne&6)===0?(hs(0),!1):!0}function Po(){if(_e!==null){if(Re===0)var e=_e.return;else e=_e,oa=dn=null,yo(e),Fn=null,ns=0,e=_e;for(;e!==null;)Rf(e.alternate,e),e=e.return;_e=null}}function si(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,cv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Po(),Le=e,_e=a=sa(e.current,null),Ee=t,Re=0,Nt=null,ka=!1,ti=Tt(e,t),Vo=!1,ai=$t=Xo=mn=za=Ye=0,xt=ds=null,Qo=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var r=31-vt(n),c=1<<r;t|=e[r],n&=~c}return va=t,Ws(),a}function Wf(e,t){me=null,R.H=pl,t===Ii||t===ol?(t=yd(),Re=3):t===fd?(t=yd(),Re=4):Re=t===mf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Nt=t,_e===null&&(Ye=1,xl(e,kt(t,e.current)))}function eh(){var e=R.H;return R.H=pl,e===null?pl:e}function th(){var e=R.A;return R.A=Ky,e}function Wo(){Ye=4,ka||(Ee&4194048)!==Ee&&Bt.current!==null||(ti=!0),(za&134217727)===0&&(mn&134217727)===0||Le===null||Ba(Le,Ee,$t,!1)}function eu(e,t,a){var n=Ne;Ne|=2;var r=eh(),c=th();(Le!==e||Ee!==t)&&(Nl=null,si(e,t)),t=!1;var h=Ye;e:do try{if(Re!==0&&_e!==null){var v=_e,_=Nt;switch(Re){case 8:Po(),h=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(t=!0);var C=Re;if(Re=0,Nt=null,li(e,v,_,C),a&&ti){h=0;break e}break;default:C=Re,Re=0,Nt=null,li(e,v,_,C)}}Qy(),h=Ye;break}catch(D){Wf(e,D)}while(!0);return t&&e.shellSuspendCounter++,oa=dn=null,Ne=n,R.H=r,R.A=c,_e===null&&(Le=null,Ee=0,Ws()),h}function Qy(){for(;_e!==null;)ah(_e)}function Iy(e,t){var a=Ne;Ne|=2;var n=eh(),r=th();Le!==e||Ee!==t?(Nl=null,jl=Et()+500,si(e,t)):ti=Tt(e,t);e:do try{if(Re!==0&&_e!==null){t=_e;var c=Nt;t:switch(Re){case 1:Re=0,Nt=null,li(e,t,c,1);break;case 2:case 9:if(hd(c)){Re=0,Nt=null,nh(t);break}t=function(){Re!==2&&Re!==9||Le!==e||(Re=7),ea(e)},c.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:hd(c)?(Re=0,Nt=null,nh(t)):(Re=0,Nt=null,li(e,t,c,7));break;case 5:var h=null;switch(_e.tag){case 26:h=_e.memoizedState;case 5:case 27:var v=_e;if(!h||qh(h)){Re=0,Nt=null;var _=v.sibling;if(_!==null)_e=_;else{var C=v.return;C!==null?(_e=C,Ml(C)):_e=null}break t}}Re=0,Nt=null,li(e,t,c,5);break;case 6:Re=0,Nt=null,li(e,t,c,6);break;case 8:Po(),Ye=6;break e;default:throw Error(l(462))}}Zy();break}catch(D){Wf(e,D)}while(!0);return oa=dn=null,R.H=n,R.A=r,Ne=a,_e!==null?0:(Le=null,Ee=0,Ws(),Ye)}function Zy(){for(;_e!==null&&!cr();)ah(_e)}function ah(e){var t=jf(e.alternate,e,va);e.memoizedProps=e.pendingProps,t===null?Ml(e):_e=t}function nh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=xf(a,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=xf(a,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:yo(t);default:Rf(a,t),t=_e=nd(t,va),t=jf(a,t,va)}e.memoizedProps=e.pendingProps,t===null?Ml(e):_e=t}function li(e,t,a,n){oa=dn=null,yo(t),Fn=null,ns=0;var r=t.return;try{if(qy(e,r,t,a,Ee)){Ye=1,xl(e,kt(a,e.current)),_e=null;return}}catch(c){if(r!==null)throw _e=r,c;Ye=1,xl(e,kt(a,e.current)),_e=null;return}t.flags&32768?(Ce||n===1?e=!0:ti||(Ee&536870912)!==0?e=!1:(ka=e=!0,(n===2||n===9||n===3||n===6)&&(n=Bt.current,n!==null&&n.tag===13&&(n.flags|=16384))),ih(t,e)):Ml(t)}function Ml(e){var t=e;do{if((t.flags&32768)!==0){ih(t,ka);return}e=t.return;var a=$y(t.alternate,t,va);if(a!==null){_e=a;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Ye===0&&(Ye=5)}function ih(e,t){do{var a=Hy(e.alternate,e);if(a!==null){a.flags&=32767,_e=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){_e=e;return}_e=e=a}while(e!==null);Ye=6,_e=null}function sh(e,t,a,n,r,c,h,v,_){e.cancelPendingCommit=null;do Ul();while(rt!==0);if((Ne&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(c=t.lanes|t.childLanes,c|=Yr,C0(e,a,c,h,v,_),e===Le&&(_e=Le=null,Ee=0),ni=t,qa=e,ii=a,Zo=c,Jo=r,Zf=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Wy(On,function(){return ch(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=R.T,R.T=null,r=V.p,V.p=2,h=Ne,Ne|=4;try{Gy(e,t,a)}finally{Ne=h,V.p=r,R.T=n}}rt=1,lh(),rh(),oh()}}function lh(){if(rt===1){rt=0;var e=qa,t=ni,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=R.T,R.T=null;var n=V.p;V.p=2;var r=Ne;Ne|=4;try{Gf(t,e);var c=fu,h=Qc(e.containerInfo),v=c.focusedElem,_=c.selectionRange;if(h!==v&&v&&v.ownerDocument&&Xc(v.ownerDocument.documentElement,v)){if(_!==null&&qr(v)){var C=_.start,D=_.end;if(D===void 0&&(D=C),"selectionStart"in v)v.selectionStart=C,v.selectionEnd=Math.min(D,v.value.length);else{var z=v.ownerDocument||document,j=z&&z.defaultView||window;if(j.getSelection){var N=j.getSelection(),ce=v.textContent.length,re=Math.min(_.start,ce),De=_.end===void 0?re:Math.min(_.end,ce);!N.extend&&re>De&&(h=De,De=re,re=h);var E=Vc(v,re),S=Vc(v,De);if(E&&S&&(N.rangeCount!==1||N.anchorNode!==E.node||N.anchorOffset!==E.offset||N.focusNode!==S.node||N.focusOffset!==S.offset)){var T=z.createRange();T.setStart(E.node,E.offset),N.removeAllRanges(),re>De?(N.addRange(T),N.extend(S.node,S.offset)):(T.setEnd(S.node,S.offset),N.addRange(T))}}}}for(z=[],N=v;N=N.parentNode;)N.nodeType===1&&z.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<z.length;v++){var k=z[v];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}Vl=!!du,fu=du=null}finally{Ne=r,V.p=n,R.T=a}}e.current=t,rt=2}}function rh(){if(rt===2){rt=0;var e=qa,t=ni,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=R.T,R.T=null;var n=V.p;V.p=2;var r=Ne;Ne|=4;try{qf(e,t.alternate,t)}finally{Ne=r,V.p=n,R.T=a}}rt=3}}function oh(){if(rt===4||rt===3){rt=0,dr();var e=qa,t=ni,a=ii,n=Zf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?rt=5:(rt=0,ni=qa=null,uh(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(La=null),mr(a),t=t.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Wa,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=R.T,r=V.p,V.p=2,R.T=null;try{for(var c=e.onRecoverableError,h=0;h<n.length;h++){var v=n[h];c(v.value,{componentStack:v.stack})}}finally{R.T=t,V.p=r}}(ii&3)!==0&&Ul(),ea(e),r=e.pendingLanes,(a&4194090)!==0&&(r&42)!==0?e===Fo?fs++:(fs=0,Fo=e):fs=0,hs(0)}}function uh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Xi(t)))}function Ul(e){return lh(),rh(),oh(),ch()}function ch(){if(rt!==5)return!1;var e=qa,t=Zo;Zo=0;var a=mr(ii),n=R.T,r=V.p;try{V.p=32>a?32:a,R.T=null,a=Jo,Jo=null;var c=qa,h=ii;if(rt=0,ni=qa=null,ii=0,(Ne&6)!==0)throw Error(l(331));var v=Ne;if(Ne|=4,Qf(c.current),Kf(c,c.current,h,a),Ne=v,hs(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Wa,c)}catch{}return!0}finally{V.p=r,R.T=n,uh(e,t)}}function dh(e,t,a){t=kt(a,t),t=jo(e.stateNode,t,2),e=Aa(e,t,2),e!==null&&(en(e,2),ea(e))}function ze(e,t,a){if(e.tag===3)dh(e,e,a);else for(;t!==null;){if(t.tag===3){dh(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(La===null||!La.has(n))){e=kt(a,e),a=yf(2),n=Aa(t,a,2),n!==null&&(vf(a,n,t,e),en(n,2),ea(n));break}}t=t.return}}function tu(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new Vy;var r=new Set;n.set(t,r)}else r=n.get(t),r===void 0&&(r=new Set,n.set(t,r));r.has(a)||(Vo=!0,r.add(a),e=Jy.bind(null,e,t,a),t.then(e,e))}function Jy(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Le===e&&(Ee&a)===a&&(Ye===4||Ye===3&&(Ee&62914560)===Ee&&300>Et()-Io?(Ne&2)===0&&si(e,0):Xo|=a,ai===Ee&&(ai=0)),ea(e)}function fh(e,t){t===0&&(t=Sa()),e=Hn(e,t),e!==null&&(en(e,t),ea(e))}function Fy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),fh(e,a)}function Py(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;r!==null&&(a=r.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(l(314))}n!==null&&n.delete(t),fh(e,a)}function Wy(e,t){return wa(e,t)}var Dl=null,ri=null,au=!1,kl=!1,nu=!1,pn=0;function ea(e){e!==ri&&e.next===null&&(ri===null?Dl=ri=e:ri=ri.next=e),kl=!0,au||(au=!0,tv())}function hs(e,t){if(!nu&&kl){nu=!0;do for(var a=!1,n=Dl;n!==null;){if(e!==0){var r=n.pendingLanes;if(r===0)var c=0;else{var h=n.suspendedLanes,v=n.pingedLanes;c=(1<<31-vt(42|e)+1)-1,c&=r&~(h&~v),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,vh(n,c))}else c=Ee,c=$e(n,n===Le?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(c&3)===0||Tt(n,c)||(a=!0,vh(n,c));n=n.next}while(a);nu=!1}}function ev(){hh()}function hh(){kl=au=!1;var e=0;pn!==0&&(uv()&&(e=pn),pn=0);for(var t=Et(),a=null,n=Dl;n!==null;){var r=n.next,c=gh(n,t);c===0?(n.next=null,a===null?Dl=r:a.next=r,r===null&&(ri=a)):(a=n,(e!==0||(c&3)!==0)&&(kl=!0)),n=r}hs(e)}function gh(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var h=31-vt(c),v=1<<h,_=r[h];_===-1?((v&a)===0||(v&n)!==0)&&(r[h]=Ze(v,t)):_<=t&&(e.expiredLanes|=v),c&=~v}if(t=Le,a=Ee,a=$e(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Tn(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Tt(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Tn(n),mr(a)){case 2:case 8:a=$s;break;case 32:a=On;break;case 268435456:a=Hs;break;default:a=On}return n=yh.bind(null,e),a=wa(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Tn(n),e.callbackPriority=2,e.callbackNode=null,2}function yh(e,t){if(rt!==0&&rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ul()&&e.callbackNode!==a)return null;var n=Ee;return n=$e(e,e===Le?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Ff(e,n,t),gh(e,Et()),e.callbackNode!=null&&e.callbackNode===a?yh.bind(null,e):null)}function vh(e,t){if(Ul())return null;Ff(e,t,!0)}function tv(){dv(function(){(Ne&6)!==0?wa(Bs,ev):hh()})}function iu(){return pn===0&&(pn=Zt()),pn}function mh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xs(""+e)}function ph(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function av(e,t,a,n,r){if(t==="submit"&&a&&a.stateNode===r){var c=mh((r[bt]||null).action),h=n.submitter;h&&(t=(t=h[bt]||null)?mh(t.formAction):h.getAttribute("formAction"),t!==null&&(c=t,h=null));var v=new Js("action","action",null,n,r);e.push({event:v,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(pn!==0){var _=h?ph(r,h):new FormData(r);Eo(a,{pending:!0,data:_,method:r.method,action:c},null,_)}}else typeof c=="function"&&(v.preventDefault(),_=h?ph(r,h):new FormData(r),Eo(a,{pending:!0,data:_,method:r.method,action:c},c,_))},currentTarget:r}]})}}for(var su=0;su<Gr.length;su++){var lu=Gr[su],nv=lu.toLowerCase(),iv=lu[0].toUpperCase()+lu.slice(1);Gt(nv,"on"+iv)}Gt(Jc,"onAnimationEnd"),Gt(Fc,"onAnimationIteration"),Gt(Pc,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(wy,"onTransitionRun"),Gt(Sy,"onTransitionStart"),Gt(xy,"onTransitionCancel"),Gt(Wc,"onTransitionEnd"),Rn("onMouseEnter",["mouseout","mouseover"]),Rn("onMouseLeave",["mouseout","mouseover"]),Rn("onPointerEnter",["pointerout","pointerover"]),Rn("onPointerLeave",["pointerout","pointerover"]),tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gs));function bh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],r=n.event;n=n.listeners;e:{var c=void 0;if(t)for(var h=n.length-1;0<=h;h--){var v=n[h],_=v.instance,C=v.currentTarget;if(v=v.listener,_!==c&&r.isPropagationStopped())break e;c=v,r.currentTarget=C;try{c(r)}catch(D){Sl(D)}r.currentTarget=null,c=_}else for(h=0;h<n.length;h++){if(v=n[h],_=v.instance,C=v.currentTarget,v=v.listener,_!==c&&r.isPropagationStopped())break e;c=v,r.currentTarget=C;try{c(r)}catch(D){Sl(D)}r.currentTarget=null,c=_}}}}function we(e,t){var a=t[pr];a===void 0&&(a=t[pr]=new Set);var n=e+"__bubble";a.has(n)||(_h(t,e,2,!1),a.add(n))}function ru(e,t,a){var n=0;t&&(n|=4),_h(a,e,n,t)}var zl="_reactListening"+Math.random().toString(36).slice(2);function ou(e){if(!e[zl]){e[zl]=!0,fc.forEach(function(a){a!=="selectionchange"&&(sv.has(a)||ru(a,!1,e),ru(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zl]||(t[zl]=!0,ru("selectionchange",!1,t))}}function _h(e,t,a,n){switch(Kh(t)){case 2:var r=Mv;break;case 8:r=Uv;break;default:r=Su}a=r.bind(null,t,a,e),r=void 0,!jr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),n?r!==void 0?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):r!==void 0?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function uu(e,t,a,n,r){var c=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var h=n.tag;if(h===3||h===4){var v=n.stateNode.containerInfo;if(v===r)break;if(h===4)for(h=n.return;h!==null;){var _=h.tag;if((_===3||_===4)&&h.stateNode.containerInfo===r)return;h=h.return}for(;v!==null;){if(h=An(v),h===null)return;if(_=h.tag,_===5||_===6||_===26||_===27){n=c=h;continue e}v=v.parentNode}}n=n.return}Oc(function(){var C=c,D=Cr(a),z=[];e:{var j=ed.get(e);if(j!==void 0){var N=Js,ce=e;switch(e){case"keypress":if(Is(a)===0)break e;case"keydown":case"keyup":N=W0;break;case"focusin":ce="focus",N=Ur;break;case"focusout":ce="blur",N=Ur;break;case"beforeblur":case"afterblur":N=Ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=H0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=ay;break;case Jc:case Fc:case Pc:N=K0;break;case Wc:N=iy;break;case"scroll":case"scrollend":N=B0;break;case"wheel":N=ly;break;case"copy":case"cut":case"paste":N=X0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Rc;break;case"toggle":case"beforetoggle":N=oy}var re=(t&4)!==0,De=!re&&(e==="scroll"||e==="scrollend"),E=re?j!==null?j+"Capture":null:j;re=[];for(var S=C,T;S!==null;){var k=S;if(T=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||T===null||E===null||(k=Ui(S,E),k!=null&&re.push(ys(S,k,T))),De)break;S=S.return}0<re.length&&(j=new N(j,ce,null,a,D),z.push({event:j,listeners:re}))}}if((t&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",j&&a!==Or&&(ce=a.relatedTarget||a.fromElement)&&(An(ce)||ce[Cn]))break e;if((N||j)&&(j=D.window===D?D:(j=D.ownerDocument)?j.defaultView||j.parentWindow:window,N?(ce=a.relatedTarget||a.toElement,N=C,ce=ce?An(ce):null,ce!==null&&(De=d(ce),re=ce.tag,ce!==De||re!==5&&re!==27&&re!==6)&&(ce=null)):(N=null,ce=C),N!==ce)){if(re=jc,k="onMouseLeave",E="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(re=Rc,k="onPointerLeave",E="onPointerEnter",S="pointer"),De=N==null?j:Mi(N),T=ce==null?j:Mi(ce),j=new re(k,S+"leave",N,a,D),j.target=De,j.relatedTarget=T,k=null,An(D)===C&&(re=new re(E,S+"enter",ce,a,D),re.target=T,re.relatedTarget=De,k=re),De=k,N&&ce)t:{for(re=N,E=ce,S=0,T=re;T;T=oi(T))S++;for(T=0,k=E;k;k=oi(k))T++;for(;0<S-T;)re=oi(re),S--;for(;0<T-S;)E=oi(E),T--;for(;S--;){if(re===E||E!==null&&re===E.alternate)break t;re=oi(re),E=oi(E)}re=null}else re=null;N!==null&&wh(z,j,N,re,!1),ce!==null&&De!==null&&wh(z,De,ce,re,!0)}}e:{if(j=C?Mi(C):window,N=j.nodeName&&j.nodeName.toLowerCase(),N==="select"||N==="input"&&j.type==="file")var F=Bc;else if(Lc(j))if($c)F=py;else{F=vy;var be=yy}else N=j.nodeName,!N||N.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?C&&Tr(C.elementType)&&(F=Bc):F=my;if(F&&(F=F(e,C))){qc(z,F,a,D);break e}be&&be(e,j,C),e==="focusout"&&C&&j.type==="number"&&C.memoizedProps.value!=null&&Er(j,"number",j.value)}switch(be=C?Mi(C):window,e){case"focusin":(Lc(be)||be.contentEditable==="true")&&(qn=be,Br=C,Hi=null);break;case"focusout":Hi=Br=qn=null;break;case"mousedown":$r=!0;break;case"contextmenu":case"mouseup":case"dragend":$r=!1,Ic(z,a,D);break;case"selectionchange":if(_y)break;case"keydown":case"keyup":Ic(z,a,D)}var ne;if(kr)e:{switch(e){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else Ln?kc(e,a)&&(oe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(oe="onCompositionStart");oe&&(Mc&&a.locale!=="ko"&&(Ln||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&Ln&&(ne=Cc()):(Ea=D,Nr="value"in Ea?Ea.value:Ea.textContent,Ln=!0)),be=Ll(C,oe),0<be.length&&(oe=new Nc(oe,e,null,a,D),z.push({event:oe,listeners:be}),ne?oe.data=ne:(ne=zc(a),ne!==null&&(oe.data=ne)))),(ne=cy?dy(e,a):fy(e,a))&&(oe=Ll(C,"onBeforeInput"),0<oe.length&&(be=new Nc("onBeforeInput","beforeinput",null,a,D),z.push({event:be,listeners:oe}),be.data=ne)),av(z,e,C,a,D)}bh(z,t)})}function ys(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ll(e,t){for(var a=t+"Capture",n=[];e!==null;){var r=e,c=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||c===null||(r=Ui(e,a),r!=null&&n.unshift(ys(e,r,c)),r=Ui(e,t),r!=null&&n.push(ys(e,r,c))),e.tag===3)return n;e=e.return}return[]}function oi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function wh(e,t,a,n,r){for(var c=t._reactName,h=[];a!==null&&a!==n;){var v=a,_=v.alternate,C=v.stateNode;if(v=v.tag,_!==null&&_===n)break;v!==5&&v!==26&&v!==27||C===null||(_=C,r?(C=Ui(a,c),C!=null&&h.unshift(ys(a,C,_))):r||(C=Ui(a,c),C!=null&&h.push(ys(a,C,_)))),a=a.return}h.length!==0&&e.push({event:t,listeners:h})}var lv=/\r\n?/g,rv=/\u0000|\uFFFD/g;function Sh(e){return(typeof e=="string"?e:""+e).replace(lv,`
`).replace(rv,"")}function xh(e,t){return t=Sh(t),Sh(e)===t}function ql(){}function Ue(e,t,a,n,r,c){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Dn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Dn(e,""+n);break;case"className":Ys(e,"class",n);break;case"tabIndex":Ys(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Ys(e,a,n);break;case"style":Ec(e,n,c);break;case"data":if(t!=="object"){Ys(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Xs(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&Ue(e,t,"name",r.name,r,null),Ue(e,t,"formEncType",r.formEncType,r,null),Ue(e,t,"formMethod",r.formMethod,r,null),Ue(e,t,"formTarget",r.formTarget,r,null)):(Ue(e,t,"encType",r.encType,r,null),Ue(e,t,"method",r.method,r,null),Ue(e,t,"target",r.target,r,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Xs(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=ql);break;case"onScroll":n!=null&&we("scroll",e);break;case"onScrollEnd":n!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Xs(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":we("beforetoggle",e),we("toggle",e),Gs(e,"popover",n);break;case"xlinkActuate":na(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":na(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":na(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":na(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":na(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":na(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":na(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":na(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":na(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Gs(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=L0.get(a)||a,Gs(e,a,n))}}function cu(e,t,a,n,r,c){switch(a){case"style":Ec(e,n,c);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Dn(e,n):(typeof n=="number"||typeof n=="bigint")&&Dn(e,""+n);break;case"onScroll":n!=null&&we("scroll",e);break;case"onScrollEnd":n!=null&&we("scrollend",e);break;case"onClick":n!=null&&(e.onclick=ql);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),c=e[bt]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,r),typeof n=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,r);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Gs(e,a,n)}}}function ot(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var n=!1,r=!1,c;for(c in a)if(a.hasOwnProperty(c)){var h=a[c];if(h!=null)switch(c){case"src":n=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ue(e,t,c,h,a,null)}}r&&Ue(e,t,"srcSet",a.srcSet,a,null),n&&Ue(e,t,"src",a.src,a,null);return;case"input":we("invalid",e);var v=c=h=r=null,_=null,C=null;for(n in a)if(a.hasOwnProperty(n)){var D=a[n];if(D!=null)switch(n){case"name":r=D;break;case"type":h=D;break;case"checked":_=D;break;case"defaultChecked":C=D;break;case"value":c=D;break;case"defaultValue":v=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:Ue(e,t,n,D,a,null)}}_c(e,c,v,_,C,h,r,!1),Ks(e);return;case"select":we("invalid",e),n=h=c=null;for(r in a)if(a.hasOwnProperty(r)&&(v=a[r],v!=null))switch(r){case"value":c=v;break;case"defaultValue":h=v;break;case"multiple":n=v;default:Ue(e,t,r,v,a,null)}t=c,a=h,e.multiple=!!n,t!=null?Un(e,!!n,t,!1):a!=null&&Un(e,!!n,a,!0);return;case"textarea":we("invalid",e),c=r=n=null;for(h in a)if(a.hasOwnProperty(h)&&(v=a[h],v!=null))switch(h){case"value":n=v;break;case"defaultValue":r=v;break;case"children":c=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:Ue(e,t,h,v,a,null)}Sc(e,n,r,c),Ks(e);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(n=a[_],n!=null))switch(_){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Ue(e,t,_,n,a,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(n=0;n<gs.length;n++)we(gs[n],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in a)if(a.hasOwnProperty(C)&&(n=a[C],n!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ue(e,t,C,n,a,null)}return;default:if(Tr(t)){for(D in a)a.hasOwnProperty(D)&&(n=a[D],n!==void 0&&cu(e,t,D,n,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(n=a[v],n!=null&&Ue(e,t,v,n,a,null))}function ov(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,c=null,h=null,v=null,_=null,C=null,D=null;for(N in a){var z=a[N];if(a.hasOwnProperty(N)&&z!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":_=z;default:n.hasOwnProperty(N)||Ue(e,t,N,null,n,z)}}for(var j in n){var N=n[j];if(z=a[j],n.hasOwnProperty(j)&&(N!=null||z!=null))switch(j){case"type":c=N;break;case"name":r=N;break;case"checked":C=N;break;case"defaultChecked":D=N;break;case"value":h=N;break;case"defaultValue":v=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(l(137,t));break;default:N!==z&&Ue(e,t,j,N,n,z)}}xr(e,h,v,_,C,D,c,r);return;case"select":N=h=v=j=null;for(c in a)if(_=a[c],a.hasOwnProperty(c)&&_!=null)switch(c){case"value":break;case"multiple":N=_;default:n.hasOwnProperty(c)||Ue(e,t,c,null,n,_)}for(r in n)if(c=n[r],_=a[r],n.hasOwnProperty(r)&&(c!=null||_!=null))switch(r){case"value":j=c;break;case"defaultValue":v=c;break;case"multiple":h=c;default:c!==_&&Ue(e,t,r,c,n,_)}t=v,a=h,n=N,j!=null?Un(e,!!a,j,!1):!!n!=!!a&&(t!=null?Un(e,!!a,t,!0):Un(e,!!a,a?[]:"",!1));return;case"textarea":N=j=null;for(v in a)if(r=a[v],a.hasOwnProperty(v)&&r!=null&&!n.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ue(e,t,v,null,n,r)}for(h in n)if(r=n[h],c=a[h],n.hasOwnProperty(h)&&(r!=null||c!=null))switch(h){case"value":j=r;break;case"defaultValue":N=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(l(91));break;default:r!==c&&Ue(e,t,h,r,n,c)}wc(e,j,N);return;case"option":for(var ce in a)if(j=a[ce],a.hasOwnProperty(ce)&&j!=null&&!n.hasOwnProperty(ce))switch(ce){case"selected":e.selected=!1;break;default:Ue(e,t,ce,null,n,j)}for(_ in n)if(j=n[_],N=a[_],n.hasOwnProperty(_)&&j!==N&&(j!=null||N!=null))switch(_){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Ue(e,t,_,j,n,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in a)j=a[re],a.hasOwnProperty(re)&&j!=null&&!n.hasOwnProperty(re)&&Ue(e,t,re,null,n,j);for(C in n)if(j=n[C],N=a[C],n.hasOwnProperty(C)&&j!==N&&(j!=null||N!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(l(137,t));break;default:Ue(e,t,C,j,n,N)}return;default:if(Tr(t)){for(var De in a)j=a[De],a.hasOwnProperty(De)&&j!==void 0&&!n.hasOwnProperty(De)&&cu(e,t,De,void 0,n,j);for(D in n)j=n[D],N=a[D],!n.hasOwnProperty(D)||j===N||j===void 0&&N===void 0||cu(e,t,D,j,n,N);return}}for(var E in a)j=a[E],a.hasOwnProperty(E)&&j!=null&&!n.hasOwnProperty(E)&&Ue(e,t,E,null,n,j);for(z in n)j=n[z],N=a[z],!n.hasOwnProperty(z)||j===N||j==null&&N==null||Ue(e,t,z,j,n,N)}var du=null,fu=null;function Bl(e){return e.nodeType===9?e:e.ownerDocument}function Eh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Th(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function hu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gu=null;function uv(){var e=window.event;return e&&e.type==="popstate"?e===gu?!1:(gu=e,!0):(gu=null,!1)}var Oh=typeof setTimeout=="function"?setTimeout:void 0,cv=typeof clearTimeout=="function"?clearTimeout:void 0,Ch=typeof Promise=="function"?Promise:void 0,dv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ch<"u"?function(e){return Ch.resolve(null).then(e).catch(fv)}:Oh;function fv(e){setTimeout(function(){throw e})}function $a(e){return e==="head"}function Ah(e,t){var a=t,n=0,r=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(0<n&&8>n){a=n;var h=e.ownerDocument;if(a&1&&vs(h.documentElement),a&2&&vs(h.body),a&4)for(a=h.head,vs(a),h=a.firstChild;h;){var v=h.nextSibling,_=h.nodeName;h[Ri]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=v}}if(r===0){e.removeChild(c),Es(t);return}r--}else a==="$"||a==="$?"||a==="$!"?r++:n=a.charCodeAt(0)-48;else n=0;a=c}while(a);Es(t)}function yu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yu(a),br(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function hv(e,t,a,n){for(;e.nodeType===1;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Ri])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function gv(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Kt(e.nextSibling),e===null))return null;return e}function vu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function yv(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var mu=null;function jh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Nh(e,t,a){switch(t=Bl(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function vs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);br(e)}var Ht=new Map,Rh=new Set;function $l(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ma=V.d;V.d={f:vv,r:mv,D:pv,C:bv,L:_v,m:wv,X:xv,S:Sv,M:Ev};function vv(){var e=ma.f(),t=Rl();return e||t}function mv(e){var t=jn(e);t!==null&&t.tag===5&&t.type==="form"?Jd(t):ma.r(e)}var ui=typeof document>"u"?null:document;function Mh(e,t,a){var n=ui;if(n&&typeof t=="string"&&t){var r=Dt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),Rh.has(r)||(Rh.add(r),e={rel:e,crossOrigin:a,href:t},n.querySelector(r)===null&&(t=n.createElement("link"),ot(t,"link",e),tt(t),n.head.appendChild(t)))}}function pv(e){ma.D(e),Mh("dns-prefetch",e,null)}function bv(e,t){ma.C(e,t),Mh("preconnect",e,t)}function _v(e,t,a){ma.L(e,t,a);var n=ui;if(n&&e&&t){var r='link[rel="preload"][as="'+Dt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+Dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+Dt(a.imageSizes)+'"]')):r+='[href="'+Dt(e)+'"]';var c=r;switch(t){case"style":c=ci(e);break;case"script":c=di(e)}Ht.has(c)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ht.set(c,e),n.querySelector(r)!==null||t==="style"&&n.querySelector(ms(c))||t==="script"&&n.querySelector(ps(c))||(t=n.createElement("link"),ot(t,"link",e),tt(t),n.head.appendChild(t)))}}function wv(e,t){ma.m(e,t);var a=ui;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Dt(n)+'"][href="'+Dt(e)+'"]',c=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=di(e)}if(!Ht.has(c)&&(e=b({rel:"modulepreload",href:e},t),Ht.set(c,e),a.querySelector(r)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ps(c)))return}n=a.createElement("link"),ot(n,"link",e),tt(n),a.head.appendChild(n)}}}function Sv(e,t,a){ma.S(e,t,a);var n=ui;if(n&&e){var r=Nn(n).hoistableStyles,c=ci(e);t=t||"default";var h=r.get(c);if(!h){var v={loading:0,preload:null};if(h=n.querySelector(ms(c)))v.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ht.get(c))&&pu(e,a);var _=h=n.createElement("link");tt(_),ot(_,"link",e),_._p=new Promise(function(C,D){_.onload=C,_.onerror=D}),_.addEventListener("load",function(){v.loading|=1}),_.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Hl(h,t,n)}h={type:"stylesheet",instance:h,count:1,state:v},r.set(c,h)}}}function xv(e,t){ma.X(e,t);var a=ui;if(a&&e){var n=Nn(a).hoistableScripts,r=di(e),c=n.get(r);c||(c=a.querySelector(ps(r)),c||(e=b({src:e,async:!0},t),(t=Ht.get(r))&&bu(e,t),c=a.createElement("script"),tt(c),ot(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(r,c))}}function Ev(e,t){ma.M(e,t);var a=ui;if(a&&e){var n=Nn(a).hoistableScripts,r=di(e),c=n.get(r);c||(c=a.querySelector(ps(r)),c||(e=b({src:e,async:!0,type:"module"},t),(t=Ht.get(r))&&bu(e,t),c=a.createElement("script"),tt(c),ot(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(r,c))}}function Uh(e,t,a,n){var r=(r=Q.current)?$l(r):null;if(!r)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ci(a.href),a=Nn(r).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ci(a.href);var c=Nn(r).hoistableStyles,h=c.get(e);if(h||(r=r.ownerDocument||r,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=r.querySelector(ms(e)))&&!c._p&&(h.instance=c,h.state.loading=5),Ht.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ht.set(e,a),c||Tv(r,e,a,h.state))),t&&n===null)throw Error(l(528,""));return h}if(t&&n!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=di(a),a=Nn(r).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function ci(e){return'href="'+Dt(e)+'"'}function ms(e){return'link[rel="stylesheet"]['+e+"]"}function Dh(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Tv(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),ot(t,"link",a),tt(t),e.head.appendChild(t))}function di(e){return'[src="'+Dt(e)+'"]'}function ps(e){return"script[async]"+e}function kh(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Dt(a.href)+'"]');if(n)return t.instance=n,tt(n),n;var r=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),tt(n),ot(n,"style",r),Hl(n,a.precedence,e),t.instance=n;case"stylesheet":r=ci(a.href);var c=e.querySelector(ms(r));if(c)return t.state.loading|=4,t.instance=c,tt(c),c;n=Dh(a),(r=Ht.get(r))&&pu(n,r),c=(e.ownerDocument||e).createElement("link"),tt(c);var h=c;return h._p=new Promise(function(v,_){h.onload=v,h.onerror=_}),ot(c,"link",n),t.state.loading|=4,Hl(c,a.precedence,e),t.instance=c;case"script":return c=di(a.src),(r=e.querySelector(ps(c)))?(t.instance=r,tt(r),r):(n=a,(r=Ht.get(c))&&(n=b({},a),bu(n,r)),e=e.ownerDocument||e,r=e.createElement("script"),tt(r),ot(r,"link",n),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Hl(n,a.precedence,e));return t.instance}function Hl(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,c=r,h=0;h<n.length;h++){var v=n[h];if(v.dataset.precedence===t)c=v;else if(c!==r)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function pu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function bu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Gl=null;function zh(e,t,a){if(Gl===null){var n=new Map,r=Gl=new Map;r.set(a,n)}else r=Gl,n=r.get(a),n||(n=new Map,r.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var c=a[r];if(!(c[Ri]||c[dt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var h=c.getAttribute(t)||"";h=e+h;var v=n.get(h);v?v.push(c):n.set(h,[c])}}return n}function Lh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Ov(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function qh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var bs=null;function Cv(){}function Av(e,t,a){if(bs===null)throw Error(l(475));var n=bs;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var r=ci(a.href),c=e.querySelector(ms(r));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=Yl.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=c,tt(c);return}c=e.ownerDocument||e,a=Dh(a),(r=Ht.get(r))&&pu(a,r),c=c.createElement("link"),tt(c);var h=c;h._p=new Promise(function(v,_){h.onload=v,h.onerror=_}),ot(c,"link",a),t.instance=c}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=Yl.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function jv(){if(bs===null)throw Error(l(475));var e=bs;return e.stylesheets&&e.count===0&&_u(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&_u(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Yl(){if(this.count--,this.count===0){if(this.stylesheets)_u(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kl=null;function _u(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kl=new Map,t.forEach(Nv,e),Kl=null,Yl.call(e))}function Nv(e,t){if(!(t.state.loading&4)){var a=Kl.get(e);if(a)var n=a.get(null);else{a=new Map,Kl.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<r.length;c++){var h=r[c];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(a.set(h.dataset.precedence,h),n=h)}n&&a.set(null,n)}r=t.instance,h=r.getAttribute("data-precedence"),c=a.get(h)||n,c===n&&a.set(null,r),a.set(h,r),this.count++,n=Yl.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),c?c.parentNode.insertBefore(r,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var _s={$$typeof:$,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Rv(e,t,a,n,r,c,h,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=aa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aa(0),this.hiddenUpdates=aa(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=c,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Bh(e,t,a,n,r,c,h,v,_,C,D,z){return e=new Rv(e,t,a,h,v,_,C,z),t=1,c===!0&&(t|=24),c=Ct(3,null,null,t),e.current=c,c.stateNode=e,t=eo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:n,isDehydrated:a,cache:t},io(c),e}function $h(e){return e?(e=Gn,e):Gn}function Hh(e,t,a,n,r,c){r=$h(r),n.context===null?n.context=r:n.pendingContext=r,n=Ca(t),n.payload={element:a},c=c===void 0?null:c,c!==null&&(n.callback=c),a=Aa(e,n,t),a!==null&&(Mt(a,e,t),Ji(a,e,t))}function Gh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function wu(e,t){Gh(e,t),(e=e.alternate)&&Gh(e,t)}function Yh(e){if(e.tag===13){var t=Hn(e,67108864);t!==null&&Mt(t,e,67108864),wu(e,67108864)}}var Vl=!0;function Mv(e,t,a,n){var r=R.T;R.T=null;var c=V.p;try{V.p=2,Su(e,t,a,n)}finally{V.p=c,R.T=r}}function Uv(e,t,a,n){var r=R.T;R.T=null;var c=V.p;try{V.p=8,Su(e,t,a,n)}finally{V.p=c,R.T=r}}function Su(e,t,a,n){if(Vl){var r=xu(n);if(r===null)uu(e,t,n,Xl,a),Vh(e,n);else if(kv(r,e,t,a,n))n.stopPropagation();else if(Vh(e,n),t&4&&-1<Dv.indexOf(e)){for(;r!==null;){var c=jn(r);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var h=Ie(c.pendingLanes);if(h!==0){var v=c;for(v.pendingLanes|=2,v.entangledLanes|=2;h;){var _=1<<31-vt(h);v.entanglements[1]|=_,h&=~_}ea(c),(Ne&6)===0&&(jl=Et()+500,hs(0))}}break;case 13:v=Hn(c,2),v!==null&&Mt(v,c,2),Rl(),wu(c,2)}if(c=xu(n),c===null&&uu(e,t,n,Xl,a),c===r)break;r=c}r!==null&&n.stopPropagation()}else uu(e,t,n,null,a)}}function xu(e){return e=Cr(e),Eu(e)}var Xl=null;function Eu(e){if(Xl=null,e=An(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Xl=e,null}function Kh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qs()){case Bs:return 2;case $s:return 8;case On:case fr:return 32;case Hs:return 268435456;default:return 32}default:return 32}}var Tu=!1,Ha=null,Ga=null,Ya=null,ws=new Map,Ss=new Map,Ka=[],Dv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vh(e,t){switch(e){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":ws.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ss.delete(t.pointerId)}}function xs(e,t,a,n,r,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:c,targetContainers:[r]},t!==null&&(t=jn(t),t!==null&&Yh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function kv(e,t,a,n,r){switch(t){case"focusin":return Ha=xs(Ha,e,t,a,n,r),!0;case"dragenter":return Ga=xs(Ga,e,t,a,n,r),!0;case"mouseover":return Ya=xs(Ya,e,t,a,n,r),!0;case"pointerover":var c=r.pointerId;return ws.set(c,xs(ws.get(c)||null,e,t,a,n,r)),!0;case"gotpointercapture":return c=r.pointerId,Ss.set(c,xs(Ss.get(c)||null,e,t,a,n,r)),!0}return!1}function Xh(e){var t=An(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,A0(e.priority,function(){if(a.tag===13){var n=Rt();n=vr(n);var r=Hn(a,n);r!==null&&Mt(r,a,n),wu(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ql(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=xu(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Or=n,a.target.dispatchEvent(n),Or=null}else return t=jn(a),t!==null&&Yh(t),e.blockedOn=a,!1;t.shift()}return!0}function Qh(e,t,a){Ql(e)&&a.delete(t)}function zv(){Tu=!1,Ha!==null&&Ql(Ha)&&(Ha=null),Ga!==null&&Ql(Ga)&&(Ga=null),Ya!==null&&Ql(Ya)&&(Ya=null),ws.forEach(Qh),Ss.forEach(Qh)}function Il(e,t){e.blockedOn===t&&(e.blockedOn=null,Tu||(Tu=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,zv)))}var Zl=null;function Ih(e){Zl!==e&&(Zl=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){Zl===e&&(Zl=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],r=e[t+2];if(typeof n!="function"){if(Eu(n||a)===null)continue;break}var c=jn(a);c!==null&&(e.splice(t,3),t-=3,Eo(c,{pending:!0,data:r,method:a.method,action:n},n,r))}}))}function Es(e){function t(_){return Il(_,e)}Ha!==null&&Il(Ha,e),Ga!==null&&Il(Ga,e),Ya!==null&&Il(Ya,e),ws.forEach(t),Ss.forEach(t);for(var a=0;a<Ka.length;a++){var n=Ka[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Ka.length&&(a=Ka[0],a.blockedOn===null);)Xh(a),a.blockedOn===null&&Ka.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var r=a[n],c=a[n+1],h=r[bt]||null;if(typeof c=="function")h||Ih(a);else if(h){var v=null;if(c&&c.hasAttribute("formAction")){if(r=c,h=c[bt]||null)v=h.formAction;else if(Eu(r)!==null)continue}else v=h.action;typeof v=="function"?a[n+1]=v:(a.splice(n,3),n-=3),Ih(a)}}}function Ou(e){this._internalRoot=e}Jl.prototype.render=Ou.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,n=Rt();Hh(a,n,e,t,null,null)},Jl.prototype.unmount=Ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hh(e.current,2,null,e,null,null),Rl(),t[Cn]=null}};function Jl(e){this._internalRoot=e}Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=cc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ka.length&&t!==0&&t<Ka[a].priority;a++);Ka.splice(a,0,e),a===0&&Xh(e)}};var Zh=i.version;if(Zh!=="19.1.1")throw Error(l(527,Zh,"19.1.1"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=y(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var Lv={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{Wa=Fl.inject(Lv),yt=Fl}catch{}}return Os.createRoot=function(e,t){if(!o(e))throw Error(l(299));var a=!1,n="",r=df,c=ff,h=hf,v=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(v=t.unstable_transitionCallbacks)),t=Bh(e,1,!1,null,null,a,n,r,c,h,v,null),e[Cn]=t.current,ou(e),new Ou(t)},Os.hydrateRoot=function(e,t,a){if(!o(e))throw Error(l(299));var n=!1,r="",c=df,h=ff,v=hf,_=null,C=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(_=a.unstable_transitionCallbacks),a.formState!==void 0&&(C=a.formState)),t=Bh(e,1,!0,t,a??null,n,r,c,h,v,_,C),t.context=$h(null),a=t.current,n=Rt(),n=vr(n),r=Ca(n),r.callback=null,Aa(a,r,n),a=n,t.current.lanes=a,en(t,a),ea(t),e[Cn]=t.current,ou(e),new Jl(t)},Os.version="19.1.1",Os}var sg;function Zv(){if(sg)return ju.exports;sg=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),ju.exports=Iv(),ju.exports}var Jv=Zv();/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pv=u=>u.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,s,l)=>l?l.toUpperCase():s.toLowerCase()),lg=u=>{const i=Pv(u);return i.charAt(0).toUpperCase()+i.slice(1)},Fg=(...u)=>u.filter((i,s,l)=>!!i&&i.trim()!==""&&l.indexOf(i)===s).join(" ").trim(),Wv=u=>{for(const i in u)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var em={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=ee.forwardRef(({color:u="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:o="",children:d,iconNode:f,...g},y)=>ee.createElement("svg",{ref:y,...em,width:i,height:i,stroke:u,strokeWidth:l?Number(s)*24/Number(i):s,className:Fg("lucide",o),...!d&&!Wv(g)&&{"aria-hidden":"true"},...g},[...f.map(([p,b])=>ee.createElement(p,b)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(u,i)=>{const s=ee.forwardRef(({className:l,...o},d)=>ee.createElement(tm,{ref:d,iconNode:i,className:Fg(`lucide-${Fv(lg(u))}`,`lucide-${u}`,l),...o}));return s.displayName=lg(u),s};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],rg=et("brain",am);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Pg=et("calendar",nm);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ir=et("check",im);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Wg=et("chevron-down",sm);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],rm=et("chevron-right",lm);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],um=et("circle",om);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],og=et("clock",cm);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],fm=et("hash",dm);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],gm=et("moon",hm);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],sr=et("pen-line",ym);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],e0=et("plus",vm);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Uu=et("search",mm);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],t0=et("settings",pm);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],_m=et("smile",bm);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Sm=et("square-check-big",wm);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Em=et("square",xm);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Om=et("sun",Tm);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],lr=et("trash-2",Cm);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ci=et("x",Am);var ug;(function(u){u.STRING="string",u.NUMBER="number",u.INTEGER="integer",u.BOOLEAN="boolean",u.ARRAY="array",u.OBJECT="object"})(ug||(ug={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cg;(function(u){u.LANGUAGE_UNSPECIFIED="language_unspecified",u.PYTHON="python"})(cg||(cg={}));var dg;(function(u){u.OUTCOME_UNSPECIFIED="outcome_unspecified",u.OUTCOME_OK="outcome_ok",u.OUTCOME_FAILED="outcome_failed",u.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(dg||(dg={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=["user","model","function","system"];var hg;(function(u){u.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",u.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",u.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",u.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",u.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",u.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(hg||(hg={}));var gg;(function(u){u.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",u.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",u.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",u.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",u.BLOCK_NONE="BLOCK_NONE"})(gg||(gg={}));var yg;(function(u){u.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",u.NEGLIGIBLE="NEGLIGIBLE",u.LOW="LOW",u.MEDIUM="MEDIUM",u.HIGH="HIGH"})(yg||(yg={}));var vg;(function(u){u.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",u.SAFETY="SAFETY",u.OTHER="OTHER"})(vg||(vg={}));var As;(function(u){u.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",u.STOP="STOP",u.MAX_TOKENS="MAX_TOKENS",u.SAFETY="SAFETY",u.RECITATION="RECITATION",u.LANGUAGE="LANGUAGE",u.BLOCKLIST="BLOCKLIST",u.PROHIBITED_CONTENT="PROHIBITED_CONTENT",u.SPII="SPII",u.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",u.OTHER="OTHER"})(As||(As={}));var mg;(function(u){u.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",u.RETRIEVAL_QUERY="RETRIEVAL_QUERY",u.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",u.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",u.CLASSIFICATION="CLASSIFICATION",u.CLUSTERING="CLUSTERING"})(mg||(mg={}));var pg;(function(u){u.MODE_UNSPECIFIED="MODE_UNSPECIFIED",u.AUTO="AUTO",u.ANY="ANY",u.NONE="NONE"})(pg||(pg={}));var bg;(function(u){u.MODE_UNSPECIFIED="MODE_UNSPECIFIED",u.MODE_DYNAMIC="MODE_DYNAMIC"})(bg||(bg={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends Error{constructor(i){super(`[GoogleGenerativeAI Error]: ${i}`)}}class fi extends gt{constructor(i,s){super(i),this.response=s}}class a0 extends gt{constructor(i,s,l,o){super(i),this.status=s,this.statusText=l,this.errorDetails=o}}class Ja extends gt{}class n0 extends gt{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="https://generativelanguage.googleapis.com",Nm="v1beta",Rm="0.24.1",Mm="genai-js";var xn;(function(u){u.GENERATE_CONTENT="generateContent",u.STREAM_GENERATE_CONTENT="streamGenerateContent",u.COUNT_TOKENS="countTokens",u.EMBED_CONTENT="embedContent",u.BATCH_EMBED_CONTENTS="batchEmbedContents"})(xn||(xn={}));class Um{constructor(i,s,l,o,d){this.model=i,this.task=s,this.apiKey=l,this.stream=o,this.requestOptions=d}toString(){var i,s;const l=((i=this.requestOptions)===null||i===void 0?void 0:i.apiVersion)||Nm;let d=`${((s=this.requestOptions)===null||s===void 0?void 0:s.baseUrl)||jm}/${l}/${this.model}:${this.task}`;return this.stream&&(d+="?alt=sse"),d}}function Dm(u){const i=[];return u?.apiClient&&i.push(u.apiClient),i.push(`${Mm}/${Rm}`),i.join(" ")}async function km(u){var i;const s=new Headers;s.append("Content-Type","application/json"),s.append("x-goog-api-client",Dm(u.requestOptions)),s.append("x-goog-api-key",u.apiKey);let l=(i=u.requestOptions)===null||i===void 0?void 0:i.customHeaders;if(l){if(!(l instanceof Headers))try{l=new Headers(l)}catch(o){throw new Ja(`unable to convert customHeaders value ${JSON.stringify(l)} to Headers: ${o.message}`)}for(const[o,d]of l.entries()){if(o==="x-goog-api-key")throw new Ja(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new Ja(`Header name ${o} can only be set using the apiClient field`);s.append(o,d)}}return s}async function zm(u,i,s,l,o,d){const f=new Um(u,i,s,l,d);return{url:f.toString(),fetchOptions:Object.assign(Object.assign({},$m(d)),{method:"POST",headers:await km(f),body:o})}}async function ks(u,i,s,l,o,d={},f=fetch){const{url:g,fetchOptions:y}=await zm(u,i,s,l,o,d);return Lm(g,y,f)}async function Lm(u,i,s=fetch){let l;try{l=await s(u,i)}catch(o){qm(o,u)}return l.ok||await Bm(l,u),l}function qm(u,i){let s=u;throw s.name==="AbortError"?(s=new n0(`Request aborted when fetching ${i.toString()}: ${u.message}`),s.stack=u.stack):u instanceof a0||u instanceof Ja||(s=new gt(`Error fetching from ${i.toString()}: ${u.message}`),s.stack=u.stack),s}async function Bm(u,i){let s="",l;try{const o=await u.json();s=o.error.message,o.error.details&&(s+=` ${JSON.stringify(o.error.details)}`,l=o.error.details)}catch{}throw new a0(`Error fetching from ${i.toString()}: [${u.status} ${u.statusText}] ${s}`,u.status,u.statusText,l)}function $m(u){const i={};if(u?.signal!==void 0||u?.timeout>=0){const s=new AbortController;u?.timeout>=0&&setTimeout(()=>s.abort(),u.timeout),u?.signal&&u.signal.addEventListener("abort",()=>{s.abort()}),i.signal=s.signal}return i}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(u){return u.text=()=>{if(u.candidates&&u.candidates.length>0){if(u.candidates.length>1&&console.warn(`This response had ${u.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),nr(u.candidates[0]))throw new fi(`${Ia(u)}`,u);return Hm(u)}else if(u.promptFeedback)throw new fi(`Text not available. ${Ia(u)}`,u);return""},u.functionCall=()=>{if(u.candidates&&u.candidates.length>0){if(u.candidates.length>1&&console.warn(`This response had ${u.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),nr(u.candidates[0]))throw new fi(`${Ia(u)}`,u);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),_g(u)[0]}else if(u.promptFeedback)throw new fi(`Function call not available. ${Ia(u)}`,u)},u.functionCalls=()=>{if(u.candidates&&u.candidates.length>0){if(u.candidates.length>1&&console.warn(`This response had ${u.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),nr(u.candidates[0]))throw new fi(`${Ia(u)}`,u);return _g(u)}else if(u.promptFeedback)throw new fi(`Function call not available. ${Ia(u)}`,u)},u}function Hm(u){var i,s,l,o;const d=[];if(!((s=(i=u.candidates)===null||i===void 0?void 0:i[0].content)===null||s===void 0)&&s.parts)for(const f of(o=(l=u.candidates)===null||l===void 0?void 0:l[0].content)===null||o===void 0?void 0:o.parts)f.text&&d.push(f.text),f.executableCode&&d.push("\n```"+f.executableCode.language+`
`+f.executableCode.code+"\n```\n"),f.codeExecutionResult&&d.push("\n```\n"+f.codeExecutionResult.output+"\n```\n");return d.length>0?d.join(""):""}function _g(u){var i,s,l,o;const d=[];if(!((s=(i=u.candidates)===null||i===void 0?void 0:i[0].content)===null||s===void 0)&&s.parts)for(const f of(o=(l=u.candidates)===null||l===void 0?void 0:l[0].content)===null||o===void 0?void 0:o.parts)f.functionCall&&d.push(f.functionCall);if(d.length>0)return d}const Gm=[As.RECITATION,As.SAFETY,As.LANGUAGE];function nr(u){return!!u.finishReason&&Gm.includes(u.finishReason)}function Ia(u){var i,s,l;let o="";if((!u.candidates||u.candidates.length===0)&&u.promptFeedback)o+="Response was blocked",!((i=u.promptFeedback)===null||i===void 0)&&i.blockReason&&(o+=` due to ${u.promptFeedback.blockReason}`),!((s=u.promptFeedback)===null||s===void 0)&&s.blockReasonMessage&&(o+=`: ${u.promptFeedback.blockReasonMessage}`);else if(!((l=u.candidates)===null||l===void 0)&&l[0]){const d=u.candidates[0];nr(d)&&(o+=`Candidate was blocked due to ${d.finishReason}`,d.finishMessage&&(o+=`: ${d.finishMessage}`))}return o}function Ms(u){return this instanceof Ms?(this.v=u,this):new Ms(u)}function Ym(u,i,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=s.apply(u,i||[]),o,d=[];return o={},f("next"),f("throw"),f("return"),o[Symbol.asyncIterator]=function(){return this},o;function f(O){l[O]&&(o[O]=function(A){return new Promise(function(U,q){d.push([O,A,U,q])>1||g(O,A)})})}function g(O,A){try{y(l[O](A))}catch(U){x(d[0][3],U)}}function y(O){O.value instanceof Ms?Promise.resolve(O.value.v).then(p,b):x(d[0][2],O)}function p(O){g("next",O)}function b(O){g("throw",O)}function x(O,A){O(A),d.shift(),d.length&&g(d[0][0],d[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Km(u){const i=u.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),s=Qm(i),[l,o]=s.tee();return{stream:Xm(l),response:Vm(o)}}async function Vm(u){const i=[],s=u.getReader();for(;;){const{done:l,value:o}=await s.read();if(l)return ac(Im(i));i.push(o)}}function Xm(u){return Ym(this,arguments,function*(){const s=u.getReader();for(;;){const{value:l,done:o}=yield Ms(s.read());if(o)break;yield yield Ms(ac(l))}})}function Qm(u){const i=u.getReader();return new ReadableStream({start(l){let o="";return d();function d(){return i.read().then(({value:f,done:g})=>{if(g){if(o.trim()){l.error(new gt("Failed to parse stream"));return}l.close();return}o+=f;let y=o.match(wg),p;for(;y;){try{p=JSON.parse(y[1])}catch{l.error(new gt(`Error parsing JSON response: "${y[1]}"`));return}l.enqueue(p),o=o.substring(y[0].length),y=o.match(wg)}return d()}).catch(f=>{let g=f;throw g.stack=f.stack,g.name==="AbortError"?g=new n0("Request aborted when reading from the stream"):g=new gt("Error reading from the stream"),g})}}})}function Im(u){const i=u[u.length-1],s={promptFeedback:i?.promptFeedback};for(const l of u){if(l.candidates){let o=0;for(const d of l.candidates)if(s.candidates||(s.candidates=[]),s.candidates[o]||(s.candidates[o]={index:o}),s.candidates[o].citationMetadata=d.citationMetadata,s.candidates[o].groundingMetadata=d.groundingMetadata,s.candidates[o].finishReason=d.finishReason,s.candidates[o].finishMessage=d.finishMessage,s.candidates[o].safetyRatings=d.safetyRatings,d.content&&d.content.parts){s.candidates[o].content||(s.candidates[o].content={role:d.content.role||"user",parts:[]});const f={};for(const g of d.content.parts)g.text&&(f.text=g.text),g.functionCall&&(f.functionCall=g.functionCall),g.executableCode&&(f.executableCode=g.executableCode),g.codeExecutionResult&&(f.codeExecutionResult=g.codeExecutionResult),Object.keys(f).length===0&&(f.text=""),s.candidates[o].content.parts.push(f)}o++}l.usageMetadata&&(s.usageMetadata=l.usageMetadata)}return s}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i0(u,i,s,l){const o=await ks(i,xn.STREAM_GENERATE_CONTENT,u,!0,JSON.stringify(s),l);return Km(o)}async function s0(u,i,s,l){const d=await(await ks(i,xn.GENERATE_CONTENT,u,!1,JSON.stringify(s),l)).json();return{response:ac(d)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(u){if(u!=null){if(typeof u=="string")return{role:"system",parts:[{text:u}]};if(u.text)return{role:"system",parts:[u]};if(u.parts)return u.role?u:{role:"system",parts:u.parts}}}function Us(u){let i=[];if(typeof u=="string")i=[{text:u}];else for(const s of u)typeof s=="string"?i.push({text:s}):i.push(s);return Zm(i)}function Zm(u){const i={role:"user",parts:[]},s={role:"function",parts:[]};let l=!1,o=!1;for(const d of u)"functionResponse"in d?(s.parts.push(d),o=!0):(i.parts.push(d),l=!0);if(l&&o)throw new gt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!l&&!o)throw new gt("No content is provided for sending chat message.");return l?i:s}function Jm(u,i){var s;let l={model:i?.model,generationConfig:i?.generationConfig,safetySettings:i?.safetySettings,tools:i?.tools,toolConfig:i?.toolConfig,systemInstruction:i?.systemInstruction,cachedContent:(s=i?.cachedContent)===null||s===void 0?void 0:s.name,contents:[]};const o=u.generateContentRequest!=null;if(u.contents){if(o)throw new Ja("CountTokensRequest must have one of contents or generateContentRequest, not both.");l.contents=u.contents}else if(o)l=Object.assign(Object.assign({},l),u.generateContentRequest);else{const d=Us(u);l.contents=[d]}return{generateContentRequest:l}}function Sg(u){let i;return u.contents?i=u:i={contents:[Us(u)]},u.systemInstruction&&(i.systemInstruction=l0(u.systemInstruction)),i}function Fm(u){return typeof u=="string"||Array.isArray(u)?{content:Us(u)}:u}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Pm={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Wm(u){let i=!1;for(const s of u){const{role:l,parts:o}=s;if(!i&&l!=="user")throw new gt(`First content should be with role 'user', got ${l}`);if(!fg.includes(l))throw new gt(`Each item should include role field. Got ${l} but valid roles are: ${JSON.stringify(fg)}`);if(!Array.isArray(o))throw new gt("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new gt("Each Content should have at least one part");const d={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const g of o)for(const y of xg)y in g&&(d[y]+=1);const f=Pm[l];for(const g of xg)if(!f.includes(g)&&d[g]>0)throw new gt(`Content with role '${l}' can't contain '${g}' part`);i=!0}}function Eg(u){var i;if(u.candidates===void 0||u.candidates.length===0)return!1;const s=(i=u.candidates[0])===null||i===void 0?void 0:i.content;if(s===void 0||s.parts===void 0||s.parts.length===0)return!1;for(const l of s.parts)if(l===void 0||Object.keys(l).length===0||l.text!==void 0&&l.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="SILENT_ERROR";class ep{constructor(i,s,l,o={}){this.model=s,this.params=l,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=i,l?.history&&(Wm(l.history),this._history=l.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(i,s={}){var l,o,d,f,g,y;await this._sendPromise;const p=Us(i),b={safetySettings:(l=this.params)===null||l===void 0?void 0:l.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(d=this.params)===null||d===void 0?void 0:d.tools,toolConfig:(f=this.params)===null||f===void 0?void 0:f.toolConfig,systemInstruction:(g=this.params)===null||g===void 0?void 0:g.systemInstruction,cachedContent:(y=this.params)===null||y===void 0?void 0:y.cachedContent,contents:[...this._history,p]},x=Object.assign(Object.assign({},this._requestOptions),s);let O;return this._sendPromise=this._sendPromise.then(()=>s0(this._apiKey,this.model,b,x)).then(A=>{var U;if(Eg(A.response)){this._history.push(p);const q=Object.assign({parts:[],role:"model"},(U=A.response.candidates)===null||U===void 0?void 0:U[0].content);this._history.push(q)}else{const q=Ia(A.response);q&&console.warn(`sendMessage() was unsuccessful. ${q}. Inspect response object for details.`)}O=A}).catch(A=>{throw this._sendPromise=Promise.resolve(),A}),await this._sendPromise,O}async sendMessageStream(i,s={}){var l,o,d,f,g,y;await this._sendPromise;const p=Us(i),b={safetySettings:(l=this.params)===null||l===void 0?void 0:l.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(d=this.params)===null||d===void 0?void 0:d.tools,toolConfig:(f=this.params)===null||f===void 0?void 0:f.toolConfig,systemInstruction:(g=this.params)===null||g===void 0?void 0:g.systemInstruction,cachedContent:(y=this.params)===null||y===void 0?void 0:y.cachedContent,contents:[...this._history,p]},x=Object.assign(Object.assign({},this._requestOptions),s),O=i0(this._apiKey,this.model,b,x);return this._sendPromise=this._sendPromise.then(()=>O).catch(A=>{throw new Error(Tg)}).then(A=>A.response).then(A=>{if(Eg(A)){this._history.push(p);const U=Object.assign({},A.candidates[0].content);U.role||(U.role="model"),this._history.push(U)}else{const U=Ia(A);U&&console.warn(`sendMessageStream() was unsuccessful. ${U}. Inspect response object for details.`)}}).catch(A=>{A.message!==Tg&&console.error(A)}),O}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tp(u,i,s,l){return(await ks(i,xn.COUNT_TOKENS,u,!1,JSON.stringify(s),l)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ap(u,i,s,l){return(await ks(i,xn.EMBED_CONTENT,u,!1,JSON.stringify(s),l)).json()}async function np(u,i,s,l){const o=s.requests.map(f=>Object.assign(Object.assign({},f),{model:i}));return(await ks(i,xn.BATCH_EMBED_CONTENTS,u,!1,JSON.stringify({requests:o}),l)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(i,s,l={}){this.apiKey=i,this._requestOptions=l,s.model.includes("/")?this.model=s.model:this.model=`models/${s.model}`,this.generationConfig=s.generationConfig||{},this.safetySettings=s.safetySettings||[],this.tools=s.tools,this.toolConfig=s.toolConfig,this.systemInstruction=l0(s.systemInstruction),this.cachedContent=s.cachedContent}async generateContent(i,s={}){var l;const o=Sg(i),d=Object.assign(Object.assign({},this._requestOptions),s);return s0(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(l=this.cachedContent)===null||l===void 0?void 0:l.name},o),d)}async generateContentStream(i,s={}){var l;const o=Sg(i),d=Object.assign(Object.assign({},this._requestOptions),s);return i0(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(l=this.cachedContent)===null||l===void 0?void 0:l.name},o),d)}startChat(i){var s;return new ep(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},i),this._requestOptions)}async countTokens(i,s={}){const l=Jm(i,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),s);return tp(this.apiKey,this.model,l,o)}async embedContent(i,s={}){const l=Fm(i),o=Object.assign(Object.assign({},this._requestOptions),s);return ap(this.apiKey,this.model,l,o)}async batchEmbedContents(i,s={}){const l=Object.assign(Object.assign({},this._requestOptions),s);return np(this.apiKey,this.model,i,l)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(i){this.apiKey=i}getGenerativeModel(i,s){if(!i.model)throw new gt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Og(this.apiKey,i,s)}getGenerativeModelFromCachedContent(i,s,l){if(!i.name)throw new Ja("Cached content must contain a `name` field.");if(!i.model)throw new Ja("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const f of o)if(s?.[f]&&i[f]&&s?.[f]!==i[f]){if(f==="model"){const g=s.model.startsWith("models/")?s.model.replace("models/",""):s.model,y=i.model.startsWith("models/")?i.model.replace("models/",""):i.model;if(g===y)continue}throw new Ja(`Different value for "${f}" specified in modelParams (${s[f]}) and cachedContent (${i[f]})`)}const d=Object.assign(Object.assign({},s),{model:i.model,tools:i.tools,toolConfig:i.toolConfig,systemInstruction:i.systemInstruction,cachedContent:i});return new Og(this.apiKey,d,l)}}const sp="AIzaSyDlIwXIVkpWD3COHVngvkPZAqLNX5uYp-M",lp=new ip(sp),rp=lp.getGenerativeModel({model:"gemini-2.5-pro",generationConfig:{responseMimeType:"application/json"}}),op=async(u,i=[],s=[])=>{if(!u.trim())throw new Error("텍스트를 입력해주세요");const l=new Date,o=l.toISOString().split("T")[0],d=new Date(l);d.setDate(d.getDate()+1);const f=d.toISOString().split("T")[0],g=new Date(l);g.setDate(l.getDate()+(7-l.getDay()+1)%7||7);const y=g.toISOString().split("T")[0],p=i.length>0?i.join(", "):"업무, 개인, 건강, 쇼핑, 학습",b=s.length>0?s.map(U=>`${U.category}: ${U.subcategories.map(q=>q.name).join(", ")}`).join(`
`):`업무: 회의, 프로젝트, 리포트
개인: 취미, 가족, 자기계발
건강: 운동, 식단, 의료
쇼핑: 생필품, 의류, 전자제품
학습: 온라인강의, 독서, 시험준비`,x=`
오늘 날짜: ${o}
내일 날짜: ${f}
다음 주 월요일: ${y}

다음 텍스트에서 할 일(TODO)들을 추출해서 JSON 형식으로 반환해주세요.

응답 형식:
{
  "todos": [
    {
      "title": "할 일 제목",
      "dueDate": "YYYY-MM-DD (선택사항, 날짜가 명확하지 않으면 null)",
      "category": "카테고리명 (선택사항, 추론 불가능하면 null)",
      "subcategory": "서브카테고리명 (선택사항, 해당 카테고리에 맞는 서브카테고리가 있으면 추론)",
      "confidence": 0.9 (0.0-1.0, 카테고리/서브카테고리/날짜 추론의 확신도)
    }
  ],
  "summary": "추출된 할 일들에 대한 간단한 요약"
}

사용 가능한 카테고리: ${p}

사용 가능한 서브카테고리:
${b}

규칙:
1. 명령형 문장, "해야 할", "필요한" 등의 표현에서 할 일 추출
2. 나열된 항목들 (-, *, 1., 2. 등)에서 할 일 추출
3. 날짜/시간 표현 정확히 해석:
   - "내일" → ${f}
   - "다음 주" → ${y}
   - "월요일" → 다음 월요일 계산
   - "12월 25일" → 연도 추가하여 완전한 날짜로
   - 애매한 표현("나중에", "언젠가")은 null
4. 카테고리 및 서브카테고리 추론:
   - 먼저 적절한 카테고리 판단
   - 해당 카테고리에 서브카테고리가 있으면 더 구체적으로 분류
   - 예: "팀 회의" → category: "업무", subcategory: "회의"
   - 예: "헬스장 가기" → category: "건강", subcategory: "운동"
   - 예: "책 주문" → category: "쇼핑", subcategory: "온라인강의" (아니면 null)
5. 서브카테고리 추론 규칙:
   - 회의: 미팅, 회의, 발표, 논의 관련
   - 프로젝트: 개발, 기획, 설계, 프로젝트 관련
   - 리포트: 보고서, 문서, 작성, 정리 관련
   - 운동: 헬스, 러닝, 요가, 체육 관련
   - 식단: 요리, 음식, 다이어트, 영양 관련
   - 의료: 병원, 치료, 약, 건강검진 관련
6. 중복되거나 유사한 할 일은 하나로 통합
7. 너무 모호한 내용은 제외

텍스트:
${u}
`,O=3;let A;for(let U=1;U<=O;U++)try{const se=(await rp.generateContent(x)).response.text();return JSON.parse(se)}catch(q){A=q,console.error(`Gemini API Error (attempt ${U}/${O}):`,q);const H=q.message?.includes("503")||q.message?.includes("overloaded")||q.message?.includes("429")||q.message?.includes("quota");if(U<O&&H){const se=Math.pow(2,U-1)*1e3;console.log(`${se}ms 후 재시도합니다...`),await new Promise(te=>setTimeout(te,se));continue}break}throw A.message?.includes("503")||A.message?.includes("overloaded")?new Error("AI 서버가 현재 과부하 상태입니다. 잠시 후 다시 시도해주세요."):A.message?.includes("429")||A.message?.includes("quota")?new Error("API 사용량을 초과했습니다. 잠시 후 다시 시도해주세요."):A.message?.includes("401")||A.message?.includes("403")?new Error("API 키가 유효하지 않습니다. 설정을 확인해주세요."):new Error("AI 분석 중 오류가 발생했습니다. 네트워크 연결을 확인해주세요.")},up="modulepreload",cp=function(u){return"/"+u},Cg={},zs=function(i,s,l){let o=Promise.resolve();if(s&&s.length>0){let p=function(b){return Promise.all(b.map(x=>Promise.resolve(x).then(O=>({status:"fulfilled",value:O}),O=>({status:"rejected",reason:O}))))};var f=p;document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),y=g?.nonce||g?.getAttribute("nonce");o=p(s.map(b=>{if(b=cp(b),b in Cg)return;Cg[b]=!0;const x=b.endsWith(".css"),O=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${O}`))return;const A=document.createElement("link");if(A.rel=x?"stylesheet":up,x||(A.as="script"),A.crossOrigin="",A.href=b,y&&A.setAttribute("nonce",y),document.head.appendChild(A),x)return new Promise((U,q)=>{A.addEventListener("load",U),A.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${b}`)))})}))}function d(g){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=g,window.dispatchEvent(y),!y.defaultPrevented)throw g}return o.then(g=>{for(const y of g||[])y.status==="rejected"&&d(y.reason);return i().catch(d)})},dp=u=>{let i;return u?i=u:typeof fetch>"u"?i=(...s)=>zs(async()=>{const{default:l}=await Promise.resolve().then(()=>ji);return{default:l}},void 0).then(({default:l})=>l(...s)):i=fetch,(...s)=>i(...s)};class nc extends Error{constructor(i,s="FunctionsError",l){super(i),this.name=s,this.context=l}}class fp extends nc{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class Ag extends nc{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class jg extends nc{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var Gu;(function(u){u.Any="any",u.ApNortheast1="ap-northeast-1",u.ApNortheast2="ap-northeast-2",u.ApSouth1="ap-south-1",u.ApSoutheast1="ap-southeast-1",u.ApSoutheast2="ap-southeast-2",u.CaCentral1="ca-central-1",u.EuCentral1="eu-central-1",u.EuWest1="eu-west-1",u.EuWest2="eu-west-2",u.EuWest3="eu-west-3",u.SaEast1="sa-east-1",u.UsEast1="us-east-1",u.UsWest1="us-west-1",u.UsWest2="us-west-2"})(Gu||(Gu={}));var hp=function(u,i,s,l){function o(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function g(b){try{p(l.next(b))}catch(x){f(x)}}function y(b){try{p(l.throw(b))}catch(x){f(x)}}function p(b){b.done?d(b.value):o(b.value).then(g,y)}p((l=l.apply(u,i||[])).next())})};class gp{constructor(i,{headers:s={},customFetch:l,region:o=Gu.Any}={}){this.url=i,this.headers=s,this.region=o,this.fetch=dp(l)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,s={}){var l;return hp(this,void 0,void 0,function*(){try{const{headers:o,method:d,body:f}=s;let g={},{region:y}=s;y||(y=this.region);const p=new URL(`${this.url}/${i}`);y&&y!=="any"&&(g["x-region"]=y,p.searchParams.set("forceFunctionRegion",y));let b;f&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",b=f):typeof f=="string"?(g["Content-Type"]="text/plain",b=f):typeof FormData<"u"&&f instanceof FormData?b=f:(g["Content-Type"]="application/json",b=JSON.stringify(f)));const x=yield this.fetch(p.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),o),body:b}).catch(q=>{throw new fp(q)}),O=x.headers.get("x-relay-error");if(O&&O==="true")throw new Ag(x);if(!x.ok)throw new jg(x);let A=((l=x.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),U;return A==="application/json"?U=yield x.json():A==="application/octet-stream"?U=yield x.blob():A==="text/event-stream"?U=x:A==="multipart/form-data"?U=yield x.formData():U=yield x.text(),{data:U,error:null,response:x}}catch(o){return{data:null,error:o,response:o instanceof jg||o instanceof Ag?o.context:void 0}}})}}var st={},hi={},gi={},yi={},vi={},mi={},yp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ai=yp();const vp=Ai.fetch,r0=Ai.fetch.bind(Ai),o0=Ai.Headers,mp=Ai.Request,pp=Ai.Response,ji=Object.freeze(Object.defineProperty({__proto__:null,Headers:o0,Request:mp,Response:pp,default:r0,fetch:vp},Symbol.toStringTag,{value:"Module"})),bp=$v(ji);var Pl={},Ng;function u0(){if(Ng)return Pl;Ng=1,Object.defineProperty(Pl,"__esModule",{value:!0});class u extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Pl.default=u,Pl}var Rg;function c0(){if(Rg)return mi;Rg=1;var u=mi&&mi.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(mi,"__esModule",{value:!0});const i=u(bp),s=u(u0());class l{constructor(d){var f,g;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(f=d.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=d.signal,this.isMaybeSingle=(g=d.isMaybeSingle)!==null&&g!==void 0?g:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,f){return this.headers=new Headers(this.headers),this.headers.set(d,f),this}then(d,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const g=this.fetch;let y=g(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var b,x,O,A;let U=null,q=null,H=null,se=p.status,te=p.statusText;if(p.ok){if(this.method!=="HEAD"){const J=await p.text();J===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((b=this.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?q=J:q=JSON.parse(J))}const W=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),B=(O=p.headers.get("content-range"))===null||O===void 0?void 0:O.split("/");W&&B&&B.length>1&&(H=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(q)&&(q.length>1?(U={code:"PGRST116",details:`Results contain ${q.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},q=null,H=null,se=406,te="Not Acceptable"):q.length===1?q=q[0]:q=null)}else{const W=await p.text();try{U=JSON.parse(W),Array.isArray(U)&&p.status===404&&(q=[],U=null,se=200,te="OK")}catch{p.status===404&&W===""?(se=204,te="No Content"):U={message:W}}if(U&&this.isMaybeSingle&&(!((A=U?.details)===null||A===void 0)&&A.includes("0 rows"))&&(U=null,se=200,te="OK"),U&&this.shouldThrowOnError)throw new s.default(U)}return{error:U,data:q,count:H,status:se,statusText:te}});return this.shouldThrowOnError||(y=y.catch(p=>{var b,x,O;return{error:{message:`${(b=p?.name)!==null&&b!==void 0?b:"FetchError"}: ${p?.message}`,details:`${(x=p?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(O=p?.code)!==null&&O!==void 0?O:""}`},data:null,count:null,status:0,statusText:""}})),y.then(d,f)}returns(){return this}overrideTypes(){return this}}return mi.default=l,mi}var Mg;function d0(){if(Mg)return vi;Mg=1;var u=vi&&vi.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(vi,"__esModule",{value:!0});const i=u(c0());class s extends i.default{select(o){let d=!1;const f=(o??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:d=!0,nullsFirst:f,foreignTable:g,referencedTable:y=g}={}){const p=y?`${y}.order`:"order",b=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${b?`${b},`:""}${o}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:d,referencedTable:f=d}={}){const g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${o}`),this}range(o,d,{foreignTable:f,referencedTable:g=f}={}){const y=typeof g>"u"?"offset":`${g}.offset`,p=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(y,`${o}`),this.url.searchParams.set(p,`${d-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:d=!1,settings:f=!1,buffers:g=!1,wal:y=!1,format:p="text"}={}){var b;const x=[o?"analyze":null,d?"verbose":null,f?"settings":null,g?"buffers":null,y?"wal":null].filter(Boolean).join("|"),O=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${O}"; options=${x};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return vi.default=s,vi}var Ug;function ic(){if(Ug)return yi;Ug=1;var u=yi&&yi.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(yi,"__esModule",{value:!0});const i=u(d0());class s extends i.default{eq(o,d){return this.url.searchParams.append(o,`eq.${d}`),this}neq(o,d){return this.url.searchParams.append(o,`neq.${d}`),this}gt(o,d){return this.url.searchParams.append(o,`gt.${d}`),this}gte(o,d){return this.url.searchParams.append(o,`gte.${d}`),this}lt(o,d){return this.url.searchParams.append(o,`lt.${d}`),this}lte(o,d){return this.url.searchParams.append(o,`lte.${d}`),this}like(o,d){return this.url.searchParams.append(o,`like.${d}`),this}likeAllOf(o,d){return this.url.searchParams.append(o,`like(all).{${d.join(",")}}`),this}likeAnyOf(o,d){return this.url.searchParams.append(o,`like(any).{${d.join(",")}}`),this}ilike(o,d){return this.url.searchParams.append(o,`ilike.${d}`),this}ilikeAllOf(o,d){return this.url.searchParams.append(o,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(o,d){return this.url.searchParams.append(o,`ilike(any).{${d.join(",")}}`),this}is(o,d){return this.url.searchParams.append(o,`is.${d}`),this}in(o,d){const f=Array.from(new Set(d)).map(g=>typeof g=="string"&&new RegExp("[,()]").test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(o,`in.(${f})`),this}contains(o,d){return typeof d=="string"?this.url.searchParams.append(o,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(o,`cs.{${d.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(d)}`),this}containedBy(o,d){return typeof d=="string"?this.url.searchParams.append(o,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(o,`cd.{${d.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(d)}`),this}rangeGt(o,d){return this.url.searchParams.append(o,`sr.${d}`),this}rangeGte(o,d){return this.url.searchParams.append(o,`nxl.${d}`),this}rangeLt(o,d){return this.url.searchParams.append(o,`sl.${d}`),this}rangeLte(o,d){return this.url.searchParams.append(o,`nxr.${d}`),this}rangeAdjacent(o,d){return this.url.searchParams.append(o,`adj.${d}`),this}overlaps(o,d){return typeof d=="string"?this.url.searchParams.append(o,`ov.${d}`):this.url.searchParams.append(o,`ov.{${d.join(",")}}`),this}textSearch(o,d,{config:f,type:g}={}){let y="";g==="plain"?y="pl":g==="phrase"?y="ph":g==="websearch"&&(y="w");const p=f===void 0?"":`(${f})`;return this.url.searchParams.append(o,`${y}fts${p}.${d}`),this}match(o){return Object.entries(o).forEach(([d,f])=>{this.url.searchParams.append(d,`eq.${f}`)}),this}not(o,d,f){return this.url.searchParams.append(o,`not.${d}.${f}`),this}or(o,{foreignTable:d,referencedTable:f=d}={}){const g=f?`${f}.or`:"or";return this.url.searchParams.append(g,`(${o})`),this}filter(o,d,f){return this.url.searchParams.append(o,`${d}.${f}`),this}}return yi.default=s,yi}var Dg;function f0(){if(Dg)return gi;Dg=1;var u=gi&&gi.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(gi,"__esModule",{value:!0});const i=u(ic());class s{constructor(o,{headers:d={},schema:f,fetch:g}){this.url=o,this.headers=new Headers(d),this.schema=f,this.fetch=g}select(o,{head:d=!1,count:f}={}){const g=d?"HEAD":"GET";let y=!1;const p=(o??"*").split("").map(b=>/\s/.test(b)&&!y?"":(b==='"'&&(y=!y),b)).join("");return this.url.searchParams.set("select",p),f&&this.headers.append("Prefer",`count=${f}`),new i.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:d,defaultToNull:f=!0}={}){var g;const y="POST";if(d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(p.length>0){const b=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",b.join(","))}}return new i.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}upsert(o,{onConflict:d,ignoreDuplicates:f=!1,count:g,defaultToNull:y=!0}={}){var p;const b="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),g&&this.headers.append("Prefer",`count=${g}`),y||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const x=o.reduce((O,A)=>O.concat(Object.keys(A)),[]);if(x.length>0){const O=[...new Set(x)].map(A=>`"${A}"`);this.url.searchParams.set("columns",O.join(","))}}return new i.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:d}={}){var f;const g="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new i.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:o}={}){var d;const f="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new i.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return gi.default=s,gi}var kg;function _p(){if(kg)return hi;kg=1;var u=hi&&hi.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(hi,"__esModule",{value:!0});const i=u(f0()),s=u(ic());class l{constructor(d,{headers:f={},schema:g,fetch:y}={}){this.url=d,this.headers=new Headers(f),this.schemaName=g,this.fetch=y}from(d){const f=new URL(`${this.url}/${d}`);return new i.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new l(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:g=!1,get:y=!1,count:p}={}){var b;let x;const O=new URL(`${this.url}/rpc/${d}`);let A;g||y?(x=g?"HEAD":"GET",Object.entries(f).filter(([q,H])=>H!==void 0).map(([q,H])=>[q,Array.isArray(H)?`{${H.join(",")}}`:`${H}`]).forEach(([q,H])=>{O.searchParams.append(q,H)})):(x="POST",A=f);const U=new Headers(this.headers);return p&&U.set("Prefer",`count=${p}`),new s.default({method:x,url:O,headers:U,schema:this.schemaName,body:A,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}}return hi.default=l,hi}var zg;function wp(){if(zg)return st;zg=1;var u=st&&st.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(st,"__esModule",{value:!0}),st.PostgrestError=st.PostgrestBuilder=st.PostgrestTransformBuilder=st.PostgrestFilterBuilder=st.PostgrestQueryBuilder=st.PostgrestClient=void 0;const i=u(_p());st.PostgrestClient=i.default;const s=u(f0());st.PostgrestQueryBuilder=s.default;const l=u(ic());st.PostgrestFilterBuilder=l.default;const o=u(d0());st.PostgrestTransformBuilder=o.default;const d=u(c0());st.PostgrestBuilder=d.default;const f=u(u0());return st.PostgrestError=f.default,st.default={PostgrestClient:i.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:d.default,PostgrestError:f.default},st}var Sp=wp();const xp=Bv(Sp),{PostgrestClient:Ep,PostgrestQueryBuilder:O_,PostgrestFilterBuilder:C_,PostgrestTransformBuilder:A_,PostgrestBuilder:j_,PostgrestError:N_}=xp;class Tp{static detectEnvironment(){var i;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((i=navigator.userAgent)===null||i===void 0)&&i.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const l=s.node,o=parseInt(l.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const i=this.detectEnvironment();if(i.constructor)return i.constructor;let s=i.error||"WebSocket not supported in this environment.";throw i.workaround&&(s+=`

Suggested solution: ${i.workaround}`),new Error(s)}static createWebSocket(i,s){const l=this.getWebSocketConstructor();return new l(i,s)}static isWebSocketSupported(){try{const i=this.detectEnvironment();return i.type==="native"||i.type==="ws"}catch{return!1}}}const Op="2.15.5",Cp=`realtime-js/${Op}`,Ap="1.0.0",Yu=1e4,jp=1e3,Np=100;var js;(function(u){u[u.connecting=0]="connecting",u[u.open=1]="open",u[u.closing=2]="closing",u[u.closed=3]="closed"})(js||(js={}));var Pe;(function(u){u.closed="closed",u.errored="errored",u.joined="joined",u.joining="joining",u.leaving="leaving"})(Pe||(Pe={}));var Xt;(function(u){u.close="phx_close",u.error="phx_error",u.join="phx_join",u.reply="phx_reply",u.leave="phx_leave",u.access_token="access_token"})(Xt||(Xt={}));var Ku;(function(u){u.websocket="websocket"})(Ku||(Ku={}));var Sn;(function(u){u.Connecting="connecting",u.Open="open",u.Closing="closing",u.Closed="closed"})(Sn||(Sn={}));class Rp{constructor(){this.HEADER_LENGTH=1}decode(i,s){return i.constructor===ArrayBuffer?s(this._binaryDecode(i)):s(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const s=new DataView(i),l=new TextDecoder;return this._decodeBroadcast(i,s,l)}_decodeBroadcast(i,s,l){const o=s.getUint8(1),d=s.getUint8(2);let f=this.HEADER_LENGTH+2;const g=l.decode(i.slice(f,f+o));f=f+o;const y=l.decode(i.slice(f,f+d));f=f+d;const p=JSON.parse(l.decode(i.slice(f,i.byteLength)));return{ref:null,topic:g,event:y,payload:p}}}class h0{constructor(i,s){this.callback=i,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(u){u.abstime="abstime",u.bool="bool",u.date="date",u.daterange="daterange",u.float4="float4",u.float8="float8",u.int2="int2",u.int4="int4",u.int4range="int4range",u.int8="int8",u.int8range="int8range",u.json="json",u.jsonb="jsonb",u.money="money",u.numeric="numeric",u.oid="oid",u.reltime="reltime",u.text="text",u.time="time",u.timestamp="timestamp",u.timestamptz="timestamptz",u.timetz="timetz",u.tsrange="tsrange",u.tstzrange="tstzrange"})(qe||(qe={}));const Lg=(u,i,s={})=>{var l;const o=(l=s.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(i).reduce((d,f)=>(d[f]=Mp(f,u,i,o),d),{})},Mp=(u,i,s,l)=>{const o=i.find(g=>g.name===u),d=o?.type,f=s[u];return d&&!l.includes(d)?g0(d,f):Vu(f)},g0=(u,i)=>{if(u.charAt(0)==="_"){const s=u.slice(1,u.length);return zp(i,s)}switch(u){case qe.bool:return Up(i);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return Dp(i);case qe.json:case qe.jsonb:return kp(i);case qe.timestamp:return Lp(i);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return Vu(i);default:return Vu(i)}},Vu=u=>u,Up=u=>{switch(u){case"t":return!0;case"f":return!1;default:return u}},Dp=u=>{if(typeof u=="string"){const i=parseFloat(u);if(!Number.isNaN(i))return i}return u},kp=u=>{if(typeof u=="string")try{return JSON.parse(u)}catch(i){return console.log(`JSON parse error: ${i}`),u}return u},zp=(u,i)=>{if(typeof u!="string")return u;const s=u.length-1,l=u[s];if(u[0]==="{"&&l==="}"){let d;const f=u.slice(1,s);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(g=>g0(i,g))}return u},Lp=u=>typeof u=="string"?u.replace(" ","T"):u,y0=u=>{let i=u;return i=i.replace(/^ws/i,"http"),i=i.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),i.replace(/\/+$/,"")+"/api/broadcast"};class Du{constructor(i,s,l={},o=Yu){this.channel=i,this.event=s,this.payload=l,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,s){var l;return this._hasReceived(i)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:i,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:s}){this.recHooks.filter(l=>l.status===i).forEach(l=>l.callback(s))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var qg;(function(u){u.SYNC="sync",u.JOIN="join",u.LEAVE="leave"})(qg||(qg={}));class Ns{constructor(i,s){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},o=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ns.syncState(this.state,o,d,f),this.pendingDiffs.forEach(y=>{this.state=Ns.syncDiff(this.state,y,d,f)}),this.pendingDiffs=[],g()}),this.channel._on(l.diff,{},o=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ns.syncDiff(this.state,o,d,f),g())}),this.onJoin((o,d,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:d,newPresences:f})}),this.onLeave((o,d,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,s,l,o){const d=this.cloneDeep(i),f=this.transformState(s),g={},y={};return this.map(d,(p,b)=>{f[p]||(y[p]=b)}),this.map(f,(p,b)=>{const x=d[p];if(x){const O=b.map(H=>H.presence_ref),A=x.map(H=>H.presence_ref),U=b.filter(H=>A.indexOf(H.presence_ref)<0),q=x.filter(H=>O.indexOf(H.presence_ref)<0);U.length>0&&(g[p]=U),q.length>0&&(y[p]=q)}else g[p]=b}),this.syncDiff(d,{joins:g,leaves:y},l,o)}static syncDiff(i,s,l,o){const{joins:d,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),o||(o=()=>{}),this.map(d,(g,y)=>{var p;const b=(p=i[g])!==null&&p!==void 0?p:[];if(i[g]=this.cloneDeep(y),b.length>0){const x=i[g].map(A=>A.presence_ref),O=b.filter(A=>x.indexOf(A.presence_ref)<0);i[g].unshift(...O)}l(g,b,y)}),this.map(f,(g,y)=>{let p=i[g];if(!p)return;const b=y.map(x=>x.presence_ref);p=p.filter(x=>b.indexOf(x.presence_ref)<0),i[g]=p,o(g,p,y),p.length===0&&delete i[g]}),i}static map(i,s){return Object.getOwnPropertyNames(i).map(l=>s(l,i[l]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((s,l)=>{const o=i[l];return"metas"in o?s[l]=o.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):s[l]=o,s},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bg;(function(u){u.ALL="*",u.INSERT="INSERT",u.UPDATE="UPDATE",u.DELETE="DELETE"})(Bg||(Bg={}));var Rs;(function(u){u.BROADCAST="broadcast",u.PRESENCE="presence",u.POSTGRES_CHANGES="postgres_changes",u.SYSTEM="system"})(Rs||(Rs={}));var _a;(function(u){u.SUBSCRIBED="SUBSCRIBED",u.TIMED_OUT="TIMED_OUT",u.CLOSED="CLOSED",u.CHANNEL_ERROR="CHANNEL_ERROR"})(_a||(_a={}));class sc{constructor(i,s={config:{}},l){this.topic=i,this.params=s,this.socket=l,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Du(this,Xt.join,this.params,this.timeout),this.rejoinTimer=new h0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xt.reply,{},(o,d)=>{this._trigger(this._replyEventName(d),o)}),this.presence=new Ns(this),this.broadcastEndpointURL=y0(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(i,s=this.timeout){var l,o,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Pe.closed){const{config:{broadcast:f,presence:g,private:y}}=this.params,p=(o=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(A=>A.filter))!==null&&o!==void 0?o:[],b=!!this.bindings[Rs.PRESENCE]&&this.bindings[Rs.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,x={},O={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:b}),postgres_changes:p,private:y};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(A=>i?.(_a.CHANNEL_ERROR,A)),this._onClose(()=>i?.(_a.CLOSED)),this.updateJoinPayload(Object.assign({config:O},x)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:A})=>{var U;if(this.socket.setAuth(),A===void 0){i?.(_a.SUBSCRIBED);return}else{const q=this.bindings.postgres_changes,H=(U=q?.length)!==null&&U!==void 0?U:0,se=[];for(let te=0;te<H;te++){const $=q[te],{filter:{event:W,schema:B,table:J,filter:ye}}=$,de=A&&A[te];if(de&&de.event===W&&de.schema===B&&de.table===J&&de.filter===ye)se.push(Object.assign(Object.assign({},$),{id:de.id}));else{this.unsubscribe(),this.state=Pe.errored,i?.(_a.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=se,i&&i(_a.SUBSCRIBED);return}}).receive("error",A=>{this.state=Pe.errored,i?.(_a.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{i?.(_a.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(i,s={}){return await this.send({type:"presence",event:"track",payload:i},s.timeout||this.timeout)}async untrack(i={}){return await this.send({type:"presence",event:"untrack"},i)}on(i,s,l){return this.state===Pe.joined&&i===Rs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(i,s,l)}async send(i,s={}){var l,o;if(!this._canPush()&&i.type==="broadcast"){const{event:d,payload:f}=i,y={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,g,y;const p=this._push(i.type,i,s.timeout||this.timeout);i.type==="broadcast"&&!(!((y=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||y===void 0)&&y.ack)&&d("ok"),p.receive("ok",()=>d("ok")),p.receive("error",()=>d("error")),p.receive("timeout",()=>d("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=Pe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(o=>{l=new Du(this,Xt.leave,{},i),l.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(i=>i.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pe.closed,this.bindings={}}async _fetchWithTimeout(i,s,l){const o=new AbortController,d=setTimeout(()=>o.abort(),l),f=await this.socket.fetch(i,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(d),f}_push(i,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Du(this,i,s,l);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(i){if(i.startTimeout(),this.pushBuffer.push(i),this.pushBuffer.length>Np){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(i,s,l){return s}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,s,l){var o,d;const f=i.toLocaleLowerCase(),{close:g,error:y,leave:p,join:b}=Xt;if(l&&[g,y,p,b].indexOf(f)>=0&&l!==this._joinRef())return;let O=this._onMessage(f,s,l);if(s&&!O)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(A=>{var U,q,H;return((U=A.filter)===null||U===void 0?void 0:U.event)==="*"||((H=(q=A.filter)===null||q===void 0?void 0:q.event)===null||H===void 0?void 0:H.toLocaleLowerCase())===f}).map(A=>A.callback(O,l)):(d=this.bindings[f])===null||d===void 0||d.filter(A=>{var U,q,H,se,te,$;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in A){const W=A.id,B=(U=A.filter)===null||U===void 0?void 0:U.event;return W&&((q=s.ids)===null||q===void 0?void 0:q.includes(W))&&(B==="*"||B?.toLocaleLowerCase()===((H=s.data)===null||H===void 0?void 0:H.type.toLocaleLowerCase()))}else{const W=(te=(se=A?.filter)===null||se===void 0?void 0:se.event)===null||te===void 0?void 0:te.toLocaleLowerCase();return W==="*"||W===(($=s?.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===f}).map(A=>{if(typeof O=="object"&&"ids"in O){const U=O.data,{schema:q,table:H,commit_timestamp:se,type:te,errors:$}=U;O=Object.assign(Object.assign({},{schema:q,table:H,commit_timestamp:se,eventType:te,new:{},old:{},errors:$}),this._getPayloadRecords(U))}A.callback(O,l)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,s,l){const o=i.toLocaleLowerCase(),d={type:o,filter:s,callback:l};return this.bindings[o]?this.bindings[o].push(d):this.bindings[o]=[d],this}_off(i,s){const l=i.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(o=>{var d;return!(((d=o.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&sc.isEqual(o.filter,s))})),this}static isEqual(i,s){if(Object.keys(i).length!==Object.keys(s).length)return!1;for(const l in i)if(i[l]!==s[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(Xt.close,{},i)}_onError(i){this._on(Xt.error,{},s=>i(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const s={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(s.new=Lg(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(s.old=Lg(i.columns,i.old_record)),s}}const ku=()=>{},Wl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qp=[1e3,2e3,5e3,1e4],Bp=1e4,$p=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Hp{constructor(i,s){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yu,this.transport=null,this.heartbeatIntervalMs=Wl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ku,this.ref=0,this.reconnectTimer=null,this.logger=ku,this.conn=null,this.sendBuffer=[],this.serializer=new Rp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let d;return o?d=o:typeof fetch>"u"?d=(...f)=>zs(async()=>{const{default:g}=await Promise.resolve().then(()=>ji);return{default:g}},void 0).then(({default:g})=>g(...f)).catch(g=>{throw new Error(`Failed to load @supabase/node-fetch: ${g.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...f)=>d(...f)},!(!((l=s?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${i}/${Ku.websocket}`,this.httpEndpoint=y0(i),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Tp.createWebSocket(this.endpointURL())}catch(i){this._setConnectionState("disconnected");const s=i.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ap}))}disconnect(i,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},i?this.conn.close(i,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(i){const s=await i.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const i=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),i}log(i,s,l){this.logger(i,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case js.connecting:return Sn.Connecting;case js.open:return Sn.Open;case js.closing:return Sn.Closing;default:return Sn.Closed}}isConnected(){return this.connectionState()===Sn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(i,s={config:{}}){const l=`realtime:${i}`,o=this.getChannels().find(d=>d.topic===l);if(o)return o;{const d=new sc(`realtime:${i}`,s,this);return this.channels.push(d),d}}push(i){const{topic:s,event:l,payload:o,ref:d}=i,f=()=>{this.encode(i,g=>{var y;(y=this.conn)===null||y===void 0||y.send(g)})};this.log("push",`${s} ${l} (${d})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(i=null){this._authPromise=this._performAuth(i);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var i;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(i=this.conn)===null||i===void 0||i.close(jp,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Wl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(i){this.heartbeatCallback=i}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let s=this.channels.find(l=>l.topic===i&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${i}"`),s.unsubscribe())}_remove(i){this.channels=this.channels.filter(s=>s.topic!==i.topic)}_onConnMessage(i){this.decode(i.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:o,payload:d,ref:f}=s,g=f?`(${f})`:"",y=d.status||"";this.log("receive",`${y} ${l} ${o} ${g}`.trim(),d),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(o,d,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(i){var s;i==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):i==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(i=>i.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const i=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(i),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(i){var s;this._setConnectionState("disconnected"),this.log("transport","close",i),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",i)}_onConnError(i){this._setConnectionState("disconnected"),this.log("transport",`${i}`),this._triggerChanError(),this._triggerStateCallbacks("error",i)}_triggerChanError(){this.channels.forEach(i=>i._trigger(Xt.error))}_appendParams(i,s){if(Object.keys(s).length===0)return i;const l=i.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${i}${l}${o}`}_workerObjectUrl(i){let s;if(i)s=i;else{const l=new Blob([$p],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}_setConnectionState(i,s=!1){this._connectionState=i,i==="connecting"?this._wasManualDisconnect=!1:i==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(i=null){let s;i?s=i:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(l=>{const o={access_token:s,version:Cp};s&&l.updateJoinPayload(o),l.joinedOnce&&l._isJoined()&&l._push(Xt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(i="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${i}`,s)})}_triggerStateCallbacks(i,s){try{this.stateChangeCallbacks[i].forEach(l=>{try{l(s)}catch(o){this.log("error",`error in ${i} callback`,o)}})}catch(l){this.log("error",`error triggering ${i} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new h0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Wl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(i){var s,l,o,d,f,g,y,p,b;if(this.transport=(s=i?.transport)!==null&&s!==void 0?s:null,this.timeout=(l=i?.timeout)!==null&&l!==void 0?l:Yu,this.heartbeatIntervalMs=(o=i?.heartbeatIntervalMs)!==null&&o!==void 0?o:Wl.HEARTBEAT_INTERVAL,this.worker=(d=i?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=i?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=i?.heartbeatCallback)!==null&&g!==void 0?g:ku,i?.params&&(this.params=i.params),i?.logger&&(this.logger=i.logger),(i?.logLevel||i?.log_level)&&(this.logLevel=i.logLevel||i.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=i?.reconnectAfterMs)!==null&&y!==void 0?y:(x=>qp[x-1]||Bp),this.encode=(p=i?.encode)!==null&&p!==void 0?p:((x,O)=>O(JSON.stringify(x))),this.decode=(b=i?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=i?.workerUrl}}}class lc extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function We(u){return typeof u=="object"&&u!==null&&"__isStorageError"in u}class Gp extends lc{constructor(i,s,l){super(i),this.name="StorageApiError",this.status=s,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Xu extends lc{constructor(i,s){super(i),this.name="StorageUnknownError",this.originalError=s}}var Yp=function(u,i,s,l){function o(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function g(b){try{p(l.next(b))}catch(x){f(x)}}function y(b){try{p(l.throw(b))}catch(x){f(x)}}function p(b){b.done?d(b.value):o(b.value).then(g,y)}p((l=l.apply(u,i||[])).next())})};const v0=u=>{let i;return u?i=u:typeof fetch>"u"?i=(...s)=>zs(async()=>{const{default:l}=await Promise.resolve().then(()=>ji);return{default:l}},void 0).then(({default:l})=>l(...s)):i=fetch,(...s)=>i(...s)},Kp=()=>Yp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield zs(()=>Promise.resolve().then(()=>ji),void 0)).Response:Response}),Qu=u=>{if(Array.isArray(u))return u.map(s=>Qu(s));if(typeof u=="function"||u!==Object(u))return u;const i={};return Object.entries(u).forEach(([s,l])=>{const o=s.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));i[o]=Qu(l)}),i},Vp=u=>{if(typeof u!="object"||u===null)return!1;const i=Object.getPrototypeOf(u);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)};var En=function(u,i,s,l){function o(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function g(b){try{p(l.next(b))}catch(x){f(x)}}function y(b){try{p(l.throw(b))}catch(x){f(x)}}function p(b){b.done?d(b.value):o(b.value).then(g,y)}p((l=l.apply(u,i||[])).next())})};const zu=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),Xp=(u,i,s)=>En(void 0,void 0,void 0,function*(){const l=yield Kp();u instanceof l&&!s?.noResolveJson?u.json().then(o=>{const d=u.status||500,f=o?.statusCode||d+"";i(new Gp(zu(o),d,f))}).catch(o=>{i(new Xu(zu(o),o))}):i(new Xu(zu(u),u))}),Qp=(u,i,s,l)=>{const o={method:u,headers:i?.headers||{}};return u==="GET"||!l?o:(Vp(l)?(o.headers=Object.assign({"Content-Type":"application/json"},i?.headers),o.body=JSON.stringify(l)):o.body=l,i?.duplex&&(o.duplex=i.duplex),Object.assign(Object.assign({},o),s))};function Ls(u,i,s,l,o,d){return En(this,void 0,void 0,function*(){return new Promise((f,g)=>{u(s,Qp(i,l,o,d)).then(y=>{if(!y.ok)throw y;return l?.noResolveJson?y:y.json()}).then(y=>f(y)).catch(y=>Xp(y,g,l))})})}function rr(u,i,s,l){return En(this,void 0,void 0,function*(){return Ls(u,"GET",i,s,l)})}function ta(u,i,s,l,o){return En(this,void 0,void 0,function*(){return Ls(u,"POST",i,l,o,s)})}function Iu(u,i,s,l,o){return En(this,void 0,void 0,function*(){return Ls(u,"PUT",i,l,o,s)})}function Ip(u,i,s,l){return En(this,void 0,void 0,function*(){return Ls(u,"HEAD",i,Object.assign(Object.assign({},s),{noResolveJson:!0}),l)})}function m0(u,i,s,l,o){return En(this,void 0,void 0,function*(){return Ls(u,"DELETE",i,l,o,s)})}var pt=function(u,i,s,l){function o(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function g(b){try{p(l.next(b))}catch(x){f(x)}}function y(b){try{p(l.throw(b))}catch(x){f(x)}}function p(b){b.done?d(b.value):o(b.value).then(g,y)}p((l=l.apply(u,i||[])).next())})};const Zp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$g={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Jp{constructor(i,s={},l,o){this.shouldThrowOnError=!1,this.url=i,this.headers=s,this.bucketId=l,this.fetch=v0(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(i,s,l,o){return pt(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},$g),o);let g=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(f.upsert)});const y=f.metadata;typeof Blob<"u"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),y&&d.append("metadata",this.encodeMetadata(y)),d.append("",l)):typeof FormData<"u"&&l instanceof FormData?(d=l,d.append("cacheControl",f.cacheControl),y&&d.append("metadata",this.encodeMetadata(y))):(d=l,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,y&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(y)))),o?.headers&&(g=Object.assign(Object.assign({},g),o.headers));const p=this._removeEmptyFolders(s),b=this._getFinalPath(p),x=yield(i=="PUT"?Iu:ta)(this.fetch,`${this.url}/object/${b}`,d,Object.assign({headers:g},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:p,id:x.Id,fullPath:x.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(We(d))return{data:null,error:d};throw d}})}upload(i,s,l){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,s,l)})}uploadToSignedUrl(i,s,l,o){return pt(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(i),f=this._getFinalPath(d),g=new URL(this.url+`/object/upload/sign/${f}`);g.searchParams.set("token",s);try{let y;const p=Object.assign({upsert:$g.upsert},o),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&l instanceof Blob?(y=new FormData,y.append("cacheControl",p.cacheControl),y.append("",l)):typeof FormData<"u"&&l instanceof FormData?(y=l,y.append("cacheControl",p.cacheControl)):(y=l,b["cache-control"]=`max-age=${p.cacheControl}`,b["content-type"]=p.contentType);const x=yield Iu(this.fetch,g.toString(),y,{headers:b});return{data:{path:d,fullPath:x.Key},error:null}}catch(y){if(this.shouldThrowOnError)throw y;if(We(y))return{data:null,error:y};throw y}})}createSignedUploadUrl(i,s){return pt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(i);const o=Object.assign({},this.headers);s?.upsert&&(o["x-upsert"]="true");const d=yield ta(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:o}),f=new URL(this.url+d.url),g=f.searchParams.get("token");if(!g)throw new lc("No token returned by API");return{data:{signedUrl:f.toString(),path:i,token:g},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}update(i,s,l){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,s,l)})}move(i,s,l){return pt(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}})}copy(i,s,l){return pt(this,void 0,void 0,function*(){try{return{data:{path:(yield ta(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}})}createSignedUrl(i,s,l){return pt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(i),d=yield ta(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:s},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const f=l?.download?`&download=${l.download===!0?"":l.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}})}createSignedUrls(i,s,l){return pt(this,void 0,void 0,function*(){try{const o=yield ta(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:i},{headers:this.headers}),d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:o.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}})}download(i,s){return pt(this,void 0,void 0,function*(){const o=typeof s?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(s?.transform||{}),f=d?`?${d}`:"";try{const g=this._getFinalPath(i);return{data:yield(yield rr(this.fetch,`${this.url}/${o}/${g}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(We(g))return{data:null,error:g};throw g}})}info(i){return pt(this,void 0,void 0,function*(){const s=this._getFinalPath(i);try{const l=yield rr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Qu(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}exists(i){return pt(this,void 0,void 0,function*(){const s=this._getFinalPath(i);try{return yield Ip(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l)&&l instanceof Xu){const o=l.originalError;if([400,404].includes(o?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(i,s){const l=this._getFinalPath(i),o=[],d=s?.download?`download=${s.download===!0?"":s.download}`:"";d!==""&&o.push(d);const g=typeof s?.transform<"u"?"render/image":"object",y=this.transformOptsToQueryString(s?.transform||{});y!==""&&o.push(y);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${l}${p}`)}}}remove(i){return pt(this,void 0,void 0,function*(){try{return{data:yield m0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}list(i,s,l){return pt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Zp),s),{prefix:i||""});return{data:yield ta(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},l),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(We(o))return{data:null,error:o};throw o}})}listV2(i,s){return pt(this,void 0,void 0,function*(){try{const l=Object.assign({},i);return{data:yield ta(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const s=[];return i.width&&s.push(`width=${i.width}`),i.height&&s.push(`height=${i.height}`),i.resize&&s.push(`resize=${i.resize}`),i.format&&s.push(`format=${i.format}`),i.quality&&s.push(`quality=${i.quality}`),s.join("&")}}const Fp="2.12.1",Pp={"X-Client-Info":`storage-js/${Fp}`};var pi=function(u,i,s,l){function o(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function g(b){try{p(l.next(b))}catch(x){f(x)}}function y(b){try{p(l.throw(b))}catch(x){f(x)}}function p(b){b.done?d(b.value):o(b.value).then(g,y)}p((l=l.apply(u,i||[])).next())})};class Wp{constructor(i,s={},l,o){this.shouldThrowOnError=!1;const d=new URL(i);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},Pp),s),this.fetch=v0(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return pi(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(We(i))return{data:null,error:i};throw i}})}getBucket(i){return pi(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}createBucket(i,s={public:!1}){return pi(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}updateBucket(i,s){return pi(this,void 0,void 0,function*(){try{return{data:yield Iu(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}})}emptyBucket(i){return pi(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}deleteBucket(i){return pi(this,void 0,void 0,function*(){try{return{data:yield m0(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}})}}class eb extends Wp{constructor(i,s={},l,o){super(i,s,l,o)}from(i){return new Jp(this.url,this.headers,i,this.fetch)}}const tb="2.57.4";let Cs="";typeof Deno<"u"?Cs="deno":typeof document<"u"?Cs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cs="react-native":Cs="node";const ab={"X-Client-Info":`supabase-js-${Cs}/${tb}`},nb={headers:ab},ib={schema:"public"},sb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lb={};var rb=function(u,i,s,l){function o(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function g(b){try{p(l.next(b))}catch(x){f(x)}}function y(b){try{p(l.throw(b))}catch(x){f(x)}}function p(b){b.done?d(b.value):o(b.value).then(g,y)}p((l=l.apply(u,i||[])).next())})};const ob=u=>{let i;return u?i=u:typeof fetch>"u"?i=r0:i=fetch,(...s)=>i(...s)},ub=()=>typeof Headers>"u"?o0:Headers,cb=(u,i,s)=>{const l=ob(s),o=ub();return(d,f)=>rb(void 0,void 0,void 0,function*(){var g;const y=(g=yield i())!==null&&g!==void 0?g:u;let p=new o(f?.headers);return p.has("apikey")||p.set("apikey",u),p.has("Authorization")||p.set("Authorization",`Bearer ${y}`),l(d,Object.assign(Object.assign({},f),{headers:p}))})};var db=function(u,i,s,l){function o(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function g(b){try{p(l.next(b))}catch(x){f(x)}}function y(b){try{p(l.throw(b))}catch(x){f(x)}}function p(b){b.done?d(b.value):o(b.value).then(g,y)}p((l=l.apply(u,i||[])).next())})};function fb(u){return u.endsWith("/")?u:u+"/"}function hb(u,i){var s,l;const{db:o,auth:d,realtime:f,global:g}=u,{db:y,auth:p,realtime:b,global:x}=i,O={db:Object.assign(Object.assign({},y),o),auth:Object.assign(Object.assign({},p),d),realtime:Object.assign(Object.assign({},b),f),storage:{},global:Object.assign(Object.assign(Object.assign({},x),g),{headers:Object.assign(Object.assign({},(s=x?.headers)!==null&&s!==void 0?s:{}),(l=g?.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>db(this,void 0,void 0,function*(){return""})};return u.accessToken?O.accessToken=u.accessToken:delete O.accessToken,O}function gb(u){const i=u?.trim();if(!i)throw new Error("supabaseUrl is required.");if(!i.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fb(i))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const p0="2.71.1",Ei=30*1e3,Zu=3,Lu=Zu*Ei,yb="http://localhost:9999",vb="supabase.auth.token",mb={"X-Client-Info":`gotrue-js/${p0}`},Ju="X-Supabase-Api-Version",b0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bb=600*1e3;class rc extends Error{constructor(i,s,l){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function he(u){return typeof u=="object"&&u!==null&&"__isAuthError"in u}class _b extends rc{constructor(i,s,l){super(i,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function wb(u){return he(u)&&u.name==="AuthApiError"}class _0 extends rc{constructor(i,s){super(i),this.name="AuthUnknownError",this.originalError=s}}class Fa extends rc{constructor(i,s,l,o){super(i,l,o),this.name=s,this.status=l}}class Qa extends Fa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sb(u){return he(u)&&u.name==="AuthSessionMissingError"}class er extends Fa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class tr extends Fa{constructor(i){super(i,"AuthInvalidCredentialsError",400,void 0)}}class ar extends Fa{constructor(i,s=null){super(i,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xb(u){return he(u)&&u.name==="AuthImplicitGrantRedirectError"}class Hg extends Fa{constructor(i,s=null){super(i,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fu extends Fa{constructor(i,s){super(i,"AuthRetryableFetchError",s,void 0)}}function qu(u){return he(u)&&u.name==="AuthRetryableFetchError"}class Gg extends Fa{constructor(i,s,l){super(i,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}class Pu extends Fa{constructor(i){super(i,"AuthInvalidJwtError",400,"invalid_jwt")}}const or="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yg=` 	
\r=`.split(""),Eb=(()=>{const u=new Array(128);for(let i=0;i<u.length;i+=1)u[i]=-1;for(let i=0;i<Yg.length;i+=1)u[Yg[i].charCodeAt(0)]=-2;for(let i=0;i<or.length;i+=1)u[or[i].charCodeAt(0)]=i;return u})();function Kg(u,i,s){if(u!==null)for(i.queue=i.queue<<8|u,i.queuedBits+=8;i.queuedBits>=6;){const l=i.queue>>i.queuedBits-6&63;s(or[l]),i.queuedBits-=6}else if(i.queuedBits>0)for(i.queue=i.queue<<6-i.queuedBits,i.queuedBits=6;i.queuedBits>=6;){const l=i.queue>>i.queuedBits-6&63;s(or[l]),i.queuedBits-=6}}function w0(u,i,s){const l=Eb[u];if(l>-1)for(i.queue=i.queue<<6|l,i.queuedBits+=6;i.queuedBits>=8;)s(i.queue>>i.queuedBits-8&255),i.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(u)}"`)}}function Vg(u){const i=[],s=f=>{i.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},d=f=>{Cb(f,l,s)};for(let f=0;f<u.length;f+=1)w0(u.charCodeAt(f),o,d);return i.join("")}function Tb(u,i){if(u<=127){i(u);return}else if(u<=2047){i(192|u>>6),i(128|u&63);return}else if(u<=65535){i(224|u>>12),i(128|u>>6&63),i(128|u&63);return}else if(u<=1114111){i(240|u>>18),i(128|u>>12&63),i(128|u>>6&63),i(128|u&63);return}throw new Error(`Unrecognized Unicode codepoint: ${u.toString(16)}`)}function Ob(u,i){for(let s=0;s<u.length;s+=1){let l=u.charCodeAt(s);if(l>55295&&l<=56319){const o=(l-55296)*1024&65535;l=(u.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}Tb(l,i)}}function Cb(u,i,s){if(i.utf8seq===0){if(u<=127){s(u);return}for(let l=1;l<6;l+=1)if((u>>7-l&1)===0){i.utf8seq=l;break}if(i.utf8seq===2)i.codepoint=u&31;else if(i.utf8seq===3)i.codepoint=u&15;else if(i.utf8seq===4)i.codepoint=u&7;else throw new Error("Invalid UTF-8 sequence");i.utf8seq-=1}else if(i.utf8seq>0){if(u<=127)throw new Error("Invalid UTF-8 sequence");i.codepoint=i.codepoint<<6|u&63,i.utf8seq-=1,i.utf8seq===0&&s(i.codepoint)}}function Ab(u){const i=[],s={queue:0,queuedBits:0},l=o=>{i.push(o)};for(let o=0;o<u.length;o+=1)w0(u.charCodeAt(o),s,l);return new Uint8Array(i)}function jb(u){const i=[];return Ob(u,s=>i.push(s)),new Uint8Array(i)}function Nb(u){const i=[],s={queue:0,queuedBits:0},l=o=>{i.push(o)};return u.forEach(o=>Kg(o,s,l)),Kg(null,s,l),i.join("")}function Rb(u){return Math.round(Date.now()/1e3)+u}function Mb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){const i=Math.random()*16|0;return(u=="x"?i:i&3|8).toString(16)})}const Vt=()=>typeof window<"u"&&typeof document<"u",bn={tested:!1,writable:!1},S0=()=>{if(!Vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bn.tested)return bn.writable;const u=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(u,u),globalThis.localStorage.removeItem(u),bn.tested=!0,bn.writable=!0}catch{bn.tested=!0,bn.writable=!1}return bn.writable};function Ub(u){const i={},s=new URL(u);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,d)=>{i[d]=o})}catch{}return s.searchParams.forEach((l,o)=>{i[o]=l}),i}const x0=u=>{let i;return u?i=u:typeof fetch>"u"?i=(...s)=>zs(async()=>{const{default:l}=await Promise.resolve().then(()=>ji);return{default:l}},void 0).then(({default:l})=>l(...s)):i=fetch,(...s)=>i(...s)},Db=u=>typeof u=="object"&&u!==null&&"status"in u&&"ok"in u&&"json"in u&&typeof u.json=="function",Ti=async(u,i,s)=>{await u.setItem(i,JSON.stringify(s))},_n=async(u,i)=>{const s=await u.getItem(i);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Xa=async(u,i)=>{await u.removeItem(i)};class ur{constructor(){this.promise=new ur.promiseConstructor((i,s)=>{this.resolve=i,this.reject=s})}}ur.promiseConstructor=Promise;function Bu(u){const i=u.split(".");if(i.length!==3)throw new Pu("Invalid JWT structure");for(let l=0;l<i.length;l++)if(!pb.test(i[l]))throw new Pu("JWT not in base64url format");return{header:JSON.parse(Vg(i[0])),payload:JSON.parse(Vg(i[1])),signature:Ab(i[2]),raw:{header:i[0],payload:i[1]}}}async function kb(u){return await new Promise(i=>{setTimeout(()=>i(null),u)})}function zb(u,i){return new Promise((l,o)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await u(d);if(!i(d,null,f)){l(f);return}}catch(f){if(!i(d,f)){o(f);return}}})()})}function Lb(u){return("0"+u.toString(16)).substr(-2)}function qb(){const i=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let o="";for(let d=0;d<56;d++)o+=s.charAt(Math.floor(Math.random()*l));return o}return crypto.getRandomValues(i),Array.from(i,Lb).join("")}async function Bb(u){const s=new TextEncoder().encode(u),l=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(l);return Array.from(o).map(d=>String.fromCharCode(d)).join("")}async function $b(u){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),u;const s=await Bb(u);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bi(u,i,s=!1){const l=qb();let o=l;s&&(o+="/PASSWORD_RECOVERY"),await Ti(u,`${i}-code-verifier`,o);const d=await $b(l);return[d,l===d?"plain":"s256"]}const Hb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Gb(u){const i=u.headers.get(Ju);if(!i||!i.match(Hb))return null;try{return new Date(`${i}T00:00:00.0Z`)}catch{return null}}function Yb(u){if(!u)throw new Error("Missing exp claim");const i=Math.floor(Date.now()/1e3);if(u<=i)throw new Error("JWT has expired")}function Kb(u){switch(u){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _i(u){if(!Vb.test(u))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $u(){const u={};return new Proxy(u,{get:(i,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(i,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(i,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Xg(u){return JSON.parse(JSON.stringify(u))}var Xb=function(u,i){var s={};for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&i.indexOf(l)<0&&(s[l]=u[l]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(u);o<l.length;o++)i.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(u,l[o])&&(s[l[o]]=u[l[o]]);return s};const wn=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),Qb=[502,503,504];async function Qg(u){var i;if(!Db(u))throw new Fu(wn(u),0);if(Qb.includes(u.status))throw new Fu(wn(u),u.status);let s;try{s=await u.json()}catch(d){throw new _0(wn(d),d)}let l;const o=Gb(u);if(o&&o.getTime()>=b0["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new Gg(wn(s),u.status,((i=s.weak_password)===null||i===void 0?void 0:i.reasons)||[]);if(l==="session_not_found")throw new Qa}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Gg(wn(s),u.status,s.weak_password.reasons);throw new _b(wn(s),u.status||500,l)}const Ib=(u,i,s,l)=>{const o={method:u,headers:i?.headers||{}};return u==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i?.headers),o.body=JSON.stringify(l),Object.assign(Object.assign({},o),s))};async function Se(u,i,s,l){var o;const d=Object.assign({},l?.headers);d[Ju]||(d[Ju]=b0["2024-01-01"].name),l?.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const f=(o=l?.query)!==null&&o!==void 0?o:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",y=await Zb(u,i,s+g,{headers:d,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(y):{data:Object.assign({},y),error:null}}async function Zb(u,i,s,l,o,d){const f=Ib(i,l,o,d);let g;try{g=await u(s,Object.assign({},f))}catch(y){throw console.error(y),new Fu(wn(y),0)}if(g.ok||await Qg(g),l?.noResolveJson)return g;try{return await g.json()}catch(y){await Qg(y)}}function ba(u){var i;let s=null;Wb(u)&&(s=Object.assign({},u),u.expires_at||(s.expires_at=Rb(u.expires_in)));const l=(i=u.user)!==null&&i!==void 0?i:u;return{data:{session:s,user:l},error:null}}function Ig(u){const i=ba(u);return!i.error&&u.weak_password&&typeof u.weak_password=="object"&&Array.isArray(u.weak_password.reasons)&&u.weak_password.reasons.length&&u.weak_password.message&&typeof u.weak_password.message=="string"&&u.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(i.data.weak_password=u.weak_password),i}function Za(u){var i;return{data:{user:(i=u.user)!==null&&i!==void 0?i:u},error:null}}function Jb(u){return{data:u,error:null}}function Fb(u){const{action_link:i,email_otp:s,hashed_token:l,redirect_to:o,verification_type:d}=u,f=Xb(u,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:i,email_otp:s,hashed_token:l,redirect_to:o,verification_type:d},y=Object.assign({},f);return{data:{properties:g,user:y},error:null}}function Pb(u){return u}function Wb(u){return u.access_token&&u.refresh_token&&u.expires_in}const Hu=["global","local","others"];var e_=function(u,i){var s={};for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&i.indexOf(l)<0&&(s[l]=u[l]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(u);o<l.length;o++)i.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(u,l[o])&&(s[l[o]]=u[l[o]]);return s};class t_{constructor({url:i="",headers:s={},fetch:l}){this.url=i,this.headers=s,this.fetch=x0(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(i,s=Hu[0]){if(Hu.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hu.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(l){if(he(l))return{data:null,error:l};throw l}}async inviteUserByEmail(i,s={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Za})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async generateLink(i){try{const{options:s}=i,l=e_(i,["options"]),o=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(o.new_email=l?.newEmail,delete o.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Fb,redirectTo:s?.redirectTo})}catch(s){if(he(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(i){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:Za})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async listUsers(i){var s,l,o,d,f,g,y;try{const p={nextPage:null,lastPage:0,total:0},b=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=i?.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(d=(o=i?.perPage)===null||o===void 0?void 0:o.toString())!==null&&d!==void 0?d:""},xform:Pb});if(b.error)throw b.error;const x=await b.json(),O=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,A=(y=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&y!==void 0?y:[];return A.length>0&&(A.forEach(U=>{const q=parseInt(U.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(U.split(";")[1].split("=")[1]);p[`${H}Page`]=q}),p.total=parseInt(O)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(he(p))return{data:{users:[]},error:p};throw p}}async getUserById(i){_i(i);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:Za})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async updateUserById(i,s){_i(i);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:s,headers:this.headers,xform:Za})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async deleteUser(i,s=!1){_i(i);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:s},xform:Za})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async _listFactors(i){_i(i.userId);try{const{data:s,error:l}=await Se(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:l}}catch(s){if(he(s))return{data:null,error:s};throw s}}async _deleteFactor(i){_i(i.userId),_i(i.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}}}function Zg(u={}){return{getItem:i=>u[i]||null,setItem:(i,s)=>{u[i]=s},removeItem:i=>{delete u[i]}}}function a_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wi={debug:!!(globalThis&&S0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class E0 extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}}class n_ extends E0{}async function i_(u,i,s){wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",u,i);const l=new globalThis.AbortController;return i>0&&setTimeout(()=>{l.abort(),wi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",u)},i),await Promise.resolve().then(()=>globalThis.navigator.locks.request(u,i===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async o=>{if(o){wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",u,o.name);try{return await s()}finally{wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",u,o.name)}}else{if(i===0)throw wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",u),new n_(`Acquiring an exclusive Navigator LockManager lock "${u}" immediately failed`);if(wi.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}a_();const s_={url:yb,storageKey:vb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jg(u,i,s){return await s()}const Si={};class Ds{constructor(i){var s,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ds.nextInstanceID,Ds.nextInstanceID+=1,this.instanceID>0&&Vt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},s_),i);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new t_({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=x0(o.fetch),this.lock=o.lock||Jg,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Vt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=i_:this.lock=Jg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:S0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zg(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Zg(this.memoryStorage)),Vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var i,s;return(s=(i=Si[this.storageKey])===null||i===void 0?void 0:i.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(i){Si[this.storageKey]=Object.assign(Object.assign({},Si[this.storageKey]),{jwks:i})}get jwks_cached_at(){var i,s;return(s=(i=Si[this.storageKey])===null||i===void 0?void 0:i.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(i){Si[this.storageKey]=Object.assign(Object.assign({},Si[this.storageKey]),{cachedAt:i})}_debug(...i){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${p0}) ${new Date().toISOString()}`,...i),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var i;try{const s=Ub(window.location.href);let l="none";if(this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce"),Vt()&&this.detectSessionInUrl&&l!=="none"){const{data:o,error:d}=await this._getSessionFromURL(s,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),xb(d)){const y=(i=d.details)===null||i===void 0?void 0:i.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:g}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return he(s)?{error:s}:{error:new _0("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(i){var s,l,o;try{const d=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=i?.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(o=i?.options)===null||o===void 0?void 0:o.captchaToken}},xform:ba}),{data:f,error:g}=d;if(g||!f)return{data:{user:null,session:null},error:g};const y=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:p,session:y},error:null}}catch(d){if(he(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(i){var s,l,o;try{let d;if("email"in i){const{email:b,password:x,options:O}=i;let A=null,U=null;this.flowType==="pkce"&&([A,U]=await bi(this.storage,this.storageKey)),d=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:O?.emailRedirectTo,body:{email:b,password:x,data:(s=O?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:O?.captchaToken},code_challenge:A,code_challenge_method:U},xform:ba})}else if("phone"in i){const{phone:b,password:x,options:O}=i;d=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:x,data:(l=O?.data)!==null&&l!==void 0?l:{},channel:(o=O?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:O?.captchaToken}},xform:ba})}else throw new tr("You must provide either an email or phone number and a password");const{data:f,error:g}=d;if(g||!f)return{data:{user:null,session:null},error:g};const y=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:p,session:y},error:null}}catch(d){if(he(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(i){try{let s;if("email"in i){const{email:d,password:f,options:g}=i;s=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Ig})}else if("phone"in i){const{phone:d,password:f,options:g}=i;s=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Ig})}else throw new tr("You must provide either an email or phone number and a password");const{data:l,error:o}=s;return o?{data:{user:null,session:null},error:o}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new er}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:o})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(i){var s,l,o,d;return await this._handleProviderSignIn(i.provider,{redirectTo:(s=i.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=i.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=i.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(d=i.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(i){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(i))}async signInWithWeb3(i){const{chain:s}=i;if(s==="solana")return await this.signInWithSolana(i);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(i){var s,l,o,d,f,g,y,p,b,x,O,A;let U,q;if("message"in i)U=i.message,q=i.signature;else{const{chain:H,wallet:se,statement:te,options:$}=i;let W;if(Vt())if(typeof se=="object")W=se;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))W=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof se!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=se}const B=new URL((s=$?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in W&&W.signIn){const J=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},$?.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),te?{statement:te}:null));let ye;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")ye=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)ye=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ye&&"signature"in ye&&(typeof ye.signedMessage=="string"||ye.signedMessage instanceof Uint8Array)&&ye.signature instanceof Uint8Array)U=typeof ye.signedMessage=="string"?ye.signedMessage:new TextDecoder().decode(ye.signedMessage),q=ye.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");U=[`${B.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...te?["",te,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(o=(l=$?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((d=$?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${$.signInWithSolana.notBefore}`]:[],...!((f=$?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${$.signInWithSolana.expirationTime}`]:[],...!((g=$?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${$.signInWithSolana.chainId}`]:[],...!((y=$?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${$.signInWithSolana.nonce}`]:[],...!((p=$?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${$.signInWithSolana.requestId}`]:[],...!((x=(b=$?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||x===void 0)&&x.length?["Resources",...$.signInWithSolana.resources.map(ye=>`- ${ye}`)]:[]].join(`
`);const J=await W.signMessage(new TextEncoder().encode(U),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");q=J}}try{const{data:H,error:se}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:U,signature:Nb(q)},!((O=i.options)===null||O===void 0)&&O.captchaToken?{gotrue_meta_security:{captcha_token:(A=i.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:ba});if(se)throw se;return!H||!H.session||!H.user?{data:{user:null,session:null},error:new er}:(H.session&&(await this._saveSession(H.session),await this._notifyAllSubscribers("SIGNED_IN",H.session)),{data:Object.assign({},H),error:se})}catch(H){if(he(H))return{data:{user:null,session:null},error:H};throw H}}async _exchangeCodeForSession(i){const s=await _n(this.storage,`${this.storageKey}-code-verifier`),[l,o]=(s??"").split("/");try{const{data:d,error:f}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:l},xform:ba});if(await Xa(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new er}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:o??null}),error:f})}catch(d){if(he(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(i){try{const{options:s,provider:l,token:o,access_token:d,nonce:f}=i,g=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:o,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:ba}),{data:y,error:p}=g;return p?{data:{user:null,session:null},error:p}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new er}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:y,error:p})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(i){var s,l,o,d,f;try{if("email"in i){const{email:g,options:y}=i;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await bi(this.storage,this.storageKey));const{error:x}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(s=y?.data)!==null&&s!==void 0?s:{},create_user:(l=y?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:p,code_challenge_method:b},redirectTo:y?.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in i){const{phone:g,options:y}=i,{data:p,error:b}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(o=y?.data)!==null&&o!==void 0?o:{},create_user:(d=y?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(f=y?.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:b}}throw new tr("You must provide either an email or phone number.")}catch(g){if(he(g))return{data:{user:null,session:null},error:g};throw g}}async verifyOtp(i){var s,l;try{let o,d;"options"in i&&(o=(s=i.options)===null||s===void 0?void 0:s.redirectTo,d=(l=i.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:g}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:d}}),redirectTo:o,xform:ba});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const y=f.session,p=f.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(i.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),{data:{user:p,session:y},error:null}}catch(o){if(he(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(i){var s,l,o;try{let d=null,f=null;return this.flowType==="pkce"&&([d,f]=await bi(this.storage,this.storageKey)),await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(l=(s=i.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((o=i?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:Jb})}catch(d){if(he(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async i=>{const{data:{session:s},error:l}=i;if(l)throw l;if(!s)throw new Qa;const{error:o}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:o}})}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async resend(i){try{const s=`${this.url}/resend`;if("email"in i){const{email:l,type:o,options:d}=i,{error:f}=await Se(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:o,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in i){const{phone:l,type:o,options:d}=i,{data:f,error:g}=await Se(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:o,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:f?.message_id},error:g}}throw new tr("You must provide either an email or phone number and a type")}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(i,s){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,i,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(i){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await i(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null;const s=await _n(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?i=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!i)return{data:{session:null},error:null};const l=i.expires_at?i.expires_at*1e3-Date.now()<Lu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",i.expires_at),!l){if(this.userStorage){const f=await _n(this.userStorage,this.storageKey+"-user");f?.user?i.user=f.user:i.user=$u()}if(this.storage.isServer&&i.user){let f=this.suppressGetSessionWarning;i=new Proxy(i,{get:(y,p,b)=>(!f&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(y,p,b))})}return{data:{session:i},error:null}}const{session:o,error:d}=await this._callRefreshToken(i.refresh_token);return d?{data:{session:null},error:d}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(i){return i?await this._getUser(i):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(i){try{return i?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:Za}):await this._useSession(async s=>{var l,o,d;const{data:f,error:g}=s;if(g)throw g;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qa}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&d!==void 0?d:void 0,xform:Za})})}catch(s){if(he(s))return Sb(s)&&(await this._removeSession(),await Xa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(i,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(i,s))}async _updateUser(i,s={}){try{return await this._useSession(async l=>{const{data:o,error:d}=l;if(d)throw d;if(!o.session)throw new Qa;const f=o.session;let g=null,y=null;this.flowType==="pkce"&&i.email!=null&&([g,y]=await bi(this.storage,this.storageKey));const{data:p,error:b}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:g,code_challenge_method:y}),jwt:f.access_token,xform:Za});if(b)throw b;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async setSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(i))}async _setSession(i){try{if(!i.access_token||!i.refresh_token)throw new Qa;const s=Date.now()/1e3;let l=s,o=!0,d=null;const{payload:f}=Bu(i.access_token);if(f.exp&&(l=f.exp,o=l<=s),o){const{session:g,error:y}=await this._callRefreshToken(i.refresh_token);if(y)return{data:{user:null,session:null},error:y};if(!g)return{data:{user:null,session:null},error:null};d=g}else{const{data:g,error:y}=await this._getUser(i.access_token);if(y)throw y;d={access_token:i.access_token,refresh_token:i.refresh_token,user:g.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(s){if(he(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(i))}async _refreshSession(i){try{return await this._useSession(async s=>{var l;if(!i){const{data:f,error:g}=s;if(g)throw g;i=(l=f.session)!==null&&l!==void 0?l:void 0}if(!i?.refresh_token)throw new Qa;const{session:o,error:d}=await this._callRefreshToken(i.refresh_token);return d?{data:{user:null,session:null},error:d}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(i,s){try{if(!Vt())throw new ar("No browser detected.");if(i.error||i.error_description||i.error_code)throw new ar(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Hg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ar("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!i.code)throw new Hg("No code detected.");const{data:te,error:$}=await this._exchangeCodeForSession(i.code);if($)throw $;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:te.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:o,access_token:d,refresh_token:f,expires_in:g,expires_at:y,token_type:p}=i;if(!d||!g||!f||!p)throw new ar("No session defined in URL");const b=Math.round(Date.now()/1e3),x=parseInt(g);let O=b+x;y&&(O=parseInt(y));const A=O-b;A*1e3<=Ei&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${x}s`);const U=O-x;b-U>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",U,O,b):b-U<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",U,O,b);const{data:q,error:H}=await this._getUser(d);if(H)throw H;const se={provider_token:l,provider_refresh_token:o,access_token:d,expires_in:x,expires_at:O,refresh_token:f,token_type:p,user:q.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:se,redirectType:i.type},error:null}}catch(l){if(he(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(i){return!!(i.access_token||i.error_description)}async _isPKCECallback(i){const s=await _n(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&s)}async signOut(i={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(i))}async _signOut({scope:i}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:o,error:d}=s;if(d)return{error:d};const f=(l=o.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:g}=await this.admin.signOut(f,i);if(g&&!(wb(g)&&(g.status===404||g.status===401||g.status===403)))return{error:g}}return i!=="others"&&(await this._removeSession(),await Xa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(i){const s=Mb(),l={id:s,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(i){return await this._useSession(async s=>{var l,o;try{const{data:{session:d},error:f}=s;if(f)throw f;await((l=this.stateChangeEmitters.get(i))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",i,"session",d)}catch(d){await((o=this.stateChangeEmitters.get(i))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",i,"error",d),console.error(d)}})}async resetPasswordForEmail(i,s={}){let l=null,o=null;this.flowType==="pkce"&&([l,o]=await bi(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:l,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(d){if(he(d))return{data:null,error:d};throw d}}async getUserIdentities(){var i;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(i=s.user.identities)!==null&&i!==void 0?i:[]},error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}}async linkIdentity(i){var s;try{const{data:l,error:o}=await this._useSession(async d=>{var f,g,y,p,b;const{data:x,error:O}=d;if(O)throw O;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,i.provider,{redirectTo:(f=i.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=i.options)===null||g===void 0?void 0:g.scopes,queryParams:(y=i.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",A,{headers:this.headers,jwt:(b=(p=x.session)===null||p===void 0?void 0:p.access_token)!==null&&b!==void 0?b:void 0})});if(o)throw o;return Vt()&&!(!((s=i.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l?.url),{data:{provider:i.provider,url:l?.url},error:null}}catch(l){if(he(l))return{data:{provider:i.provider,url:null},error:l};throw l}}async unlinkIdentity(i){try{return await this._useSession(async s=>{var l,o;const{data:d,error:f}=s;if(f)throw f;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${i.identity_id}`,{headers:this.headers,jwt:(o=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _refreshAccessToken(i){const s=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await zb(async o=>(o>0&&await kb(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:ba})),(o,d)=>{const f=200*Math.pow(2,o);return d&&qu(d)&&Date.now()+f-l<Ei})}catch(l){if(this._debug(s,"error",l),he(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(s,"end")}}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}async _handleProviderSignIn(i,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,i,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",s,"url",l),Vt()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:i,url:l},error:null}}async _recoverAndRefresh(){var i,s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const o=await _n(this.storage,this.storageKey);if(o&&this.userStorage){let f=await _n(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:o.user},await Ti(this.userStorage,this.storageKey+"-user",f)),o.user=(i=f?.user)!==null&&i!==void 0?i:$u()}else if(o&&!o.user&&!o.user){const f=await _n(this.storage,this.storageKey+"-user");f&&f?.user?(o.user=f.user,await Xa(this.storage,this.storageKey+"-user"),await Ti(this.storage,this.storageKey,o)):o.user=$u()}if(this._debug(l,"session from storage",o),!this._isValidSession(o)){this._debug(l,"session is not valid"),o!==null&&await this._removeSession();return}const d=((s=o.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Lu;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${Lu}s`),d){if(this.autoRefreshToken&&o.refresh_token){const{error:f}=await this._callRefreshToken(o.refresh_token);f&&(console.error(f),qu(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(o.access_token);!g&&f?.user?(o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(l,"error",o),console.error(o);return}finally{this._debug(l,"end")}}async _callRefreshToken(i){var s,l;if(!i)throw new Qa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ur;const{data:d,error:f}=await this._refreshAccessToken(i);if(f)throw f;if(!d.session)throw new Qa;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const g={session:d.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(d){if(this._debug(o,"error",d),he(d)){const f={session:null,error:d};return qu(d)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(i,s,l=!0){const o=`#_notifyAllSubscribers(${i})`;this._debug(o,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:i,session:s});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(i,s)}catch(y){d.push(y)}});if(await Promise.all(f),d.length>0){for(let g=0;g<d.length;g+=1)console.error(d[g]);throw d[0]}}finally{this._debug(o,"end")}}async _saveSession(i){this._debug("#_saveSession()",i),this.suppressGetSessionWarning=!0;const s=Object.assign({},i),l=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&s.user&&await Ti(this.userStorage,this.storageKey+"-user",{user:s.user});const o=Object.assign({},s);delete o.user;const d=Xg(o);await Ti(this.storage,this.storageKey,d)}else{const o=Xg(s);await Ti(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Xa(this.storage,this.storageKey),await Xa(this.storage,this.storageKey+"-code-verifier"),await Xa(this.storage,this.storageKey+"-user"),this.userStorage&&await Xa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&Vt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",i)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const i=setInterval(()=>this._autoRefreshTokenTick(),Ei);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const i=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((l.expires_at*1e3-i)/Ei);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ei}ms, refresh threshold is ${Zu} ticks`),o<=Zu&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(i){if(i.isAcquireTimeout||i instanceof E0)this._debug("auto refresh token tick lock not available");else throw i}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}}async _onVisibilityChanged(i){const s=`#_onVisibilityChanged(${i})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(i,s,l){const o=[`provider=${encodeURIComponent(s)}`];if(l?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&o.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,f]=await bi(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(g.toString())}if(l?.queryParams){const d=new URLSearchParams(l.queryParams);o.push(d.toString())}return l?.skipBrowserRedirect&&o.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${i}?${o.join("&")}`}async _unenroll(i){try{return await this._useSession(async s=>{var l;const{data:o,error:d}=s;return d?{data:null,error:d}:await Se(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _enroll(i){try{return await this._useSession(async s=>{var l,o;const{data:d,error:f}=s;if(f)return{data:null,error:f};const g=Object.assign({friendly_name:i.friendlyName,factor_type:i.factorType},i.factorType==="phone"?{phone:i.phone}:{issuer:i.issuer}),{data:y,error:p}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return p?{data:null,error:p}:(i.factorType==="totp"&&(!((o=y?.totp)===null||o===void 0)&&o.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),{data:y,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _verify(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:o,error:d}=s;if(d)return{data:null,error:d};const{data:f,error:g}=await Se(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:{code:i.code,challenge_id:i.challengeId},headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:g})})}catch(s){if(he(s))return{data:null,error:s};throw s}})}async _challenge(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:o,error:d}=s;return d?{data:null,error:d}:await Se(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{body:{channel:i.channel},headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(he(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(i){const{data:s,error:l}=await this._challenge({factorId:i.factorId});return l?{data:null,error:l}:await this._verify({factorId:i.factorId,challengeId:s.id,code:i.code})}async _listFactors(){const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const l=i?.factors||[],o=l.filter(f=>f.factor_type==="totp"&&f.status==="verified"),d=l.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:l,totp:o,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async i=>{var s,l;const{data:{session:o},error:d}=i;if(d)return{data:null,error:d};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Bu(o.access_token);let g=null;f.aal&&(g=f.aal);let y=g;((l=(s=o.user.factors)===null||s===void 0?void 0:s.filter(x=>x.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(y="aal2");const b=f.amr||[];return{data:{currentLevel:g,nextLevel:y,currentAuthenticationMethods:b},error:null}}))}async fetchJwk(i,s={keys:[]}){let l=s.keys.find(g=>g.kid===i);if(l)return l;const o=Date.now();if(l=this.jwks.keys.find(g=>g.kid===i),l&&this.jwks_cached_at+bb>o)return l;const{data:d,error:f}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=o,l=d.keys.find(g=>g.kid===i),!l)?null:l}async getClaims(i,s={}){try{let l=i;if(!l){const{data:A,error:U}=await this.getSession();if(U||!A.session)return{data:null,error:U};l=A.session.access_token}const{header:o,payload:d,signature:f,raw:{header:g,payload:y}}=Bu(l);s?.allowExpired||Yb(d.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!p){const{error:A}=await this.getUser(l);if(A)throw A;return{data:{claims:d,header:o,signature:f},error:null}}const b=Kb(o.alg),x=await crypto.subtle.importKey("jwk",p,b,!0,["verify"]);if(!await crypto.subtle.verify(b,x,f,jb(`${g}.${y}`)))throw new Pu("Invalid JWT signature");return{data:{claims:d,header:o,signature:f},error:null}}catch(l){if(he(l))return{data:null,error:l};throw l}}}Ds.nextInstanceID=0;const l_=Ds;class r_ extends l_{constructor(i){super(i)}}var o_=function(u,i,s,l){function o(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function g(b){try{p(l.next(b))}catch(x){f(x)}}function y(b){try{p(l.throw(b))}catch(x){f(x)}}function p(b){b.done?d(b.value):o(b.value).then(g,y)}p((l=l.apply(u,i||[])).next())})};class u_{constructor(i,s,l){var o,d,f;this.supabaseUrl=i,this.supabaseKey=s;const g=gb(i);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const y=`sb-${g.hostname.split(".")[0]}-auth-token`,p={db:ib,realtime:lb,auth:Object.assign(Object.assign({},sb),{storageKey:y}),global:nb},b=hb(l??{},p);this.storageKey=(o=b.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(d=b.global.headers)!==null&&d!==void 0?d:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(x,O)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(O)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=b.auth)!==null&&f!==void 0?f:{},this.headers,b.global.fetch),this.fetch=cb(s,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new Ep(new URL("rest/v1",g).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new eb(this.storageUrl.href,this.headers,this.fetch,l?.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new gp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,s={},l={}){return this.rest.rpc(i,s,l)}channel(i,s={config:{}}){return this.realtime.channel(i,s)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,s;return o_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:s,detectSessionInUrl:l,storage:o,userStorage:d,storageKey:f,flowType:g,lock:y,debug:p},b,x){const O={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new r_({url:this.authUrl.href,headers:Object.assign(Object.assign({},O),b),storageKey:f,autoRefreshToken:i,persistSession:s,detectSessionInUrl:l,storage:o,userStorage:d,flowType:g,lock:y,debug:p,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new Hp(this.realtimeUrl.href,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,l)=>{this._handleTokenChanged(s,"CLIENT",l?.access_token)})}_handleTokenChanged(i,s,l){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:i==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const c_=(u,i,s)=>new u_(u,i,s);function d_(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const i=u.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}d_()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const f_="https://cnpmucyuqsuswkzacuke.supabase.co",h_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNucG11Y3l1cXN1c3dremFjdWtlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2MjQ1OTEsImV4cCI6MjA3NDIwMDU5MX0.laQZMVmOauqpOrtNtSAYjCPgQBMWTd4e-biEbk_LBfQ",ut=c_(f_,h_,{realtime:{params:{eventsPerSecond:2}}});class g_{localCache=[];categoriesCache=[];subcategoriesCache=[];isOnline=navigator.onLine;syncInProgress=!1;constructor(){window.addEventListener("online",()=>{this.isOnline=!0,this.syncWithServer()}),window.addEventListener("offline",()=>{this.isOnline=!1})}async getTodos(){try{if(this.isOnline){const{data:i,error:s}=await ut.from("todos").select("*").order("created_at",{ascending:!1});if(s)throw s;return this.localCache=i||[],this.saveToLocalStorage(this.localCache),this.localCache}else return this.loadFromLocalStorage()}catch(i){return console.error("Failed to fetch todos:",i),this.loadFromLocalStorage()}}async saveTodos(i){this.localCache=i,this.saveToLocalStorage(i),this.isOnline&&await this.syncWithServer()}async addTodo(i){try{if(this.isOnline){const{data:s,error:l}=await ut.from("todos").insert([i]).select().single();if(l)throw l;return this.localCache.unshift(s),this.saveToLocalStorage(this.localCache),s}else{const s={...i,id:`temp_${Date.now()}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return this.localCache.unshift(s),this.saveToLocalStorage(this.localCache),s}}catch(s){return console.error("Failed to add todo:",s),null}}async updateTodo(i,s){try{if(this.isOnline){const{data:l,error:o}=await ut.from("todos").update(s).eq("id",i).select().single();if(o)throw o;const d=this.localCache.findIndex(f=>f.id===i);return d!==-1&&(this.localCache[d]=l,this.saveToLocalStorage(this.localCache)),l}else{const l=this.localCache.findIndex(o=>o.id===i);return l!==-1?(this.localCache[l]={...this.localCache[l],...s,updated_at:new Date().toISOString()},this.saveToLocalStorage(this.localCache),this.localCache[l]):null}}catch(l){return console.error("Failed to update todo:",l),null}}async deleteTodo(i){try{if(this.isOnline){const{error:s}=await ut.from("todos").delete().eq("id",i);if(s)throw s}return this.localCache=this.localCache.filter(s=>s.id!==i),this.saveToLocalStorage(this.localCache),!0}catch(s){return console.error("Failed to delete todo:",s),!1}}async syncWithServer(){if(!(this.syncInProgress||!this.isOnline)){this.syncInProgress=!0;try{const s=this.loadFromLocalStorage().filter(l=>l.id.startsWith("temp_"));for(const l of s){const{id:o,created_at:d,updated_at:f,...g}=l;await this.addTodo(g)}await this.getTodos()}catch(i){console.error("Sync failed:",i)}finally{this.syncInProgress=!1}}}saveToLocalStorage(i){try{localStorage.setItem("todos-cache",JSON.stringify(i))}catch(s){console.error("Failed to save to localStorage:",s)}}loadFromLocalStorage(){try{const i=localStorage.getItem("todos-cache");return i?JSON.parse(i):[]}catch(i){return console.error("Failed to load from localStorage:",i),[]}}getConnectionStatus(){return this.isOnline}async getCategories(){try{if(this.isOnline){const{data:i,error:s}=await ut.from("categories").select("*").order("display_order",{ascending:!0});if(s)throw s;return this.categoriesCache=i||[],this.saveCategoriesLocalStorage(this.categoriesCache),this.categoriesCache}else return this.loadCategoriesLocalStorage()}catch(i){return console.error("Failed to fetch categories:",i),this.loadCategoriesLocalStorage()}}async addCategory(i){try{if(this.isOnline){const{data:s,error:l}=await ut.from("categories").insert([i]).select().single();if(l)throw l;return this.categoriesCache.push(s),this.categoriesCache.sort((o,d)=>o.display_order-d.display_order),this.saveCategoriesLocalStorage(this.categoriesCache),s}else{const s={...i,id:`temp_cat_${Date.now()}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return this.categoriesCache.push(s),this.categoriesCache.sort((l,o)=>l.display_order-o.display_order),this.saveCategoriesLocalStorage(this.categoriesCache),s}}catch(s){return console.error("Failed to add category:",s),null}}async updateCategory(i,s){try{if(this.isOnline){const{data:l,error:o}=await ut.from("categories").update(s).eq("id",i).select().single();if(o)throw o;const d=this.categoriesCache.findIndex(f=>f.id===i);return d!==-1&&(this.categoriesCache[d]=l,this.categoriesCache.sort((f,g)=>f.display_order-g.display_order),this.saveCategoriesLocalStorage(this.categoriesCache)),l}else{const l=this.categoriesCache.findIndex(o=>o.id===i);return l!==-1?(this.categoriesCache[l]={...this.categoriesCache[l],...s,updated_at:new Date().toISOString()},this.categoriesCache.sort((o,d)=>o.display_order-d.display_order),this.saveCategoriesLocalStorage(this.categoriesCache),this.categoriesCache[l]):null}}catch(l){return console.error("Failed to update category:",l),null}}async deleteCategory(i){try{const s=this.categoriesCache.find(l=>l.id===i);if(!s)return!1;if(this.isOnline){await ut.from("todos").update({category:"개인"}).eq("category",s.name);const{error:l}=await ut.from("categories").delete().eq("id",i);if(l)throw l}return this.localCache=this.localCache.map(l=>l.category===s.name?{...l,category:"개인"}:l),this.saveToLocalStorage(this.localCache),this.categoriesCache=this.categoriesCache.filter(l=>l.id!==i),this.saveCategoriesLocalStorage(this.categoriesCache),!0}catch(s){return console.error("Failed to delete category:",s),!1}}saveCategoriesLocalStorage(i){try{localStorage.setItem("categories-cache",JSON.stringify(i))}catch(s){console.error("Failed to save categories to localStorage:",s)}}loadCategoriesLocalStorage(){try{const i=localStorage.getItem("categories-cache");return i?JSON.parse(i):[]}catch(i){return console.error("Failed to load categories from localStorage:",i),[]}}async getSubCategories(){try{if(this.isOnline){const{data:i,error:s}=await ut.from("subcategories").select("*").order("parent_category_id",{ascending:!0}).order("display_order",{ascending:!0});if(s)throw s;return this.subcategoriesCache=i||[],this.saveSubcategoriesLocalStorage(this.subcategoriesCache),this.subcategoriesCache}else return this.loadSubcategoriesLocalStorage()}catch(i){return console.error("Failed to fetch subcategories:",i),this.loadSubcategoriesLocalStorage()}}async addSubCategory(i){try{if(this.isOnline){const{data:s,error:l}=await ut.from("subcategories").insert([i]).select().single();if(l)throw l;return this.subcategoriesCache.push(s),this.subcategoriesCache.sort((o,d)=>o.parent_category_id.localeCompare(d.parent_category_id)||o.display_order-d.display_order),this.saveSubcategoriesLocalStorage(this.subcategoriesCache),s}else{const s={...i,id:`temp_subcat_${Date.now()}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return this.subcategoriesCache.push(s),this.subcategoriesCache.sort((l,o)=>l.parent_category_id.localeCompare(o.parent_category_id)||l.display_order-o.display_order),this.saveSubcategoriesLocalStorage(this.subcategoriesCache),s}}catch(s){return console.error("Failed to add subcategory:",s),null}}async updateSubCategory(i,s){try{if(this.isOnline){const{data:l,error:o}=await ut.from("subcategories").update(s).eq("id",i).select().single();if(o)throw o;const d=this.subcategoriesCache.findIndex(f=>f.id===i);return d!==-1&&(this.subcategoriesCache[d]=l,this.subcategoriesCache.sort((f,g)=>f.parent_category_id.localeCompare(g.parent_category_id)||f.display_order-g.display_order),this.saveSubcategoriesLocalStorage(this.subcategoriesCache)),l}else{const l=this.subcategoriesCache.findIndex(o=>o.id===i);return l!==-1?(this.subcategoriesCache[l]={...this.subcategoriesCache[l],...s,updated_at:new Date().toISOString()},this.subcategoriesCache.sort((o,d)=>o.parent_category_id.localeCompare(d.parent_category_id)||o.display_order-d.display_order),this.saveSubcategoriesLocalStorage(this.subcategoriesCache),this.subcategoriesCache[l]):null}}catch(l){return console.error("Failed to update subcategory:",l),null}}async deleteSubCategory(i){try{if(this.isOnline){await ut.from("todos").update({subcategory_id:null}).eq("subcategory_id",i);const{error:s}=await ut.from("subcategories").delete().eq("id",i);if(s)throw s}return this.localCache=this.localCache.map(s=>s.subcategory_id===i?{...s,subcategory_id:null}:s),this.saveToLocalStorage(this.localCache),this.subcategoriesCache=this.subcategoriesCache.filter(s=>s.id!==i),this.saveSubcategoriesLocalStorage(this.subcategoriesCache),!0}catch(s){return console.error("Failed to delete subcategory:",s),!1}}saveSubcategoriesLocalStorage(i){try{localStorage.setItem("subcategories-cache",JSON.stringify(i))}catch(s){console.error("Failed to save subcategories to localStorage:",s)}}loadSubcategoriesLocalStorage(){try{const i=localStorage.getItem("subcategories-cache");return i?JSON.parse(i):[]}catch(i){return console.error("Failed to load subcategories from localStorage:",i),[]}}subscribeToChanges(i){const s=ut.channel("todos_changes").on("postgres_changes",{event:"*",schema:"public",table:"todos"},async()=>{const l=await this.getTodos();i(l)}).subscribe();return()=>{s.unsubscribe()}}subscribeToCategoryChanges(i){const s=ut.channel("categories_changes").on("postgres_changes",{event:"*",schema:"public",table:"categories"},async()=>{const l=await this.getCategories();i(l)}).subscribe();return()=>{s.unsubscribe()}}subscribeToSubCategoryChanges(i){const s=ut.channel("subcategories_changes").on("postgres_changes",{event:"*",schema:"public",table:"subcategories"},async()=>{const l=await this.getSubCategories();i(l)}).subscribe();return()=>{s.unsubscribe()}}}const ct=new g_,T0=/[\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F700}-\u{1F77F}]|[\u{1F780}-\u{1F7FF}]|[\u{1F800}-\u{1F8FF}]|[\u{1F900}-\u{1F9FF}]|[\u{1FA00}-\u{1FA6F}]|[\u{1FA70}-\u{1FAFF}]|[\u{1F1E0}-\u{1F1FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]|[\u{FE00}-\u{FE0F}]|[\u{1F200}-\u{1F2FF}]/gu,Oi=u=>{if(!u||u.length>8)return!1;const i=u.match(T0);if(i&&i.join("")===u)return!0;try{const s=Array.from(u);return s.length>4?!1:s.every(l=>{const o=l.codePointAt(0);return o&&(o>=126976||o>=9728||o>=127232)})}catch{return u.length<=4}},xi=u=>{if(!u)return"";const i=u.match(T0);if(i&&i.length>0)return i[0];const s=Array.from(u)[0];return s&&Oi(s)?s:""},Wu={업무:["💼","📊","🏢","📋","📅","⚡","💻","📞","📈","📇","🗂️","📄","📑","🖥️","⌨️","🖱️","💾","📠","📧","📬"],개인:["👤","🏠","💭","❤️","🎉","✨","🌟","💫","🎈","🎁","📖","🎭","🎪","🎨","🎵","🎬","📷","🎯","💎","🌈"],건강:["🏃","💪","🥗","🧘‍♀️","🏥","💊","⚕️","🩺","💚","🍎","🏋️","🚴","🏊","🧘","💆","🍃","🌱","💧","🔥","⛹️"],쇼핑:["🛒","🛍️","💳","🎁","📦","🏪","💰","🛵","📱","👕","👔","👗","👠","👜","⌚","💍","🕶️","🎒","🧳","🛎️"],학습:["📚","📖","✏️","🎓","💡","🧠","📝","💻","📊","📐","📏","🔬","🧪","🔭","🌍","📌","📎","🖇️","📋","🗒️"]},y_={"💼":["업무","직장","비즈니스","work","business","office"],"👤":["사람","개인","유저","person","user","individual"],"🏃":["달리기","운동","건강","run","exercise","health"],"🛒":["쇼핑","장보기","구매","shopping","cart","buy"],"📚":["공부","학습","책","study","learn","book"],"❤️":["사랑","좋아요","하트","love","heart","like"],"🎯":["목표","타겟","집중","target","goal","focus"],"⚡":["빠른","에너지","전력","fast","energy","power"],"🎨":["예술","창작","디자인","art","creative","design"],"🏠":["집","가정","홈","home","house","family"],"💡":["아이디어","생각","영감","idea","think","inspiration"],"🔥":["열정","핫","인기","passion","hot","trending"],"🌟":["별","특별","중요","star","special","important"],"💪":["강함","힘","근육","strong","power","muscle"],"📱":["폰","모바일","스마트폰","phone","mobile","smartphone"],"🧹":["청소","빗자루","정리","clean","broom","tidy"],"🧽":["청소","스펀지","닦기","clean","sponge","wash"],"🧼":["비누","손씻기","청소","soap","wash","clean"]},v_=u=>{if(!u.trim())return[];const i=u.toLowerCase(),s=[];return Object.entries(y_).forEach(([l,o])=>{o.some(d=>d.includes(i))&&s.push(l)}),s},m_=u=>Wu[u]||Wu.개인,O0="recent-emojis",p_=15,b_=u=>{try{const s=ec().filter(o=>o!==u),l=[u,...s].slice(0,p_);localStorage.setItem(O0,JSON.stringify(l))}catch(i){console.error("Failed to save recent emoji:",i)}},ec=()=>{try{const u=localStorage.getItem(O0);return u?JSON.parse(u):[]}catch(u){return console.error("Failed to load recent emojis:",u),[]}},__=["💼","👤","🏃","🛒","📚","🎯","⚡","🎨","🍔","🏠","✈️","🎵","💡","📱","🚗","💰","🎮","📝","🔧","🌟","❤️","💚","💙","💜","🧡","💛","🖤","🤍","🤎","💗"];function w_({isOpen:u,onClose:i,onSelect:s,currentEmoji:l,categoryName:o,isDark:d}){const[f,g]=ee.useState("preset"),[y,p]=ee.useState(""),[b,x]=ee.useState(""),[O,A]=ee.useState([]),U=ee.useRef(null),q=ee.useRef(null);ee.useEffect(()=>{u&&(A(ec()),o&&Wu[o]&&g("category"))},[u,o]),ee.useEffect(()=>{f==="search"&&U.current&&U.current.focus(),f==="custom"&&q.current&&q.current.focus()},[f]);const H=B=>{b_(B),A(ec()),s(B),i()},se=()=>{const B=xi(b);Oi(B)&&(H(B),x(""))},te=()=>o?m_(o):[],$=()=>v_(y),W=[{key:"preset",label:"기본",icon:m.jsx(fm,{className:"w-4 h-4"})},{key:"recent",label:"최근",icon:m.jsx(og,{className:"w-4 h-4"})},...o?[{key:"category",label:o,icon:m.jsx(_m,{className:"w-4 h-4"})}]:[],{key:"search",label:"검색",icon:m.jsx(Uu,{className:"w-4 h-4"})},{key:"custom",label:"직접입력",icon:m.jsx("span",{className:"text-sm",children:"✏️"})},{key:"none",label:"없음",icon:m.jsx(Ci,{className:"w-4 h-4"})}];return u?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in",children:m.jsxs("div",{className:`max-w-md w-full mx-4 rounded-2xl overflow-hidden ${d?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"} animate-scale-in`,children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[m.jsx("h3",{className:`text-lg font-semibold ${d?"text-white":"text-gray-900"}`,children:"이모지 선택"}),m.jsx("button",{onClick:i,className:`p-1 rounded-lg transition-colors ${d?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,children:m.jsx(Uu,{className:"w-5 h-5"})})]}),m.jsx("div",{className:`flex border-b ${d?"border-gray-700":"border-gray-200"}`,children:W.map(B=>m.jsxs("button",{onClick:()=>g(B.key),className:`flex-1 px-3 py-2 text-sm flex items-center justify-center gap-1 transition-colors ${f===B.key?d?"bg-gray-700 text-blue-400":"bg-blue-50 text-blue-600":d?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-700"}`,children:[B.icon,m.jsx("span",{className:"hidden sm:inline",children:B.label})]},B.key))}),m.jsxs("div",{className:"p-4 max-h-64 overflow-y-auto",children:[f==="preset"&&m.jsx("div",{className:"grid grid-cols-6 gap-2",children:__.map(B=>m.jsx("button",{onClick:()=>H(B),className:`w-10 h-10 rounded-lg text-xl transition-all hover:scale-110 ${l===B?d?"bg-blue-700 ring-2 ring-blue-400":"bg-blue-100 ring-2 ring-blue-500":d?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:B},B))}),f==="recent"&&m.jsx("div",{children:O.length>0?m.jsx("div",{className:"grid grid-cols-6 gap-2",children:O.map((B,J)=>m.jsx("button",{onClick:()=>H(B),className:`w-10 h-10 rounded-lg text-xl transition-all hover:scale-110 ${l===B?d?"bg-blue-700 ring-2 ring-blue-400":"bg-blue-100 ring-2 ring-blue-500":d?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:B},`${B}-${J}`))}):m.jsxs("div",{className:`text-center py-8 ${d?"text-gray-500":"text-gray-400"}`,children:[m.jsx(og,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),m.jsx("p",{className:"text-sm",children:"최근 사용한 이모지가 없습니다"})]})}),f==="category"&&o&&m.jsx("div",{className:"grid grid-cols-6 gap-2",children:te().map((B,J)=>m.jsx("button",{onClick:()=>H(B),className:`w-10 h-10 rounded-lg text-xl transition-all hover:scale-110 ${l===B?d?"bg-blue-700 ring-2 ring-blue-400":"bg-blue-100 ring-2 ring-blue-500":d?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:B},`${B}-${J}`))}),f==="search"&&m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"relative",children:[m.jsx(Uu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),m.jsx("input",{ref:U,type:"text",value:y,onChange:B=>p(B.target.value),placeholder:"이모지 검색... (예: 하트, 집, 운동)",className:`w-full pl-10 pr-3 py-2 rounded-lg border transition-colors ${d?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300"}`})]}),y&&m.jsx("div",{className:"grid grid-cols-6 gap-2",children:$().map((B,J)=>m.jsx("button",{onClick:()=>H(B),className:`w-10 h-10 rounded-lg text-xl transition-all hover:scale-110 ${l===B?d?"bg-blue-700 ring-2 ring-blue-400":"bg-blue-100 ring-2 ring-blue-500":d?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:B},`search-${B}-${J}`))}),y&&$().length===0&&m.jsx("div",{className:`text-center py-4 ${d?"text-gray-500":"text-gray-400"}`,children:m.jsx("p",{className:"text-sm",children:"검색 결과가 없습니다"})})]}),f==="custom"&&m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{ref:q,type:"text",value:b,onChange:B=>x(B.target.value),placeholder:"이모지를 붙여넣거나 입력하세요",className:`flex-1 px-3 py-2 rounded-lg border transition-colors ${d?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300"}`,onKeyPress:B=>B.key==="Enter"&&se()}),m.jsx("button",{onClick:se,disabled:!b.trim()||!Oi(xi(b)),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"확인"})]}),b&&m.jsx("div",{className:`p-3 rounded-lg border ${Oi(xi(b))?d?"border-green-600 bg-green-900/20":"border-green-300 bg-green-50":d?"border-red-600 bg-red-900/20":"border-red-300 bg-red-50"}`,children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"text-2xl",children:Oi(xi(b))?xi(b):"❌"}),m.jsx("div",{className:"text-sm",children:Oi(xi(b))?m.jsx("span",{className:d?"text-green-300":"text-green-700",children:"유효한 이모지입니다"}):m.jsx("span",{className:d?"text-red-300":"text-red-700",children:"올바른 이모지를 입력해주세요"})})]})}),m.jsx("div",{className:`text-xs ${d?"text-gray-400":"text-gray-500"}`,children:m.jsx("p",{children:"💡 팁: 다른 앱에서 이모지를 복사해서 붙여넣을 수 있습니다"})})]}),f==="none"&&m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:`w-16 h-16 rounded-lg border-2 border-dashed flex items-center justify-center mx-auto mb-4 ${d?"border-gray-600":"border-gray-300"}`,children:m.jsx(Ci,{className:`w-8 h-8 ${d?"text-gray-500":"text-gray-400"}`})}),m.jsx("p",{className:`text-sm mb-4 ${d?"text-gray-300":"text-gray-600"}`,children:"이모지 없이 카테고리를 만들 수 있습니다"}),m.jsx("button",{onClick:()=>s(""),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"이모지 제거"})]})]})]})}):null}const pa=["#3B82F6","#8B5CF6","#10B981","#F59E0B","#EF4444","#F97316","#06B6D4","#8B5F87","#6B7280","#84CC16"];function S_({isOpen:u,onClose:i,categories:s,subcategories:l,isDark:o,onAddCategory:d,onUpdateCategory:f,onDeleteCategory:g,onAddSubCategory:y,onUpdateSubCategory:p,onDeleteSubCategory:b}){const[x,O]=ee.useState(null),[A,U]=ee.useState({name:"",color:pa[0],icon:"",display_order:0}),[q,H]=ee.useState({name:"",color:"",icon:"",display_order:0}),[se,te]=ee.useState(!1),[$,W]=ee.useState("new"),[B,J]=ee.useState(new Set),[ye,de]=ee.useState(null),[Y,ue]=ee.useState({name:"",color:pa[0],icon:"",parent_category_id:"",display_order:0}),[pe,P]=ee.useState(null),[Z,Ae]=ee.useState({name:"",color:"",icon:"",parent_category_id:"",display_order:0}),[Oe,R]=ee.useState(!1);ee.useEffect(()=>{s.length>0&&U(G=>({...G,display_order:Math.max(...s.map(Q=>Q.display_order))+1}))},[s]);const V=async()=>{if(A.name.trim()){R(!0);try{await d(A),U({name:"",color:pa[0],icon:"",display_order:0})}finally{R(!1)}}},le=G=>{const Q=l.filter(je=>je.parent_category_id===G);ue({name:"",color:pa[0],icon:"",parent_category_id:G,display_order:Q.length}),de(G),J(je=>new Set([...je,G]))},xe=async()=>{if(Y.name.trim()){R(!0);try{await y(Y),ue({name:"",color:pa[0],icon:"",parent_category_id:"",display_order:0}),de(null)}finally{R(!1)}}},w=G=>{J(Q=>{const je=new Set(Q);return je.has(G)?je.delete(G):je.add(G),je})},L=G=>{$==="new"?U(Q=>({...Q,icon:G})):$==="edit"?H(Q=>({...Q,icon:G})):$==="new-sub"?ue(Q=>({...Q,icon:G})):$==="edit-sub"&&Ae(Q=>({...Q,icon:G})),te(!1)},X=G=>{O(G.id),H({name:G.name,color:G.color,icon:G.icon,display_order:G.display_order})},K=async()=>{if(!(!x||!q.name.trim())){R(!0);try{await f(x,q),O(null)}finally{R(!1)}}},ie=()=>{O(null),H({name:"",color:"",icon:"",display_order:0})};return u?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in",children:m.jsxs("div",{className:`max-w-3xl w-full mx-4 max-h-[90vh] overflow-hidden rounded-2xl ${o?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"} animate-scale-in`,children:[m.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(t0,{className:"w-6 h-6 text-blue-500"}),m.jsx("h2",{className:`text-xl font-semibold ${o?"text-white":"text-gray-900"}`,children:"카테고리 관리"})]}),m.jsx("button",{onClick:i,className:`p-2 rounded-lg transition-colors ${o?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,children:m.jsx(Ci,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-140px)]",children:[m.jsxs("div",{className:`p-6 border-b ${o?"border-gray-700":"border-gray-200"}`,children:[m.jsx("h3",{className:`text-lg font-medium mb-4 ${o?"text-white":"text-gray-900"}`,children:"새 카테고리 추가"}),m.jsxs("div",{className:"flex gap-3 mb-4",children:[m.jsx("input",{type:"text",value:A.name,onChange:G=>U(Q=>({...Q,name:G.target.value})),placeholder:"카테고리 이름",className:`flex-1 px-3 py-2 rounded-lg border ${o?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,onKeyPress:G=>G.key==="Enter"&&V()}),m.jsx("button",{onClick:V,disabled:!A.name.trim()||Oe,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:"추가"})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:"flex gap-2",children:pa.slice(0,6).map(G=>m.jsx("button",{onClick:()=>U(Q=>({...Q,color:G})),className:`w-8 h-8 rounded-full border-2 ${A.color===G?"border-gray-800 dark:border-white":"border-gray-300"}`,style:{backgroundColor:G}},G))}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`w-10 h-10 rounded border flex items-center justify-center text-lg ${o?"border-gray-600 bg-gray-700":"border-gray-300 bg-gray-100"}`,children:A.icon||m.jsx("div",{className:`text-xs ${o?"text-gray-400":"text-gray-500"}`,children:"없음"})}),m.jsx("button",{onClick:()=>{W("new"),te(!0)},className:"px-3 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 text-sm",children:A.icon?"변경":"선택"}),A.icon&&m.jsx("button",{onClick:()=>U(G=>({...G,icon:""})),className:"px-3 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm",children:"제거"})]})]})]}),m.jsxs("div",{className:"p-6",children:[m.jsx("h3",{className:`text-lg font-medium mb-4 ${o?"text-white":"text-gray-900"}`,children:"기존 카테고리"}),m.jsx("div",{className:"space-y-2",children:s.map(G=>{const Q=l.filter(I=>I.parent_category_id===G.id),je=B.has(G.id);return m.jsxs("div",{className:`rounded-lg border ${o?"border-gray-700":"border-gray-200"}`,children:[m.jsx("div",{className:`p-4 ${o?"bg-gray-750":"bg-gray-50"}`,children:x===G.id?m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex gap-3",children:[m.jsx("input",{type:"text",value:q.name,onChange:I=>H(ke=>({...ke,name:I.target.value})),className:`flex-1 px-3 py-2 rounded-lg border ${o?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,onKeyDown:I=>{I.key==="Enter"&&K(),I.key==="Escape"&&ie()},autoFocus:!0}),m.jsx("button",{onClick:K,disabled:!q.name.trim()||Oe,className:"px-3 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50",children:"저장"}),m.jsx("button",{onClick:ie,className:"px-3 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"취소"})]}),m.jsx("div",{className:"flex gap-2",children:pa.map(I=>m.jsx("button",{onClick:()=>H(ke=>({...ke,color:I})),className:`w-6 h-6 rounded-full border ${q.color===I?"border-black dark:border-white":"border-gray-300"}`,style:{backgroundColor:I}},I))}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-10 h-10 rounded-lg border flex items-center justify-center text-lg ${o?"border-gray-600 bg-gray-700":"border-gray-300 bg-gray-100"}`,children:q.icon||m.jsx("div",{className:`text-xs ${o?"text-gray-400":"text-gray-500"}`,children:"없음"})}),m.jsx("button",{onClick:()=>{W("edit"),te(!0)},className:"px-3 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 text-sm",children:q.icon?"변경":"선택"}),q.icon&&m.jsx("button",{onClick:()=>H(I=>({...I,icon:""})),className:"px-3 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm",children:"제거"})]})]}):m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[Q.length>0&&m.jsx("button",{onClick:()=>w(G.id),className:`p-1 rounded transition-colors ${o?"hover:bg-gray-600":"hover:bg-gray-200"}`,children:je?m.jsx(Wg,{className:"w-4 h-4"}):m.jsx(rm,{className:"w-4 h-4"})}),m.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:G.color}}),G.icon&&m.jsx("span",{className:"text-lg",children:G.icon}),m.jsx("span",{className:`font-medium ${o?"text-white":"text-gray-900"}`,children:G.name}),Q.length>0&&m.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${o?"bg-gray-600 text-gray-300":"bg-gray-200 text-gray-600"}`,children:[Q.length,"개"]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>le(G.id),className:`p-2 rounded-lg transition-colors ${o?"hover:bg-green-900/20 text-green-400":"hover:bg-green-50 text-green-600"}`,title:"서브카테고리 추가",children:m.jsx(e0,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>X(G),className:`p-2 rounded-lg transition-colors ${o?"hover:bg-gray-600 text-gray-400":"hover:bg-gray-200 text-gray-600"}`,children:m.jsx(sr,{className:"w-4 h-4"})}),s.length>1&&m.jsx("button",{onClick:()=>g(G.id),className:"p-2 rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:m.jsx(lr,{className:"w-4 h-4"})})]})]})}),(je||ye===G.id)&&m.jsxs("div",{className:`border-t ${o?"border-gray-700":"border-gray-200"}`,children:[Q.map(I=>m.jsx("div",{className:`p-3 pl-8 ${o?"hover:bg-gray-700/50":"hover:bg-gray-100/50"}`,children:pe===I.id?m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:Z.name,onChange:ke=>Ae(Qt=>({...Qt,name:ke.target.value})),className:`flex-1 px-2 py-1 rounded border text-sm ${o?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,autoFocus:!0}),m.jsx("button",{onClick:async()=>{if(Z.name.trim()){R(!0);try{await p(I.id,Z),P(null)}finally{R(!1)}}},disabled:!Z.name.trim()||Oe,className:"px-2 py-1 bg-green-500 text-white rounded text-xs hover:bg-green-600",children:"저장"}),m.jsx("button",{onClick:()=>P(null),className:"px-2 py-1 bg-gray-500 text-white rounded text-xs hover:bg-gray-600",children:"취소"})]}),m.jsxs("div",{className:"flex gap-2",children:[pa.slice(0,6).map(ke=>m.jsx("button",{onClick:()=>Ae(Qt=>({...Qt,color:ke})),className:`w-4 h-4 rounded-full border ${Z.color===ke?"border-black dark:border-white":"border-gray-300"}`,style:{backgroundColor:ke}},ke)),m.jsx("div",{className:`w-6 h-6 rounded border flex items-center justify-center ml-2 ${o?"border-gray-600 bg-gray-600":"border-gray-300 bg-gray-100"}`,children:Z.icon||m.jsx("div",{className:`text-xs ${o?"text-gray-400":"text-gray-500"}`,children:"×"})}),m.jsx("button",{onClick:()=>{W("edit-sub"),te(!0)},className:"px-2 py-1 bg-purple-500 text-white rounded text-xs hover:bg-purple-600",children:Z.icon?"변경":"선택"})]})]}):m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-1 h-4 bg-gray-400 rounded-full opacity-50"}),m.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:I.color}}),I.icon&&m.jsx("span",{className:"text-sm",children:I.icon}),m.jsx("span",{className:`text-sm ${o?"text-gray-300":"text-gray-600"}`,children:I.name})]}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:()=>{P(I.id),Ae({name:I.name,color:I.color,icon:I.icon,parent_category_id:I.parent_category_id,display_order:I.display_order})},className:`p-1 rounded transition-colors ${o?"hover:bg-gray-600 text-gray-500":"hover:bg-gray-200 text-gray-500"}`,children:m.jsx(sr,{className:"w-3 h-3"})}),m.jsx("button",{onClick:()=>b(I.id),className:"p-1 rounded text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:m.jsx(lr,{className:"w-3 h-3"})})]})]})},I.id)),ye===G.id&&m.jsx("div",{className:`p-4 pl-8 border-t ${o?"border-gray-700 bg-gray-800":"border-gray-200 bg-white"}`,children:m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:Y.name,onChange:I=>ue(ke=>({...ke,name:I.target.value})),placeholder:"서브카테고리 이름",className:`flex-1 px-3 py-2 rounded-lg border text-sm ${o?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,onKeyPress:I=>I.key==="Enter"&&xe(),autoFocus:!0}),m.jsx("button",{onClick:xe,disabled:!Y.name.trim()||Oe,className:"px-3 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 text-sm",children:"추가"}),m.jsx("button",{onClick:()=>de(null),className:"px-3 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm",children:"취소"})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:"flex gap-1",children:pa.slice(0,6).map(I=>m.jsx("button",{onClick:()=>ue(ke=>({...ke,color:I})),className:`w-6 h-6 rounded-full border ${Y.color===I?"border-black dark:border-white":"border-gray-300"}`,style:{backgroundColor:I}},I))}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`w-8 h-8 rounded border flex items-center justify-center ${o?"border-gray-600 bg-gray-600":"border-gray-300 bg-gray-100"}`,children:Y.icon||m.jsx("div",{className:`text-xs ${o?"text-gray-400":"text-gray-500"}`,children:"없음"})}),m.jsx("button",{onClick:()=>{W("new"),te(!0)},className:"px-2 py-1 bg-purple-500 text-white rounded text-xs hover:bg-purple-600",children:Y.icon?"변경":"선택"}),Y.icon&&m.jsx("button",{onClick:()=>ue(I=>({...I,icon:""})),className:"px-2 py-1 bg-gray-500 text-white rounded text-xs hover:bg-gray-600",children:"제거"})]})]})]})})]})]},G.id)})})]})]}),m.jsx(w_,{isOpen:se,onClose:()=>te(!1),onSelect:L,currentEmoji:$==="new"?A.icon:$==="edit"?q.icon:$==="new-sub"?Y.icon:Z.icon,categoryName:$==="new"?A.name:$==="edit"?q.name:"",isDark:o})]})}):null}function x_({isOpen:u,onClose:i,reviewTodos:s,categories:l,subcategories:o,isDark:d,onConfirm:f,isSubmitting:g,aiSummary:y}){const[p,b]=ee.useState(s),[x,O]=ee.useState(!0);ee.useEffect(()=>{b(s),O(s.every(Y=>Y.selected))},[s]);const A=(Y,ue,pe)=>{b(P=>P.map(Z=>Z.id===Y?{...Z,[ue]:pe}:Z))},U=()=>{const Y=!x;b(ue=>ue.map(pe=>({...pe,selected:Y}))),O(Y)},q=Y=>{b(ue=>{const pe=ue.map(P=>P.id===Y?{...P,selected:!P.selected}:P);return O(pe.every(P=>P.selected)),pe})},H=Y=>{b(ue=>{const pe=ue.filter(P=>P.id!==Y);return O(pe.length>0&&pe.every(P=>P.selected)),pe})},se=async()=>{const Y=p.filter(P=>P.selected&&P.text.trim());if(Y.filter(P=>!P.text.trim()).length>0){alert("빈 할일은 추가할 수 없습니다.");return}Y.filter((P,Z)=>Y.findIndex(Ae=>Ae.text.trim().toLowerCase()===P.text.trim().toLowerCase())!==Z).length>0&&!confirm("중복된 할일이 있습니다. 그래도 추가하시겠습니까?")||Y.length>0&&await f(Y)},te=p.filter(Y=>Y.selected).length,$=p.filter(Y=>Y.text.trim()),W=Y=>{const ue=l.find(pe=>pe.name===Y);return ue?{color:ue.color,icon:ue.icon}:{color:"#6B7280",icon:"📝"}},B=Y=>o.find(pe=>pe.id===Y)||null,J=Y=>{const ue=l.find(pe=>pe.name===Y);return ue?o.filter(pe=>pe.parent_category_id===ue.id):[]},ye=(Y,ue)=>{A(Y,"category",ue),A(Y,"subcategory_id",null)},de=Y=>{if(!Y)return"";try{return new Date(Y).toISOString().split("T")[0]}catch{return""}};return u?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in",children:m.jsxs("div",{className:`max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden rounded-2xl ${d?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"} animate-scale-in`,children:[m.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(rg,{className:"w-6 h-6 text-purple-500"}),m.jsxs("div",{children:[m.jsx("h2",{className:`text-xl font-semibold ${d?"text-white":"text-gray-900"}`,children:"AI 할일 분석 결과"}),m.jsx("p",{className:`text-sm ${d?"text-gray-400":"text-gray-600"}`,children:"검토 후 추가할 할일을 선택해주세요"})]})]}),m.jsx("button",{onClick:i,className:`p-2 rounded-lg transition-colors ${d?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,children:m.jsx(Ci,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-200px)]",children:[y&&m.jsxs("div",{className:`p-4 m-6 rounded-lg border-l-4 border-purple-500 ${d?"bg-purple-900/20 border-purple-400":"bg-purple-50"}`,children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(rg,{className:"w-4 h-4 text-purple-500"}),m.jsx("span",{className:`text-sm font-medium ${d?"text-purple-300":"text-purple-700"}`,children:"AI 분석 요약"})]}),m.jsx("p",{className:`text-sm ${d?"text-purple-200":"text-purple-600"}`,children:y})]}),m.jsx("div",{className:"p-6 pb-4",children:m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("button",{onClick:U,className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${d?"hover:bg-gray-700 text-gray-300":"hover:bg-gray-100 text-gray-600"}`,children:[x?m.jsx(Sm,{className:"w-4 h-4"}):m.jsx(Em,{className:"w-4 h-4"}),m.jsx("span",{className:"text-sm",children:"전체 선택"})]}),m.jsx("div",{className:"flex items-center gap-4",children:m.jsxs("span",{className:`text-sm ${d?"text-gray-400":"text-gray-600"}`,children:[te,"개 선택됨 / 총 ",$.length,"개"]})})]})}),m.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[p.map((Y,ue)=>{const pe=W(Y.category);return m.jsx("div",{className:`p-4 rounded-lg border transition-all duration-300 ${Y.selected?d?"border-purple-500 bg-purple-900/10":"border-purple-300 bg-purple-50":d?"border-gray-700 bg-gray-750":"border-gray-200 bg-gray-50"} animate-slide-in-up`,style:{animationDelay:`${ue*.1}s`},children:m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("button",{onClick:()=>q(Y.id),className:`mt-1 flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center transition-all ${Y.selected?"bg-purple-500 border-purple-500 text-white":d?"border-gray-500 hover:border-purple-400":"border-gray-300 hover:border-purple-500"}`,children:Y.selected&&m.jsx(ir,{className:"w-3 h-3"})}),m.jsxs("div",{className:"flex-1 space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-1 ${d?"text-gray-300":"text-gray-700"}`,children:"할일 내용"}),m.jsx("input",{type:"text",value:Y.text,onChange:P=>A(Y.id,"text",P.target.value),className:`w-full px-3 py-2 rounded-lg border transition-colors ${Y.text.trim()?d?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300":"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20"} focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent`,placeholder:"할일을 입력하세요"}),!Y.text.trim()&&m.jsx("p",{className:"text-xs text-red-500 mt-1",children:"할일 내용을 입력해주세요."})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-1 ${d?"text-gray-300":"text-gray-700"}`,children:"카테고리"}),m.jsxs("div",{className:"relative",children:[m.jsx("select",{value:Y.category,onChange:P=>ye(Y.id,P.target.value),className:`w-full px-3 py-2 rounded-lg border transition-colors ${d?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"} focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent`,children:l.map(P=>m.jsxs("option",{value:P.name,children:[P.icon," ",P.name]},P.id))}),m.jsx("div",{className:"absolute right-10 top-1/2 transform -translate-y-1/2 w-3 h-3 rounded-full",style:{backgroundColor:pe.color}})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-1 ${d?"text-gray-300":"text-gray-700"}`,children:"서브카테고리"}),m.jsxs("div",{className:"relative",children:[m.jsxs("select",{value:Y.subcategory_id||"",onChange:P=>A(Y.id,"subcategory_id",P.target.value||null),className:`w-full px-3 py-2 rounded-lg border transition-colors ${d?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"} focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent`,disabled:J(Y.category).length===0,children:[m.jsx("option",{value:"",children:"서브카테고리 없음"}),J(Y.category).map(P=>m.jsxs("option",{value:P.id,children:[P.icon," ",P.name]},P.id))]}),Y.subcategory_id&&B(Y.subcategory_id)&&m.jsx("div",{className:"absolute right-10 top-1/2 transform -translate-y-1/2 w-3 h-3 rounded-full",style:{backgroundColor:B(Y.subcategory_id).color}})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-1 ${d?"text-gray-300":"text-gray-700"}`,children:"마감일"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"date",value:de(Y.due_date),onChange:P=>A(Y.id,"due_date",P.target.value||null),className:`w-full px-3 py-2 rounded-lg border transition-colors ${d?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"} focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent`}),Y.due_date&&m.jsx(Pg,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),m.jsx("button",{onClick:()=>H(Y.id),className:`mt-1 p-2 rounded-lg transition-colors ${d?"hover:bg-red-900/20 text-red-400":"hover:bg-red-50 text-red-500"}`,children:m.jsx(lr,{className:"w-4 h-4"})})]})},Y.id)}),p.length===0&&m.jsxs("div",{className:`text-center py-8 ${d?"text-gray-500":"text-gray-400"}`,children:[m.jsx(sr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),m.jsx("p",{children:"분석된 할일이 없습니다."})]})]})]}),m.jsxs("div",{className:`flex items-center justify-between p-6 border-t ${d?"border-gray-700":"border-gray-200"}`,children:[m.jsx("button",{onClick:i,className:`px-4 py-2 rounded-lg transition-colors ${d?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-700"}`,children:"취소"}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("span",{className:`text-sm ${d?"text-gray-400":"text-gray-600"}`,children:[te,"개 할일을 추가합니다"]}),m.jsxs("button",{onClick:se,disabled:te===0||g,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg hover:from-purple-600 hover:to-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center gap-2 transform hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl",children:[g?m.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):m.jsx(ir,{className:"w-4 h-4"}),g?"추가 중...":"할일 추가"]})]})]})]})}):null}function E_({todo:u,categories:i,subcategories:s,isDark:l,isEditing:o,onStartEdit:d,onSave:f,onCancel:g,isSubmitting:y}){const[p,b]=ee.useState(u.text),[x,O]=ee.useState(u.category),[A,U]=ee.useState(u.subcategory_id||""),[q,H]=ee.useState(u.due_date||""),[se,te]=ee.useState(!1),$=ee.useRef(null),W=ee.useRef(null),B=s.filter(Z=>{const Ae=i.find(Oe=>Oe.name===x);return Ae&&Z.parent_category_id===Ae.id});ee.useEffect(()=>{o&&$.current&&($.current.focus(),$.current.select())},[o]),ee.useEffect(()=>{const Z=Ae=>{W.current&&!W.current.contains(Ae.target)&&te(!1)};return document.addEventListener("mousedown",Z),()=>document.removeEventListener("mousedown",Z)},[]);const J=Z=>{Z.key==="Enter"&&!Z.shiftKey?(Z.preventDefault(),ye()):Z.key==="Escape"&&de()},ye=async()=>{if(!p.trim())return;const Z={text:p.trim(),category:x,subcategory_id:A||null,due_date:q||null};await f(Z)},de=()=>{b(u.text),O(u.category),U(u.subcategory_id||""),H(u.due_date||""),g()},Y=Z=>{O(Z),U(""),te(!1)},ue=Z=>i.find(Oe=>Oe.name===Z)||{color:"#6B7280",icon:"📝"},pe=Z=>s.find(Oe=>Oe.id===Z)||null,P=Z=>{if(!Z)return"";try{return new Date(Z).toISOString().split("T")[0]}catch{return""}};if(!o){const Z=ue(u.category),Ae=u.subcategory_id?pe(u.subcategory_id):null;return m.jsx("div",{className:"group cursor-pointer",onClick:d,children:m.jsx("div",{className:"flex items-start gap-4",children:m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx("span",{className:`transition-all duration-300 ${u.completed?"line-through text-gray-500":l?"text-white":"text-gray-900"}`,children:u.text}),m.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1 rounded text-gray-400 hover:text-blue-500 transition-all",children:m.jsx(sr,{className:"w-3 h-3"})})]}),m.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[m.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium transition-all duration-300 flex items-center gap-1",style:{backgroundColor:`${Z.color}20`,color:Z.color},children:[Z.icon&&m.jsx("span",{children:Z.icon}),u.category]}),Ae&&m.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium transition-all duration-300 flex items-center gap-1",style:{backgroundColor:`${Ae.color}15`,color:Ae.color},children:[Ae.icon&&m.jsx("span",{children:Ae.icon}),Ae.name]}),u.due_date&&m.jsxs("span",{className:`flex items-center gap-1 transition-colors duration-300 ${l?"text-gray-400":"text-gray-500"}`,children:[m.jsx(Pg,{className:"w-3 h-3"}),new Date(u.due_date).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})]})]})]})})})}return m.jsxs("div",{className:"space-y-3",children:[m.jsx("div",{children:m.jsx("input",{ref:$,type:"text",value:p,onChange:Z=>b(Z.target.value),onKeyDown:J,className:`w-full px-3 py-2 rounded-lg border-2 transition-all duration-300 focus:outline-none ${l?"bg-gray-700 border-blue-500 text-white placeholder-gray-400":"bg-white border-blue-500 shadow-sm"}`,placeholder:"할일을 입력하세요",disabled:y})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[m.jsxs("div",{className:"relative",ref:W,children:[m.jsxs("button",{onClick:()=>te(!se),className:`w-full px-3 py-2 rounded-lg border transition-all duration-300 flex items-center justify-between ${l?"bg-gray-700 border-gray-600 text-white hover:border-gray-500":"bg-white border-gray-300 hover:border-gray-400"}`,disabled:y,children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{children:ue(x).icon}),m.jsx("span",{children:x})]}),m.jsx(Wg,{className:`w-4 h-4 transition-transform ${se?"rotate-180":""}`})]}),se&&m.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 rounded-lg border shadow-lg z-10 ${l?"bg-gray-700 border-gray-600":"bg-white border-gray-200"}`,children:i.map(Z=>m.jsxs("button",{onClick:()=>Y(Z.name),className:`w-full px-3 py-2 text-left flex items-center gap-2 transition-colors ${x===Z.name?l?"bg-gray-600":"bg-gray-100":l?"hover:bg-gray-600":"hover:bg-gray-50"}`,children:[m.jsx("span",{children:Z.icon}),m.jsx("span",{children:Z.name})]},Z.id))})]}),m.jsx("div",{children:m.jsxs("select",{value:A,onChange:Z=>U(Z.target.value),className:`w-full px-3 py-2 rounded-lg border transition-all duration-300 ${l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,disabled:y||B.length===0,children:[m.jsx("option",{value:"",children:"서브카테고리 없음"}),B.map(Z=>m.jsxs("option",{value:Z.id,children:[Z.icon," ",Z.name]},Z.id))]})})]}),m.jsx("div",{children:m.jsx("input",{type:"date",value:P(q),onChange:Z=>H(Z.target.value),className:`w-full px-3 py-2 rounded-lg border transition-all duration-300 ${l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,disabled:y})}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:de,disabled:y,className:`px-3 py-1 rounded-lg transition-colors ${l?"text-gray-400 hover:text-gray-300 hover:bg-gray-700":"text-gray-600 hover:text-gray-700 hover:bg-gray-100"}`,children:m.jsx(Ci,{className:"w-4 h-4"})}),m.jsx("button",{onClick:ye,disabled:!p.trim()||y,className:"px-3 py-1 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1",children:y?m.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):m.jsx(ir,{className:"w-4 h-4"})})]})]})}function T_(){const[u,i]=ee.useState([]),[s,l]=ee.useState(""),[o,d]=ee.useState(!1),[f,g]=ee.useState("all"),[y,p]=ee.useState("all"),[b,x]=ee.useState("all"),[O,A]=ee.useState("개인"),[U,q]=ee.useState(""),[H,se]=ee.useState(""),[te,$]=ee.useState(!1),[W,B]=ee.useState(navigator.onLine),[J,ye]=ee.useState(!1),[de,Y]=ee.useState([]),[ue,pe]=ee.useState([]),[P,Z]=ee.useState(!1),[Ae,Oe]=ee.useState(!1),[R,V]=ee.useState([]),[le,xe]=ee.useState(""),[w,L]=ee.useState(""),[X,K]=ee.useState(""),[ie,G]=ee.useState(""),[Q,je]=ee.useState(null),[I,ke]=ee.useState(null);ee.useEffect(()=>{(async()=>{ye(!0);try{const[Ze,Zt,Sa]=await Promise.all([ct.getTodos(),ct.getCategories(),ct.getSubCategories()]);if(i(Ze),Y(Zt),pe(Sa),Zt.length>0){A(Zt[0].name);const aa=Sa.filter(en=>en.parent_category_id===Zt[0].id);aa.length>0&&q(aa[0].id)}}catch(Ze){console.error("Failed to load data:",Ze)}finally{ye(!1)}})();const ae=localStorage.getItem("darkMode")==="true";d(ae),Qt(ae);const fe=()=>B(!0),ve=()=>B(!1);window.addEventListener("online",fe),window.addEventListener("offline",ve);const Ie=ct.subscribeToChanges(Ze=>{i(Ze)}),$e=ct.subscribeToCategoryChanges(Ze=>{Y(Ze)}),Tt=ct.subscribeToSubCategoryChanges(Ze=>{pe(Ze)});return()=>{window.removeEventListener("online",fe),window.removeEventListener("offline",ve),Ie(),$e(),Tt()}},[]);const Qt=M=>{M?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},Pa=async()=>{if(s.trim())if(s.includes(",")||s.includes("그리고")||s.includes("및")||s.includes("후에")||s.includes("다음에")){L(s),K(O),G(H);const M=new AbortController;je(M),$(!0),l(""),se(""),q("");try{const ae=de.map(Ie=>Ie.name),fe=de.map(Ie=>({category:Ie.name,subcategories:ue.filter($e=>$e.parent_category_id===Ie.id).map($e=>({id:$e.id,name:$e.name}))})),ve=await op(s,ae,fe);if(M.signal.aborted)return;if(ve.todos&&ve.todos.length>0){const Ie=ve.todos.map(($e,Tt)=>{let Ze=null;if($e.subcategory&&$e.category){const Zt=de.find(Sa=>Sa.name===$e.category);Zt&&(Ze=ue.find(aa=>aa.parent_category_id===Zt.id&&aa.name===$e.subcategory)?.id||null)}return{id:`review_${Date.now()}_${Tt}`,text:$e.title,category:$e.category||X,subcategory_id:Ze,due_date:$e.dueDate||null,selected:!0}});V(Ie),xe(ve.summary||""),Oe(!0)}else wa(),Tn()}catch(ae){if(console.error("Failed to parse todos:",ae),!M.signal.aborted){const fe=ae.message||"AI 분석 중 오류가 발생했습니다";alert(`❌ ${fe}

원래 입력을 복원하고 단순 추가 모드로 전환합니다.`),wa()}}finally{M.signal.aborted||($(!1),je(null))}}else Tn(),l(""),se(""),q("")},Ni=()=>{Q&&(Q.abort(),je(null)),$(!1),wa()},wa=()=>{l(w),A(X),se(ie);const M=de.find(ae=>ae.name===X);if(M){const ae=ue.filter(fe=>fe.parent_category_id===M.id);q(ae.length>0?ae[0].id:"")}L(""),K(""),G("")},Tn=async()=>{await ct.addTodo({text:s,completed:!1,category:O,subcategory_id:U||null,due_date:H||null})},cr=async M=>{const ae=u.find(fe=>fe.id===M);ae&&await ct.updateTodo(M,{completed:!ae.completed})},dr=async M=>{await ct.deleteTodo(M)},Et=u.filter(M=>{let ae=!0;f==="completed"&&(ae=M.completed),f==="active"&&(ae=!M.completed);let fe=!0;y!=="all"&&(fe=M.category===y);let ve=!0;return b!=="all"&&(b==="none"?ve=!M.subcategory_id:ve=M.subcategory_id===b),ae&&fe&&ve}),qs=u.filter(M=>M.completed).length,Bs=u.length?qs/u.length*100:0,$s=M=>{const ae=de.find(Tt=>Tt.name===M);if(!ae)return{color:"#6B7280",icon:"",className:o?"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300":"bg-gray-100 text-gray-800"};const ve=(Tt=>{const Ze=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Tt);return Ze?{r:parseInt(Ze[1],16),g:parseInt(Ze[2],16),b:parseInt(Ze[3],16)}:null})(ae.color),Ie=o?"0.2":"0.1",$e=o?"0.9":"0.8";return{color:ae.color,icon:ae.icon,className:"",style:{backgroundColor:ve?`rgba(${ve.r}, ${ve.g}, ${ve.b}, ${Ie})`:void 0,color:ve?`rgba(${ve.r}, ${ve.g}, ${ve.b}, ${$e})`:void 0}}},On=async M=>{await ct.addCategory(M)},fr=async(M,ae)=>{await ct.updateCategory(M,ae)},Hs=async M=>{await ct.deleteCategory(M)},hr=async M=>{await ct.addSubCategory(M)},gr=async(M,ae)=>{await ct.updateSubCategory(M,ae)},Wa=async M=>{await ct.deleteSubCategory(M)},yt=async M=>{$(!0);try{const ae=u.map(ve=>ve.text.trim().toLowerCase()),fe=M.filter(ve=>ae.includes(ve.text.trim().toLowerCase()));if(fe.length>0){const ve=fe.map($e=>`"${$e.text}"`).join(", ");if(!confirm(`다음 할일이 이미 존재합니다: ${ve}

그래도 추가하시겠습니까?`)){$(!1);return}}for(const ve of M)await ct.addTodo({text:ve.text.trim(),completed:!1,category:ve.category,subcategory_id:ve.subcategory_id,due_date:ve.due_date});Oe(!1),V([]),xe(""),L(""),K(""),G("")}catch(ae){console.error("Failed to add reviewed todos:",ae),alert("할일 추가 중 오류가 발생했습니다. 다시 시도해주세요.")}finally{$(!1)}},It=M=>{ke(M)},vt=async(M,ae)=>{await ct.updateTodo(M,ae),ke(null)},yr=()=>{ke(null)};return m.jsx("div",{className:`min-h-screen transition-all duration-500 ease-in-out ${o?"bg-gray-900":"bg-gray-50"}`,children:m.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[m.jsxs("div",{className:"flex items-center justify-between mb-8 animate-fade-in-down",children:[m.jsxs("div",{children:[m.jsx("h1",{className:`text-3xl font-light transition-colors duration-300 ${o?"text-white":"text-gray-900"}`,children:"할일"}),m.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[m.jsx("p",{className:`text-sm transition-colors duration-300 ${o?"text-gray-400":"text-gray-600"}`,children:"오늘 해야 할 일들을 정리해보세요"}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:`w-2 h-2 rounded-full transition-colors duration-300 ${W?"bg-green-500 animate-pulse":"bg-red-500"}`}),m.jsx("span",{className:`text-xs transition-colors duration-300 ${o?"text-gray-500":"text-gray-400"}`,children:W?"온라인":"오프라인"}),J&&m.jsx("div",{className:"ml-1",children:m.jsx("div",{className:"w-3 h-3 border border-blue-500 border-t-transparent rounded-full animate-spin"})})]})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>Z(!0),className:`p-3 rounded-xl transition-all duration-300 transform hover:scale-110 hover:rotate-12 ${o?"bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-purple-400":"bg-white hover:bg-gray-100 text-gray-600 hover:text-purple-600 shadow-lg hover:shadow-xl"}`,children:m.jsx(t0,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>{const M=!o;d(M),localStorage.setItem("darkMode",M.toString()),Qt(M)},className:`p-3 rounded-xl transition-all duration-300 transform hover:scale-110 hover:rotate-12 ${o?"bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-yellow-400":"bg-white hover:bg-gray-100 text-gray-600 hover:text-blue-600 shadow-lg hover:shadow-xl"}`,children:o?m.jsx(Om,{className:"w-5 h-5"}):m.jsx(gm,{className:"w-5 h-5"})})]})]}),u.length>0&&m.jsxs("div",{className:`p-6 rounded-2xl mb-6 transition-all duration-500 animate-slide-in-up ${o?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200 shadow-lg"}`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("span",{className:`text-sm font-medium transition-colors duration-300 ${o?"text-gray-300":"text-gray-700"}`,children:"진행률"}),m.jsxs("span",{className:`text-sm font-mono transition-colors duration-300 ${o?"text-gray-400":"text-gray-500"}`,children:[qs,"/",u.length]})]}),m.jsx("div",{className:`w-full h-3 rounded-full overflow-hidden ${o?"bg-gray-700":"bg-gray-200"}`,children:m.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-1000 ease-out",style:{width:`${Bs}%`}})})]}),m.jsx("div",{className:`p-6 rounded-2xl mb-6 transition-all duration-500 animate-slide-in-up ${o?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200 shadow-lg"}`,style:{animationDelay:"0.1s"},children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("div",{className:"relative flex-1",children:[te&&m.jsx("div",{className:`absolute inset-0 rounded-xl flex items-center justify-center backdrop-blur-sm z-10 ${o?"bg-gray-800/80":"bg-white/80"}`,children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-6 h-6 border-2 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),m.jsx("p",{className:`text-sm ${o?"text-gray-300":"text-gray-600"}`,children:"AI가 분석하고 있어요..."})]})}),m.jsx("textarea",{value:s,onChange:M=>l(M.target.value),placeholder:`할일을 입력하세요
여러 할일은 쉼표로 구분
Enter: 추가, Shift+Enter: 개행`,className:`w-full px-4 py-3 rounded-xl border transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:scale-[1.02] resize-none ${o?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 shadow-sm focus:shadow-md"} ${te||J?"opacity-75":""}`,onKeyDown:M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),Pa())},disabled:te||J,rows:Math.max(1,Math.min(4,s.split(`
`).length)),style:{minHeight:"48px",maxHeight:"120px",overflow:"auto"}}),te?m.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:m.jsxs("div",{className:`px-3 py-1 rounded-full text-xs ${o?"bg-blue-900/50 text-blue-300":"bg-blue-100 text-blue-600"} flex items-center gap-2 animate-pulse`,children:[m.jsx("div",{className:"w-3 h-3 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),"AI 분석 중..."]})}):(s.includes(",")||s.includes("그리고")||s.includes("및")||s.includes("후에")||s.includes("다음에"))&&m.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:m.jsxs("div",{className:`px-2 py-1 rounded-full text-xs ${o?"bg-purple-900/50 text-purple-300":"bg-purple-100 text-purple-600"} flex items-center gap-1 animate-pulse`,children:[m.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-ping"}),"AI 분석 가능"]})})]}),te?m.jsxs("button",{onClick:Ni,className:"px-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300 flex items-center gap-2 transform hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl",children:[m.jsx(Ci,{className:"w-4 h-4"}),"취소"]}):m.jsxs("button",{onClick:Pa,disabled:!s.trim()||J,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl hover:from-blue-600 hover:to-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center gap-2 transform hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl",children:[J?m.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):m.jsx(e0,{className:"w-4 h-4"}),J?"동기화중...":"추가"]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[m.jsx("select",{value:O,onChange:M=>{A(M.target.value);const ae=de.find(fe=>fe.name===M.target.value);if(ae){const fe=ue.filter(ve=>ve.parent_category_id===ae.id);q(fe.length>0?fe[0].id:"")}else q("")},className:`px-3 py-2 rounded-lg border transition-all duration-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent ${o?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:de.map(M=>m.jsxs("option",{value:M.name,children:[M.icon," ",M.name]},M.id))}),m.jsxs("select",{value:U,onChange:M=>{q(M.target.value)},className:`px-3 py-2 rounded-lg border transition-all duration-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent ${o?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,disabled:ue.filter(M=>{const ae=de.find(fe=>fe.name===O);return ae&&M.parent_category_id===ae.id}).length===0,children:[m.jsx("option",{value:"",children:"서브카테고리 없음"}),ue.filter(M=>{const ae=de.find(fe=>fe.name===O);return ae&&M.parent_category_id===ae.id}).map(M=>m.jsxs("option",{value:M.id,children:[M.icon," ",M.name]},M.id))]}),m.jsx("input",{type:"date",value:H,onChange:M=>se(M.target.value),className:`px-3 py-2 rounded-lg border transition-all duration-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent ${o?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]})}),m.jsxs("div",{className:"space-y-4 mb-6 animate-slide-in-up",style:{animationDelay:"0.2s"},children:[m.jsx("div",{className:"flex gap-2",children:[{key:"all",label:"전체"},{key:"active",label:"미완료"},{key:"completed",label:"완료"}].map(({key:M,label:ae})=>m.jsx("button",{onClick:()=>g(M),className:`px-4 py-2 rounded-xl text-sm transition-all duration-300 transform hover:scale-105 ${f===M?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":o?"bg-gray-800 text-gray-300 hover:bg-gray-700 border border-gray-700":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200 shadow-sm hover:shadow-md"}`,children:ae},M))}),de.length>0&&m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("button",{onClick:()=>{p("all"),x("all")},className:`px-3 py-1 rounded-lg text-xs transition-all duration-300 transform hover:scale-105 ${y==="all"?"bg-gray-500 text-white shadow-md":o?"bg-gray-800 text-gray-300 hover:bg-gray-700 border border-gray-700":"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-200"}`,children:"모든 카테고리"}),de.map(M=>{const ae=u.filter(ve=>ve.category===M.name),fe=$s(M.name);return m.jsxs("button",{onClick:()=>{p(M.name),x("all")},className:`px-3 py-1 rounded-lg text-xs transition-all duration-300 transform hover:scale-105 flex items-center gap-1 ${y===M.name?"shadow-md ring-2 ring-offset-1":"hover:shadow-sm"}`,style:{backgroundColor:y===M.name?fe.color:fe.style?.backgroundColor,color:y===M.name?"white":fe.style?.color,...y===M.name?{"--tw-ring-color":fe.color}:{}},children:[M.icon&&m.jsx("span",{children:M.icon}),m.jsx("span",{children:M.name}),m.jsx("span",{className:`ml-1 px-1 py-0.5 rounded-full text-xs ${y===M.name?"bg-white/20 text-white":o?"bg-gray-700 text-gray-300":"bg-gray-200 text-gray-600"}`,children:ae.length})]},M.id)})]}),y!=="all"&&ue.filter(M=>{const ae=de.find(fe=>fe.name===y);return ae&&M.parent_category_id===ae.id}).length>0&&m.jsxs("div",{className:"flex flex-wrap gap-2 pl-4 border-l-2 border-gray-300 dark:border-gray-600",children:[m.jsx("button",{onClick:()=>x("all"),className:`px-2 py-1 rounded text-xs transition-all duration-300 transform hover:scale-105 ${b==="all"?"bg-gray-400 text-white shadow-sm":o?"bg-gray-700 text-gray-400 hover:bg-gray-600 border border-gray-600":"bg-gray-50 text-gray-500 hover:bg-gray-100 border border-gray-200"}`,children:"전체 서브카테고리"}),m.jsxs("button",{onClick:()=>x("none"),className:`px-2 py-1 rounded text-xs transition-all duration-300 transform hover:scale-105 ${b==="none"?"bg-gray-400 text-white shadow-sm":o?"bg-gray-700 text-gray-400 hover:bg-gray-600 border border-gray-600":"bg-gray-50 text-gray-500 hover:bg-gray-100 border border-gray-200"}`,children:["서브카테고리 없음 (",u.filter(M=>M.category===y&&!M.subcategory_id).length,")"]}),ue.filter(M=>{const ae=de.find(fe=>fe.name===y);return ae&&M.parent_category_id===ae.id}).map(M=>{const ae=u.filter(fe=>fe.subcategory_id===M.id);return m.jsxs("button",{onClick:()=>x(M.id),className:`px-2 py-1 rounded text-xs transition-all duration-300 transform hover:scale-105 flex items-center gap-1 ${b===M.id?"shadow-md ring-1 ring-offset-1":"hover:shadow-sm"}`,style:{backgroundColor:b===M.id?M.color:`${M.color}20`,color:b===M.id?"white":M.color,...b===M.id?{"--tw-ring-color":M.color}:{}},children:[M.icon&&m.jsx("span",{children:M.icon}),m.jsx("span",{children:M.name}),m.jsx("span",{className:`ml-1 px-1 py-0.5 rounded-full text-xs ${b===M.id?"bg-white/20 text-white":o?"bg-gray-700 text-gray-300":"bg-gray-200 text-gray-600"}`,children:ae.length})]},M.id)})]})]})]}),m.jsxs("div",{className:"space-y-3",children:[Et.map((M,ae)=>m.jsx("div",{className:`group p-5 rounded-2xl border transition-all duration-500 transform hover:shadow-xl animate-slide-in-up ${I===M.id?o?"bg-blue-900/20 border-blue-500 scale-[1.02]":"bg-blue-50 border-blue-300 scale-[1.02]":o?"bg-gray-800 border-gray-700 hover:bg-gray-750 hover:scale-[1.02]":"bg-white border-gray-200 shadow-sm hover:shadow-lg hover:scale-[1.02]"} ${M.completed?"opacity-75 hover:opacity-90":""}`,style:{animationDelay:`${.3+ae*.05}s`},children:m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("button",{onClick:()=>cr(M.id),className:`mt-1 flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-300 transform hover:scale-110 ${M.completed?"bg-gradient-to-r from-green-500 to-emerald-500 border-green-500 text-white animate-check-mark":o?"border-gray-500 hover:border-green-400 hover:bg-green-400/10":"border-gray-300 hover:border-green-500 hover:bg-green-50"}`,disabled:I===M.id,children:M.completed&&m.jsx(ir,{className:"w-4 h-4 animate-bounce-in"})}),m.jsx("div",{className:"flex-1 min-w-0",children:m.jsx(E_,{todo:M,categories:de,subcategories:ue,isDark:o,isEditing:I===M.id,onStartEdit:()=>It(M.id),onSave:fe=>vt(M.id,fe),onCancel:yr,isSubmitting:te})}),m.jsx("button",{onClick:()=>dr(M.id),className:"opacity-0 group-hover:opacity-100 p-2 text-gray-400 hover:text-red-500 transition-all duration-300 transform hover:scale-110 hover:rotate-12 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20",disabled:I===M.id,children:m.jsx(lr,{className:"w-4 h-4"})})]})},M.id)),Et.length===0&&!J&&m.jsxs("div",{className:`text-center py-16 transition-colors duration-300 ${o?"text-gray-500":"text-gray-400"} animate-fade-in`,children:[m.jsx(um,{className:"w-16 h-16 mx-auto mb-4 opacity-50 animate-pulse"}),m.jsx("p",{className:"text-lg",children:f==="completed"?"완료된 할일이 없습니다":f==="active"?"미완료 할일이 없습니다":"할일을 추가해보세요"}),!W&&m.jsx("p",{className:"text-sm mt-2 text-yellow-500",children:"오프라인 모드입니다. 온라인 연결 시 동기화됩니다."})]}),J&&u.length===0&&m.jsxs("div",{className:`text-center py-16 transition-colors duration-300 ${o?"text-gray-500":"text-gray-400"} animate-fade-in`,children:[m.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),m.jsx("p",{className:"text-lg",children:"데이터를 불러오는 중..."})]})]}),m.jsx(S_,{isOpen:P,onClose:()=>Z(!1),categories:de,subcategories:ue,isDark:o,onAddCategory:On,onUpdateCategory:fr,onDeleteCategory:Hs,onAddSubCategory:hr,onUpdateSubCategory:gr,onDeleteSubCategory:Wa}),m.jsx(x_,{isOpen:Ae,onClose:()=>{Oe(!1),V([]),xe(""),w&&wa()},reviewTodos:R,categories:de,subcategories:ue,isDark:o,onConfirm:yt,isSubmitting:te,aiSummary:le})]})})}Jv.createRoot(document.getElementById("root")).render(m.jsx(ee.StrictMode,{children:m.jsx(T_,{})}));
