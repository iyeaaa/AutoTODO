(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function i(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=i(u);fetch(u.href,d)}})();function Gm(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function Ym(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var s=o.default;if(typeof s=="function"){var i=function l(){var u=!1;try{u=this instanceof l}catch{}return u?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};i.prototype=s.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(o).forEach(function(l){var u=Object.getOwnPropertyDescriptor(o,l);Object.defineProperty(i,l,u.get?u:{enumerable:!0,get:function(){return o[l]}})}),i}var Uu={exports:{}},Ni={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg;function Km(){if(tg)return Ni;tg=1;var o=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function i(l,u,d){var f=null;if(d!==void 0&&(f=""+d),u.key!==void 0&&(f=""+u.key),"key"in u){d={};for(var y in u)y!=="key"&&(d[y]=u[y])}else d=u;return u=d.ref,{$$typeof:o,type:l,key:f,ref:u!==void 0?u:null,props:d}}return Ni.Fragment=s,Ni.jsx=i,Ni.jsxs=i,Ni}var ag;function Vm(){return ag||(ag=1,Uu.exports=Km()),Uu.exports}var g=Vm(),ku={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng;function Xm(){if(ng)return ge;ng=1;var o=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.iterator;function T(w){return w===null||typeof w!="object"?null:(w=S&&w[S]||w["@@iterator"],typeof w=="function"?w:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,q={};function H(w,L,X){this.props=w,this.context=L,this.refs=q,this.updater=X||A}H.prototype.isReactComponent={},H.prototype.setState=function(w,L){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,L,"setState")},H.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function W(){}W.prototype=H.prototype;function re(w,L,X){this.props=w,this.context=L,this.refs=q,this.updater=X||A}var G=re.prototype=new W;G.constructor=re,M(G,H.prototype),G.isPureReactComponent=!0;var Q=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},ee=Object.prototype.hasOwnProperty;function ye(w,L,X,V,te,be){return X=be.ref,{$$typeof:o,type:w,key:L,ref:X!==void 0?X:null,props:be}}function me(w,L){return ye(w.type,L,void 0,void 0,void 0,w.props)}function K(w){return typeof w=="object"&&w!==null&&w.$$typeof===o}function ae(w){var L={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(X){return L[X]})}var fe=/\/+/g;function I(w,L){return typeof w=="object"&&w!==null&&w.key!=null?ae(""+w.key):L.toString(36)}function F(){}function je(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(F,F):(w.status="pending",w.then(function(L){w.status==="pending"&&(w.status="fulfilled",w.value=L)},function(L){w.status==="pending"&&(w.status="rejected",w.reason=L)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function Me(w,L,X,V,te){var be=typeof w;(be==="undefined"||be==="boolean")&&(w=null);var B=!1;if(w===null)B=!0;else switch(be){case"bigint":case"string":case"number":B=!0;break;case"object":switch(w.$$typeof){case o:case s:B=!0;break;case b:return B=w._init,Me(B(w._payload),L,X,V,te)}}if(B)return te=te(w),B=V===""?"."+I(w,0):V,Q(te)?(X="",B!=null&&(X=B.replace(fe,"$&/")+"/"),Me(te,L,X,"",function(le){return le})):te!=null&&(K(te)&&(te=me(te,X+(te.key==null||w&&w.key===te.key?"":(""+te.key).replace(fe,"$&/")+"/")+B)),L.push(te)),1;B=0;var ve=V===""?".":V+":";if(Q(w))for(var _e=0;_e<w.length;_e++)V=w[_e],be=ve+I(V,_e),B+=Me(V,L,X,be,te);else if(_e=T(w),typeof _e=="function")for(w=_e.call(w),_e=0;!(V=w.next()).done;)V=V.value,be=ve+I(V,_e++),B+=Me(V,L,X,be,te);else if(be==="object"){if(typeof w.then=="function")return Me(je(w),L,X,V,te);throw L=String(w),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return B}function U(w,L,X){if(w==null)return w;var V=[],te=0;return Me(w,V,"","",function(be){return L.call(X,be,te++)}),V}function Y(w){if(w._status===-1){var L=w._result;L=L(),L.then(function(X){(w._status===0||w._status===-1)&&(w._status=1,w._result=X)},function(X){(w._status===0||w._status===-1)&&(w._status=2,w._result=X)}),w._status===-1&&(w._status=0,w._result=L)}if(w._status===1)return w._result.default;throw w._result}var se=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Oe(){}return ge.Children={map:U,forEach:function(w,L,X){U(w,function(){L.apply(this,arguments)},X)},count:function(w){var L=0;return U(w,function(){L++}),L},toArray:function(w){return U(w,function(L){return L})||[]},only:function(w){if(!K(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},ge.Component=H,ge.Fragment=i,ge.Profiler=u,ge.PureComponent=re,ge.StrictMode=l,ge.Suspense=p,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,ge.__COMPILER_RUNTIME={__proto__:null,c:function(w){return $.H.useMemoCache(w)}},ge.cache=function(w){return function(){return w.apply(null,arguments)}},ge.cloneElement=function(w,L,X){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var V=M({},w.props),te=w.key,be=void 0;if(L!=null)for(B in L.ref!==void 0&&(be=void 0),L.key!==void 0&&(te=""+L.key),L)!ee.call(L,B)||B==="key"||B==="__self"||B==="__source"||B==="ref"&&L.ref===void 0||(V[B]=L[B]);var B=arguments.length-2;if(B===1)V.children=X;else if(1<B){for(var ve=Array(B),_e=0;_e<B;_e++)ve[_e]=arguments[_e+2];V.children=ve}return ye(w.type,te,void 0,void 0,be,V)},ge.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:d,_context:w},w},ge.createElement=function(w,L,X){var V,te={},be=null;if(L!=null)for(V in L.key!==void 0&&(be=""+L.key),L)ee.call(L,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(te[V]=L[V]);var B=arguments.length-2;if(B===1)te.children=X;else if(1<B){for(var ve=Array(B),_e=0;_e<B;_e++)ve[_e]=arguments[_e+2];te.children=ve}if(w&&w.defaultProps)for(V in B=w.defaultProps,B)te[V]===void 0&&(te[V]=B[V]);return ye(w,be,void 0,void 0,null,te)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(w){return{$$typeof:y,render:w}},ge.isValidElement=K,ge.lazy=function(w){return{$$typeof:b,_payload:{_status:-1,_result:w},_init:Y}},ge.memo=function(w,L){return{$$typeof:m,type:w,compare:L===void 0?null:L}},ge.startTransition=function(w){var L=$.T,X={};$.T=X;try{var V=w(),te=$.S;te!==null&&te(X,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(Oe,se)}catch(be){se(be)}finally{$.T=L}},ge.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},ge.use=function(w){return $.H.use(w)},ge.useActionState=function(w,L,X){return $.H.useActionState(w,L,X)},ge.useCallback=function(w,L){return $.H.useCallback(w,L)},ge.useContext=function(w){return $.H.useContext(w)},ge.useDebugValue=function(){},ge.useDeferredValue=function(w,L){return $.H.useDeferredValue(w,L)},ge.useEffect=function(w,L,X){var V=$.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(w,L)},ge.useId=function(){return $.H.useId()},ge.useImperativeHandle=function(w,L,X){return $.H.useImperativeHandle(w,L,X)},ge.useInsertionEffect=function(w,L){return $.H.useInsertionEffect(w,L)},ge.useLayoutEffect=function(w,L){return $.H.useLayoutEffect(w,L)},ge.useMemo=function(w,L){return $.H.useMemo(w,L)},ge.useOptimistic=function(w,L){return $.H.useOptimistic(w,L)},ge.useReducer=function(w,L,X){return $.H.useReducer(w,L,X)},ge.useRef=function(w){return $.H.useRef(w)},ge.useState=function(w){return $.H.useState(w)},ge.useSyncExternalStore=function(w,L,X){return $.H.useSyncExternalStore(w,L,X)},ge.useTransition=function(){return $.H.useTransition()},ge.version="19.1.1",ge}var sg;function oc(){return sg||(sg=1,ku.exports=Xm()),ku.exports}var Z=oc(),Du={exports:{}},Ri={},zu={exports:{}},Lu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function Qm(){return ig||(ig=1,(function(o){function s(U,Y){var se=U.length;U.push(Y);e:for(;0<se;){var Oe=se-1>>>1,w=U[Oe];if(0<u(w,Y))U[Oe]=Y,U[se]=w,se=Oe;else break e}}function i(U){return U.length===0?null:U[0]}function l(U){if(U.length===0)return null;var Y=U[0],se=U.pop();if(se!==Y){U[0]=se;e:for(var Oe=0,w=U.length,L=w>>>1;Oe<L;){var X=2*(Oe+1)-1,V=U[X],te=X+1,be=U[te];if(0>u(V,se))te<w&&0>u(be,V)?(U[Oe]=be,U[te]=se,Oe=te):(U[Oe]=V,U[X]=se,Oe=X);else if(te<w&&0>u(be,se))U[Oe]=be,U[te]=se,Oe=te;else break e}}return Y}function u(U,Y){var se=U.sortIndex-Y.sortIndex;return se!==0?se:U.id-Y.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;o.unstable_now=function(){return d.now()}}else{var f=Date,y=f.now();o.unstable_now=function(){return f.now()-y}}var p=[],m=[],b=1,S=null,T=3,A=!1,M=!1,q=!1,H=!1,W=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function Q(U){for(var Y=i(m);Y!==null;){if(Y.callback===null)l(m);else if(Y.startTime<=U)l(m),Y.sortIndex=Y.expirationTime,s(p,Y);else break;Y=i(m)}}function $(U){if(q=!1,Q(U),!M)if(i(p)!==null)M=!0,ee||(ee=!0,I());else{var Y=i(m);Y!==null&&Me($,Y.startTime-U)}}var ee=!1,ye=-1,me=5,K=-1;function ae(){return H?!0:!(o.unstable_now()-K<me)}function fe(){if(H=!1,ee){var U=o.unstable_now();K=U;var Y=!0;try{e:{M=!1,q&&(q=!1,re(ye),ye=-1),A=!0;var se=T;try{t:{for(Q(U),S=i(p);S!==null&&!(S.expirationTime>U&&ae());){var Oe=S.callback;if(typeof Oe=="function"){S.callback=null,T=S.priorityLevel;var w=Oe(S.expirationTime<=U);if(U=o.unstable_now(),typeof w=="function"){S.callback=w,Q(U),Y=!0;break t}S===i(p)&&l(p),Q(U)}else l(p);S=i(p)}if(S!==null)Y=!0;else{var L=i(m);L!==null&&Me($,L.startTime-U),Y=!1}}break e}finally{S=null,T=se,A=!1}Y=void 0}}finally{Y?I():ee=!1}}}var I;if(typeof G=="function")I=function(){G(fe)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,je=F.port2;F.port1.onmessage=fe,I=function(){je.postMessage(null)}}else I=function(){W(fe,0)};function Me(U,Y){ye=W(function(){U(o.unstable_now())},Y)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(U){U.callback=null},o.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<U?Math.floor(1e3/U):5},o.unstable_getCurrentPriorityLevel=function(){return T},o.unstable_next=function(U){switch(T){case 1:case 2:case 3:var Y=3;break;default:Y=T}var se=T;T=Y;try{return U()}finally{T=se}},o.unstable_requestPaint=function(){H=!0},o.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var se=T;T=U;try{return Y()}finally{T=se}},o.unstable_scheduleCallback=function(U,Y,se){var Oe=o.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Oe+se:Oe):se=Oe,U){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=se+w,U={id:b++,callback:Y,priorityLevel:U,startTime:se,expirationTime:w,sortIndex:-1},se>Oe?(U.sortIndex=se,s(m,U),i(p)===null&&U===i(m)&&(q?(re(ye),ye=-1):q=!0,Me($,se-Oe))):(U.sortIndex=w,s(p,U),M||A||(M=!0,ee||(ee=!0,I()))),U},o.unstable_shouldYield=ae,o.unstable_wrapCallback=function(U){var Y=T;return function(){var se=T;T=Y;try{return U.apply(this,arguments)}finally{T=se}}}})(Lu)),Lu}var lg;function Im(){return lg||(lg=1,zu.exports=Qm()),zu.exports}var $u={exports:{}},mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function Zm(){if(rg)return mt;rg=1;var o=oc();function s(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(s(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(p,m,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:p,containerInfo:m,implementation:b}}var f=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,mt.createPortal=function(p,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(s(299));return d(p,m,null,b)},mt.flushSync=function(p){var m=f.T,b=l.p;try{if(f.T=null,l.p=2,p)return p()}finally{f.T=m,l.p=b,l.d.f()}},mt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,l.d.C(p,m))},mt.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},mt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var b=m.as,S=y(b,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?l.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:A}):b==="script"&&l.d.X(p,{crossOrigin:S,integrity:T,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},mt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=y(m.as,m.crossOrigin);l.d.M(p,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&l.d.M(p)},mt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,S=y(b,m.crossOrigin);l.d.L(p,b,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},mt.preloadModule=function(p,m){if(typeof p=="string")if(m){var b=y(m.as,m.crossOrigin);l.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else l.d.m(p)},mt.requestFormReset=function(p){l.d.r(p)},mt.unstable_batchedUpdates=function(p,m){return p(m)},mt.useFormState=function(p,m,b){return f.H.useFormState(p,m,b)},mt.useFormStatus=function(){return f.H.useHostTransitionStatus()},mt.version="19.1.1",mt}var og;function Jm(){if(og)return $u.exports;og=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(s){console.error(s)}}return o(),$u.exports=Zm(),$u.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function Fm(){if(ug)return Ri;ug=1;var o=Im(),s=oc(),i=Jm();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(r===null)break;var c=r.alternate;if(c===null){if(n=r.return,n!==null){a=n;continue}break}if(r.child===c.child){for(c=r.child;c;){if(c===a)return y(r),e;if(c===n)return y(r),t;c=c.sibling}throw Error(l(188))}if(a.return!==n.return)a=r,n=c;else{for(var h=!1,v=r.child;v;){if(v===a){h=!0,a=r,n=c;break}if(v===n){h=!0,n=r,a=c;break}v=v.sibling}if(!h){for(v=c.child;v;){if(v===a){h=!0,a=c,n=r;break}if(v===n){h=!0,n=c,a=r;break}v=v.sibling}if(!h)throw Error(l(189))}}if(a.alternate!==n)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),G=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=fe&&e[fe]||e["@@iterator"],typeof e=="function"?e:null)}var F=Symbol.for("react.client.reference");function je(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===F?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case H:return"Profiler";case q:return"StrictMode";case $:return"Suspense";case ee:return"SuspenseList";case K:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case G:return(e.displayName||"Context")+".Provider";case re:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ye:return t=e.displayName||null,t!==null?t:je(e.type)||"Memo";case me:t=e._payload,e=e._init;try{return je(e(t))}catch{}}return null}var Me=Array.isArray,U=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Oe=[],w=-1;function L(e){return{current:e}}function X(e){0>w||(e.current=Oe[w],Oe[w]=null,w--)}function V(e,t){w++,Oe[w]=e.current,e.current=t}var te=L(null),be=L(null),B=L(null),ve=L(null);function _e(e,t){switch(V(B,t),V(be,e),V(te,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ah(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ah(t),e=Nh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(te),V(te,e)}function le(){X(te),X(be),X(B)}function Ke(e){e.memoizedState!==null&&V(ve,e);var t=te.current,a=Nh(t,e.type);t!==a&&(V(be,e),V(te,a))}function Ot(e){be.current===e&&(X(te),X(be)),ve.current===e&&(X(ve),Ti._currentValue=se)}var Wt=Object.prototype.hasOwnProperty,ea=o.unstable_scheduleCallback,Nn=o.unstable_cancelCallback,Yi=o.unstable_shouldYield,pr=o.unstable_requestPaint,pt=o.unstable_now,Ki=o.unstable_getCurrentPriorityLevel,Vi=o.unstable_ImmediatePriority,Xi=o.unstable_UserBlockingPriority,sn=o.unstable_NormalPriority,Qi=o.unstable_LowPriority,Ii=o.unstable_IdlePriority,br=o.log,_r=o.unstable_setDisableYieldValue,ln=null,bt=null;function ta(e){if(typeof br=="function"&&_r(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(ln,e)}catch{}}var _t=Math.clz32?Math.clz32:Sr,wr=Math.log,xr=Math.LN2;function Sr(e){return e>>>=0,e===0?32:31-(wr(e)/xr|0)|0}var Rn=256,Mn=4194304;function oa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function R(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var r=0,c=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var v=n&134217727;return v!==0?(n=v&~c,n!==0?r=oa(n):(h&=v,h!==0?r=oa(h):a||(a=v&~e,a!==0&&(r=oa(a))))):(v=n&~c,v!==0?r=oa(v):h!==0?r=oa(h):a||(a=n&~e,a!==0&&(r=oa(a)))),r===0?0:t!==0&&t!==r&&(t&c)===0&&(c=r&-r,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:r}function J(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function de(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ie(){var e=Rn;return Rn<<=1,(Rn&4194048)===0&&(Rn=256),e}function Ae(){var e=Mn;return Mn<<=1,(Mn&62914560)===0&&(Mn=4194304),e}function pe(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Fe(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function At(e,t,a,n,r,c){var h=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,_=e.expirationTimes,C=e.hiddenUpdates;for(a=h&~a;0<a;){var k=31-_t(a),z=1<<k;v[k]=0,_[k]=-1;var O=C[k];if(O!==null)for(C[k]=null,k=0;k<O.length;k++){var N=O[k];N!==null&&(N.lane&=-536870913)}a&=~z}n!==0&&Pe(e,n,0),c!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=c&~(h&~t))}function Pe(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-_t(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function Xt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-_t(a),r=1<<n;r&t|e[n]&t&&(e[n]|=t),a&=~r}}function Qt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ua(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Zh(e.type))}function Aa(e,t){var a=Y.p;try{return Y.p=e,t()}finally{Y.p=a}}var St=Math.random().toString(36).slice(2),it="__reactFiber$"+St,dt="__reactProps$"+St,Un="__reactContainer$"+St,Er="__reactEvents$"+St,M0="__reactListeners$"+St,U0="__reactHandles$"+St,mc="__reactResources$"+St,zs="__reactMarker$"+St;function Tr(e){delete e[it],delete e[dt],delete e[Er],delete e[M0],delete e[U0]}function kn(e){var t=e[it];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Un]||a[it]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=kh(e);e!==null;){if(a=e[it])return a;e=kh(e)}return t}e=a,a=e.parentNode}return null}function Dn(e){if(e=e[it]||e[Un]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ls(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function zn(e){var t=e[mc];return t||(t=e[mc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[zs]=!0}var vc=new Set,pc={};function rn(e,t){Ln(e,t),Ln(e+"Capture",t)}function Ln(e,t){for(pc[e]=t,e=0;e<t.length;e++)vc.add(t[e])}var k0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bc={},_c={};function D0(e){return Wt.call(_c,e)?!0:Wt.call(bc,e)?!1:k0.test(e)?_c[e]=!0:(bc[e]=!0,!1)}function Zi(e,t,a){if(D0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ji(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ca(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var jr,wc;function $n(e){if(jr===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);jr=t&&t[1]||"",wc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jr+e+wc}var Cr=!1;function Or(e,t){if(!e||Cr)return"";Cr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(N){var O=N}Reflect.construct(e,[],z)}else{try{z.call()}catch(N){O=N}e.call(z.prototype)}}else{try{throw Error()}catch(N){O=N}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(N){if(N&&O&&typeof N.stack=="string")return[N.stack,O.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=n.DetermineComponentFrameRoot(),h=c[0],v=c[1];if(h&&v){var _=h.split(`
`),C=v.split(`
`);for(r=n=0;n<_.length&&!_[n].includes("DetermineComponentFrameRoot");)n++;for(;r<C.length&&!C[r].includes("DetermineComponentFrameRoot");)r++;if(n===_.length||r===C.length)for(n=_.length-1,r=C.length-1;1<=n&&0<=r&&_[n]!==C[r];)r--;for(;1<=n&&0<=r;n--,r--)if(_[n]!==C[r]){if(n!==1||r!==1)do if(n--,r--,0>r||_[n]!==C[r]){var k=`
`+_[n].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=n&&0<=r);break}}}finally{Cr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?$n(a):""}function z0(e){switch(e.tag){case 26:case 27:case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return $n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return Or(e.type,!1);case 11:return Or(e.type.render,!1);case 1:return Or(e.type,!0);case 31:return $n("Activity");default:return""}}function xc(e){try{var t="";do t+=z0(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function L0(e){var t=Sc(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,c=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(h){n=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(h){n=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fi(e){e._valueTracker||(e._valueTracker=L0(e))}function Ec(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Sc(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $0=/[\n"\\]/g;function $t(e){return e.replace($0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ar(e,t,a,n,r,c,h,v){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Lt(t)):e.value!==""+Lt(t)&&(e.value=""+Lt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?Nr(e,h,Lt(t)):a!=null?Nr(e,h,Lt(a)):n!=null&&e.removeAttribute("value"),r==null&&c!=null&&(e.defaultChecked=!!c),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Lt(v):e.removeAttribute("name")}function Tc(e,t,a,n,r,c,h,v){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;a=a!=null?""+Lt(a):"",t=t!=null?""+Lt(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}n=n??r,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=v?e.checked:!!n,e.defaultChecked=!!n,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h)}function Nr(e,t,a){t==="number"&&Pi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function qn(e,t,a,n){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Lt(a),t=null,r=0;r<e.length;r++){if(e[r].value===a){e[r].selected=!0,n&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function jc(e,t,a){if(t!=null&&(t=""+Lt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Lt(a):""}function Cc(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(l(92));if(Me(n)){if(1<n.length)throw Error(l(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Lt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function Bn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var q0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oc(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||q0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Ac(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var r in t)n=t[r],t.hasOwnProperty(r)&&a[r]!==n&&Oc(e,r,n)}else for(var c in t)t.hasOwnProperty(c)&&Oc(e,c,t[c])}function Rr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),H0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wi(e){return H0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Mr=null;function Ur(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hn=null,Gn=null;function Nc(e){var t=Dn(e);if(t&&(e=t.stateNode)){var a=e[dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ar(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$t(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var r=n[dt]||null;if(!r)throw Error(l(90));Ar(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Ec(n)}break e;case"textarea":jc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&qn(e,!!a.multiple,t,!1)}}}var kr=!1;function Rc(e,t,a){if(kr)return e(t,a);kr=!0;try{var n=e(t);return n}finally{if(kr=!1,(Hn!==null||Gn!==null)&&($l(),Hn&&(t=Hn,e=Gn,Gn=Hn=null,Nc(t),e)))for(t=0;t<e.length;t++)Nc(e[t])}}function $s(e,t){var a=e.stateNode;if(a===null)return null;var n=a[dt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(da)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{Dr=!1}var Na=null,zr=null,el=null;function Mc(){if(el)return el;var e,t=zr,a=t.length,n,r="value"in Na?Na.value:Na.textContent,c=r.length;for(e=0;e<a&&t[e]===r[e];e++);var h=a-e;for(n=1;n<=h&&t[a-n]===r[c-n];n++);return el=r.slice(e,1<n?1-n:void 0)}function tl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function al(){return!0}function Uc(){return!1}function Et(e){function t(a,n,r,c,h){this._reactName=a,this._targetInst=r,this.type=n,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?al:Uc,this.isPropagationStopped=Uc,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),t}var on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=Et(on),Bs=b({},on,{view:0,detail:0}),G0=Et(Bs),Lr,$r,Hs,sl=b({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hs&&(Hs&&e.type==="mousemove"?(Lr=e.screenX-Hs.screenX,$r=e.screenY-Hs.screenY):$r=Lr=0,Hs=e),Lr)},movementY:function(e){return"movementY"in e?e.movementY:$r}}),kc=Et(sl),Y0=b({},sl,{dataTransfer:0}),K0=Et(Y0),V0=b({},Bs,{relatedTarget:0}),qr=Et(V0),X0=b({},on,{animationName:0,elapsedTime:0,pseudoElement:0}),Q0=Et(X0),I0=b({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Z0=Et(I0),J0=b({},on,{data:0}),Dc=Et(J0),F0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ey(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=W0[e])?!!t[e]:!1}function Br(){return ey}var ty=b({},Bs,{key:function(e){if(e.key){var t=F0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?P0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(e){return e.type==="keypress"?tl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ay=Et(ty),ny=b({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zc=Et(ny),sy=b({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),iy=Et(sy),ly=b({},on,{propertyName:0,elapsedTime:0,pseudoElement:0}),ry=Et(ly),oy=b({},sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uy=Et(oy),cy=b({},on,{newState:0,oldState:0}),dy=Et(cy),fy=[9,13,27,32],Hr=da&&"CompositionEvent"in window,Gs=null;da&&"documentMode"in document&&(Gs=document.documentMode);var hy=da&&"TextEvent"in window&&!Gs,Lc=da&&(!Hr||Gs&&8<Gs&&11>=Gs),$c=" ",qc=!1;function Bc(e,t){switch(e){case"keyup":return fy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yn=!1;function gy(e,t){switch(e){case"compositionend":return Hc(t);case"keypress":return t.which!==32?null:(qc=!0,$c);case"textInput":return e=t.data,e===$c&&qc?null:e;default:return null}}function yy(e,t){if(Yn)return e==="compositionend"||!Hr&&Bc(e,t)?(e=Mc(),el=zr=Na=null,Yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lc&&t.locale!=="ko"?null:t.data;default:return null}}var my={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!my[e.type]:t==="textarea"}function Yc(e,t,a,n){Hn?Gn?Gn.push(n):Gn=[n]:Hn=n,t=Kl(t,"onChange"),0<t.length&&(a=new nl("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Ys=null,Ks=null;function vy(e){Eh(e,0)}function il(e){var t=Ls(e);if(Ec(t))return e}function Kc(e,t){if(e==="change")return t}var Vc=!1;if(da){var Gr;if(da){var Yr="oninput"in document;if(!Yr){var Xc=document.createElement("div");Xc.setAttribute("oninput","return;"),Yr=typeof Xc.oninput=="function"}Gr=Yr}else Gr=!1;Vc=Gr&&(!document.documentMode||9<document.documentMode)}function Qc(){Ys&&(Ys.detachEvent("onpropertychange",Ic),Ks=Ys=null)}function Ic(e){if(e.propertyName==="value"&&il(Ks)){var t=[];Yc(t,Ks,e,Ur(e)),Rc(vy,t)}}function py(e,t,a){e==="focusin"?(Qc(),Ys=t,Ks=a,Ys.attachEvent("onpropertychange",Ic)):e==="focusout"&&Qc()}function by(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return il(Ks)}function _y(e,t){if(e==="click")return il(t)}function wy(e,t){if(e==="input"||e==="change")return il(t)}function xy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:xy;function Vs(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var r=a[n];if(!Wt.call(t,r)||!Nt(e[r],t[r]))return!1}return!0}function Zc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jc(e,t){var a=Zc(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zc(a)}}function Fc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Pi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Pi(e.document)}return t}function Kr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Sy=da&&"documentMode"in document&&11>=document.documentMode,Kn=null,Vr=null,Xs=null,Xr=!1;function Wc(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xr||Kn==null||Kn!==Pi(n)||(n=Kn,"selectionStart"in n&&Kr(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xs&&Vs(Xs,n)||(Xs=n,n=Kl(Vr,"onSelect"),0<n.length&&(t=new nl("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Kn)))}function un(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Vn={animationend:un("Animation","AnimationEnd"),animationiteration:un("Animation","AnimationIteration"),animationstart:un("Animation","AnimationStart"),transitionrun:un("Transition","TransitionRun"),transitionstart:un("Transition","TransitionStart"),transitioncancel:un("Transition","TransitionCancel"),transitionend:un("Transition","TransitionEnd")},Qr={},ed={};da&&(ed=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function cn(e){if(Qr[e])return Qr[e];if(!Vn[e])return e;var t=Vn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in ed)return Qr[e]=t[a];return e}var td=cn("animationend"),ad=cn("animationiteration"),nd=cn("animationstart"),Ey=cn("transitionrun"),Ty=cn("transitionstart"),jy=cn("transitioncancel"),sd=cn("transitionend"),id=new Map,Ir="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ir.push("scrollEnd");function It(e,t){id.set(e,t),rn(t,[e])}var ld=new WeakMap;function qt(e,t){if(typeof e=="object"&&e!==null){var a=ld.get(e);return a!==void 0?a:(t={value:e,source:t,stack:xc(t)},ld.set(e,t),t)}return{value:e,source:t,stack:xc(t)}}var Bt=[],Xn=0,Zr=0;function ll(){for(var e=Xn,t=Zr=Xn=0;t<e;){var a=Bt[t];Bt[t++]=null;var n=Bt[t];Bt[t++]=null;var r=Bt[t];Bt[t++]=null;var c=Bt[t];if(Bt[t++]=null,n!==null&&r!==null){var h=n.pending;h===null?r.next=r:(r.next=h.next,h.next=r),n.pending=r}c!==0&&rd(a,r,c)}}function rl(e,t,a,n){Bt[Xn++]=e,Bt[Xn++]=t,Bt[Xn++]=a,Bt[Xn++]=n,Zr|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Jr(e,t,a,n){return rl(e,t,a,n),ol(e)}function Qn(e,t){return rl(e,null,null,t),ol(e)}function rd(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var r=!1,c=e.return;c!==null;)c.childLanes|=a,n=c.alternate,n!==null&&(n.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(r=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,r&&t!==null&&(r=31-_t(a),e=c.hiddenUpdates,n=e[r],n===null?e[r]=[t]:n.push(t),t.lane=a|536870912),c):null}function ol(e){if(50<vi)throw vi=0,nu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var In={};function Cy(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,a,n){return new Cy(e,t,a,n)}function Fr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fa(e,t){var a=e.alternate;return a===null?(a=Rt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function od(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ul(e,t,a,n,r,c){var h=0;if(n=e,typeof e=="function")Fr(e)&&(h=1);else if(typeof e=="string")h=Am(e,a,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case K:return e=Rt(31,a,t,r),e.elementType=K,e.lanes=c,e;case M:return dn(a.children,r,c,t);case q:h=8,r|=24;break;case H:return e=Rt(12,a,t,r|2),e.elementType=H,e.lanes=c,e;case $:return e=Rt(13,a,t,r),e.elementType=$,e.lanes=c,e;case ee:return e=Rt(19,a,t,r),e.elementType=ee,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:case G:h=10;break e;case re:h=9;break e;case Q:h=11;break e;case ye:h=14;break e;case me:h=16,n=null;break e}h=29,a=Error(l(130,e===null?"null":typeof e,"")),n=null}return t=Rt(h,a,t,r),t.elementType=e,t.type=n,t.lanes=c,t}function dn(e,t,a,n){return e=Rt(7,e,n,t),e.lanes=a,e}function Pr(e,t,a){return e=Rt(6,e,null,t),e.lanes=a,e}function Wr(e,t,a){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Zn=[],Jn=0,cl=null,dl=0,Ht=[],Gt=0,fn=null,ha=1,ga="";function hn(e,t){Zn[Jn++]=dl,Zn[Jn++]=cl,cl=e,dl=t}function ud(e,t,a){Ht[Gt++]=ha,Ht[Gt++]=ga,Ht[Gt++]=fn,fn=e;var n=ha;e=ga;var r=32-_t(n)-1;n&=~(1<<r),a+=1;var c=32-_t(t)+r;if(30<c){var h=r-r%5;c=(n&(1<<h)-1).toString(32),n>>=h,r-=h,ha=1<<32-_t(t)+r|a<<r|n,ga=c+e}else ha=1<<c|a<<r|n,ga=e}function eo(e){e.return!==null&&(hn(e,1),ud(e,1,0))}function to(e){for(;e===cl;)cl=Zn[--Jn],Zn[Jn]=null,dl=Zn[--Jn],Zn[Jn]=null;for(;e===fn;)fn=Ht[--Gt],Ht[Gt]=null,ga=Ht[--Gt],Ht[Gt]=null,ha=Ht[--Gt],Ht[Gt]=null}var wt=null,Xe=null,Re=!1,gn=null,aa=!1,ao=Error(l(519));function yn(e){var t=Error(l(418,""));throw Zs(qt(t,e)),ao}function cd(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[it]=e,t[dt]=n,a){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(a=0;a<bi.length;a++)Ee(bi[a],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),Tc(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Fi(t);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),Cc(t,n.value,n.defaultValue,n.children),Fi(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Oh(t.textContent,a)?(n.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),n.onScroll!=null&&Ee("scroll",t),n.onScrollEnd!=null&&Ee("scrollend",t),n.onClick!=null&&(t.onclick=Vl),t=!0):t=!1,t||yn(e)}function dd(e){for(wt=e.return;wt;)switch(wt.tag){case 5:case 13:aa=!1;return;case 27:case 3:aa=!0;return;default:wt=wt.return}}function Qs(e){if(e!==wt)return!1;if(!Re)return dd(e),Re=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||bu(e.type,e.memoizedProps)),a=!a),a&&Xe&&yn(e),dd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Xe=Jt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Xe=null}}else t===27?(t=Xe,Xa(e.type)?(e=Su,Su=null,Xe=e):Xe=t):Xe=wt?Jt(e.stateNode.nextSibling):null;return!0}function Is(){Xe=wt=null,Re=!1}function fd(){var e=gn;return e!==null&&(Ct===null?Ct=e:Ct.push.apply(Ct,e),gn=null),e}function Zs(e){gn===null?gn=[e]:gn.push(e)}var no=L(null),mn=null,ya=null;function Ra(e,t,a){V(no,t._currentValue),t._currentValue=a}function ma(e){e._currentValue=no.current,X(no)}function so(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function io(e,t,a,n){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var c=r.dependencies;if(c!==null){var h=r.child;c=c.firstContext;e:for(;c!==null;){var v=c;c=r;for(var _=0;_<t.length;_++)if(v.context===t[_]){c.lanes|=a,v=c.alternate,v!==null&&(v.lanes|=a),so(c.return,a,e),n||(h=null);break e}c=v.next}}else if(r.tag===18){if(h=r.return,h===null)throw Error(l(341));h.lanes|=a,c=h.alternate,c!==null&&(c.lanes|=a),so(h,a,e),h=null}else h=r.child;if(h!==null)h.return=r;else for(h=r;h!==null;){if(h===e){h=null;break}if(r=h.sibling,r!==null){r.return=h.return,h=r;break}h=h.return}r=h}}function Js(e,t,a,n){e=null;for(var r=t,c=!1;r!==null;){if(!c){if((r.flags&524288)!==0)c=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var h=r.alternate;if(h===null)throw Error(l(387));if(h=h.memoizedProps,h!==null){var v=r.type;Nt(r.pendingProps.value,h.value)||(e!==null?e.push(v):e=[v])}}else if(r===ve.current){if(h=r.alternate,h===null)throw Error(l(387));h.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Ti):e=[Ti])}r=r.return}e!==null&&io(t,e,a,n),t.flags|=262144}function fl(e){for(e=e.firstContext;e!==null;){if(!Nt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vn(e){mn=e,ya=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yt(e){return hd(mn,e)}function hl(e,t){return mn===null&&vn(e),hd(e,t)}function hd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ya===null){if(e===null)throw Error(l(308));ya=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ya=ya.next=t;return a}var Oy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Ay=o.unstable_scheduleCallback,Ny=o.unstable_NormalPriority,tt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lo(){return{controller:new Oy,data:new Map,refCount:0}}function Fs(e){e.refCount--,e.refCount===0&&Ay(Ny,function(){e.controller.abort()})}var Ps=null,ro=0,Fn=0,Pn=null;function Ry(e,t){if(Ps===null){var a=Ps=[];ro=0,Fn=cu(),Pn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return ro++,t.then(gd,gd),t}function gd(){if(--ro===0&&Ps!==null){Pn!==null&&(Pn.status="fulfilled");var e=Ps;Ps=null,Fn=0,Pn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function My(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var r=0;r<a.length;r++)(0,a[r])(t)},function(r){for(n.status="rejected",n.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),n}var yd=U.S;U.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ry(e,t),yd!==null&&yd(e,t)};var pn=L(null);function oo(){var e=pn.current;return e!==null?e:Be.pooledCache}function gl(e,t){t===null?V(pn,pn.current):V(pn,t.pool)}function md(){var e=oo();return e===null?null:{parent:tt._currentValue,pool:e}}var Ws=Error(l(460)),vd=Error(l(474)),yl=Error(l(542)),uo={then:function(){}};function pd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ml(){}function bd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ml,ml),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wd(e),e;default:if(typeof t.status=="string")t.then(ml,ml);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=n}},function(n){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wd(e),e}throw ei=t,Ws}}var ei=null;function _d(){if(ei===null)throw Error(l(459));var e=ei;return ei=null,e}function wd(e){if(e===Ws||e===yl)throw Error(l(483))}var Ma=!1;function co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ua(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ka(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Ue&2)!==0){var r=n.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t,t=ol(e),rd(e,null,a),t}return rl(e,n,t,a),ol(e)}function ti(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Xt(e,a)}}function ho(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var r=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var h={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?r=c=h:c=c.next=h,a=a.next}while(a!==null);c===null?r=c=t:c=c.next=t}else r=c=t;a={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:c,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var go=!1;function ai(){if(go){var e=Pn;if(e!==null)throw e}}function ni(e,t,a,n){go=!1;var r=e.updateQueue;Ma=!1;var c=r.firstBaseUpdate,h=r.lastBaseUpdate,v=r.shared.pending;if(v!==null){r.shared.pending=null;var _=v,C=_.next;_.next=null,h===null?c=C:h.next=C,h=_;var k=e.alternate;k!==null&&(k=k.updateQueue,v=k.lastBaseUpdate,v!==h&&(v===null?k.firstBaseUpdate=C:v.next=C,k.lastBaseUpdate=_))}if(c!==null){var z=r.baseState;h=0,k=C=_=null,v=c;do{var O=v.lane&-536870913,N=O!==v.lane;if(N?(Ce&O)===O:(n&O)===O){O!==0&&O===Fn&&(go=!0),k!==null&&(k=k.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ce=e,oe=v;O=t;var Le=a;switch(oe.tag){case 1:if(ce=oe.payload,typeof ce=="function"){z=ce.call(Le,z,O);break e}z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=oe.payload,O=typeof ce=="function"?ce.call(Le,z,O):ce,O==null)break e;z=b({},z,O);break e;case 2:Ma=!0}}O=v.callback,O!==null&&(e.flags|=64,N&&(e.flags|=8192),N=r.callbacks,N===null?r.callbacks=[O]:N.push(O))}else N={lane:O,tag:v.tag,payload:v.payload,callback:v.callback,next:null},k===null?(C=k=N,_=z):k=k.next=N,h|=O;if(v=v.next,v===null){if(v=r.shared.pending,v===null)break;N=v,v=N.next,N.next=null,r.lastBaseUpdate=N,r.shared.pending=null}}while(!0);k===null&&(_=z),r.baseState=_,r.firstBaseUpdate=C,r.lastBaseUpdate=k,c===null&&(r.shared.lanes=0),Ga|=h,e.lanes=h,e.memoizedState=z}}function xd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Sd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)xd(a[e],t)}var Wn=L(null),vl=L(0);function Ed(e,t){e=Sa,V(vl,e),V(Wn,t),Sa=e|t.baseLanes}function yo(){V(vl,Sa),V(Wn,Wn.current)}function mo(){Sa=vl.current,X(Wn),X(vl)}var Da=0,we=null,De=null,We=null,pl=!1,es=!1,bn=!1,bl=0,si=0,ts=null,Uy=0;function Ie(){throw Error(l(321))}function vo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Nt(e[a],t[a]))return!1;return!0}function po(e,t,a,n,r,c){return Da=c,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?of:uf,bn=!1,c=a(n,r),bn=!1,es&&(c=jd(t,a,n,r)),Td(e),c}function Td(e){U.H=Tl;var t=De!==null&&De.next!==null;if(Da=0,We=De=we=null,pl=!1,si=0,ts=null,t)throw Error(l(300));e===null||rt||(e=e.dependencies,e!==null&&fl(e)&&(rt=!0))}function jd(e,t,a,n){we=e;var r=0;do{if(es&&(ts=null),si=0,es=!1,25<=r)throw Error(l(301));if(r+=1,We=De=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}U.H=By,c=t(a,n)}while(es);return c}function ky(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?ii(t):t,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(we.flags|=1024),t}function bo(){var e=bl!==0;return bl=0,e}function _o(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function wo(e){if(pl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}pl=!1}Da=0,We=De=we=null,es=!1,si=bl=0,ts=null}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?we.memoizedState=We=e:We=We.next=e,We}function et(){if(De===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=We===null?we.memoizedState:We.next;if(t!==null)We=t,De=e;else{if(e===null)throw we.alternate===null?Error(l(467)):Error(l(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},We===null?we.memoizedState=We=e:We=We.next=e}return We}function xo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ii(e){var t=si;return si+=1,ts===null&&(ts=[]),e=bd(ts,e,t),t=we,(We===null?t.memoizedState:We.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?of:uf),e}function _l(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ii(e);if(e.$$typeof===G)return yt(e)}throw Error(l(438,String(e)))}function So(e){var t=null,a=we.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=we.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=xo(),we.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=ae;return t.index++,a}function va(e,t){return typeof t=="function"?t(e):t}function wl(e){var t=et();return Eo(t,De,e)}function Eo(e,t,a){var n=e.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=a;var r=e.baseQueue,c=n.pending;if(c!==null){if(r!==null){var h=r.next;r.next=c.next,c.next=h}t.baseQueue=r=c,n.pending=null}if(c=e.baseState,r===null)e.memoizedState=c;else{t=r.next;var v=h=null,_=null,C=t,k=!1;do{var z=C.lane&-536870913;if(z!==C.lane?(Ce&z)===z:(Da&z)===z){var O=C.revertLane;if(O===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),z===Fn&&(k=!0);else if((Da&O)===O){C=C.next,O===Fn&&(k=!0);continue}else z={lane:0,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},_===null?(v=_=z,h=c):_=_.next=z,we.lanes|=O,Ga|=O;z=C.action,bn&&a(c,z),c=C.hasEagerState?C.eagerState:a(c,z)}else O={lane:z,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},_===null?(v=_=O,h=c):_=_.next=O,we.lanes|=z,Ga|=z;C=C.next}while(C!==null&&C!==t);if(_===null?h=c:_.next=v,!Nt(c,e.memoizedState)&&(rt=!0,k&&(a=Pn,a!==null)))throw a;e.memoizedState=c,e.baseState=h,e.baseQueue=_,n.lastRenderedState=c}return r===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function To(e){var t=et(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var n=a.dispatch,r=a.pending,c=t.memoizedState;if(r!==null){a.pending=null;var h=r=r.next;do c=e(c,h.action),h=h.next;while(h!==r);Nt(c,t.memoizedState)||(rt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,n]}function Cd(e,t,a){var n=we,r=et(),c=Re;if(c){if(a===void 0)throw Error(l(407));a=a()}else a=t();var h=!Nt((De||r).memoizedState,a);h&&(r.memoizedState=a,rt=!0),r=r.queue;var v=Nd.bind(null,n,r,e);if(li(2048,8,v,[e]),r.getSnapshot!==t||h||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,as(9,xl(),Ad.bind(null,n,r,a,t),null),Be===null)throw Error(l(349));c||(Da&124)!==0||Od(n,t,a)}return a}function Od(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=we.updateQueue,t===null?(t=xo(),we.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Ad(e,t,a,n){t.value=a,t.getSnapshot=n,Rd(t)&&Md(e)}function Nd(e,t,a){return a(function(){Rd(t)&&Md(e)})}function Rd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Nt(e,a)}catch{return!0}}function Md(e){var t=Qn(e,2);t!==null&&zt(t,e,2)}function jo(e){var t=Tt();if(typeof e=="function"){var a=e;if(e=a(),bn){ta(!0);try{a()}finally{ta(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t}function Ud(e,t,a,n){return e.baseState=a,Eo(e,De,typeof n=="function"?n:va)}function Dy(e,t,a,n,r){if(El(e))throw Error(l(485));if(e=t.action,e!==null){var c={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){c.listeners.push(h)}};U.T!==null?a(!0):c.isTransition=!1,n(c),a=t.pending,a===null?(c.next=t.pending=c,kd(t,c)):(c.next=a.next,t.pending=a.next=c)}}function kd(e,t){var a=t.action,n=t.payload,r=e.state;if(t.isTransition){var c=U.T,h={};U.T=h;try{var v=a(r,n),_=U.S;_!==null&&_(h,v),Dd(e,t,v)}catch(C){Co(e,t,C)}finally{U.T=c}}else try{c=a(r,n),Dd(e,t,c)}catch(C){Co(e,t,C)}}function Dd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){zd(e,t,n)},function(n){return Co(e,t,n)}):zd(e,t,a)}function zd(e,t,a){t.status="fulfilled",t.value=a,Ld(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,kd(e,a)))}function Co(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Ld(t),t=t.next;while(t!==n)}e.action=null}function Ld(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $d(e,t){return t}function qd(e,t){if(Re){var a=Be.formState;if(a!==null){e:{var n=we;if(Re){if(Xe){t:{for(var r=Xe,c=aa;r.nodeType!==8;){if(!c){r=null;break t}if(r=Jt(r.nextSibling),r===null){r=null;break t}}c=r.data,r=c==="F!"||c==="F"?r:null}if(r){Xe=Jt(r.nextSibling),n=r.data==="F!";break e}}yn(n)}n=!1}n&&(t=a[0])}}return a=Tt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$d,lastRenderedState:t},a.queue=n,a=sf.bind(null,we,n),n.dispatch=a,n=jo(!1),c=Mo.bind(null,we,!1,n.queue),n=Tt(),r={state:t,dispatch:null,action:e,pending:null},n.queue=r,a=Dy.bind(null,we,r,c,a),r.dispatch=a,n.memoizedState=e,[t,a,!1]}function Bd(e){var t=et();return Hd(t,De,e)}function Hd(e,t,a){if(t=Eo(e,t,$d)[0],e=wl(va)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=ii(t)}catch(h){throw h===Ws?yl:h}else n=t;t=et();var r=t.queue,c=r.dispatch;return a!==t.memoizedState&&(we.flags|=2048,as(9,xl(),zy.bind(null,r,a),null)),[n,c,e]}function zy(e,t){e.action=t}function Gd(e){var t=et(),a=De;if(a!==null)return Hd(t,a,e);et(),t=t.memoizedState,a=et();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function as(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=we.updateQueue,t===null&&(t=xo(),we.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function xl(){return{destroy:void 0,resource:void 0}}function Yd(){return et().memoizedState}function Sl(e,t,a,n){var r=Tt();n=n===void 0?null:n,we.flags|=e,r.memoizedState=as(1|t,xl(),a,n)}function li(e,t,a,n){var r=et();n=n===void 0?null:n;var c=r.memoizedState.inst;De!==null&&n!==null&&vo(n,De.memoizedState.deps)?r.memoizedState=as(t,c,a,n):(we.flags|=e,r.memoizedState=as(1|t,c,a,n))}function Kd(e,t){Sl(8390656,8,e,t)}function Vd(e,t){li(2048,8,e,t)}function Xd(e,t){return li(4,2,e,t)}function Qd(e,t){return li(4,4,e,t)}function Id(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zd(e,t,a){a=a!=null?a.concat([e]):null,li(4,4,Id.bind(null,t,e),a)}function Oo(){}function Jd(e,t){var a=et();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&vo(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Fd(e,t){var a=et();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&vo(t,n[1]))return n[0];if(n=e(),bn){ta(!0);try{e()}finally{ta(!1)}}return a.memoizedState=[n,t],n}function Ao(e,t,a){return a===void 0||(Da&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=th(),we.lanes|=e,Ga|=e,a)}function Pd(e,t,a,n){return Nt(a,t)?a:Wn.current!==null?(e=Ao(e,a,n),Nt(e,t)||(rt=!0),e):(Da&42)===0?(rt=!0,e.memoizedState=a):(e=th(),we.lanes|=e,Ga|=e,t)}function Wd(e,t,a,n,r){var c=Y.p;Y.p=c!==0&&8>c?c:8;var h=U.T,v={};U.T=v,Mo(e,!1,t,a);try{var _=r(),C=U.S;if(C!==null&&C(v,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var k=My(_,n);ri(e,t,k,Dt(e))}else ri(e,t,n,Dt(e))}catch(z){ri(e,t,{then:function(){},status:"rejected",reason:z},Dt())}finally{Y.p=c,U.T=h}}function Ly(){}function No(e,t,a,n){if(e.tag!==5)throw Error(l(476));var r=ef(e).queue;Wd(e,r,t,se,a===null?Ly:function(){return tf(e),a(n)})}function ef(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:se},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function tf(e){var t=ef(e).next.queue;ri(e,t,{},Dt())}function Ro(){return yt(Ti)}function af(){return et().memoizedState}function nf(){return et().memoizedState}function $y(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Dt();e=Ua(a);var n=ka(t,e,a);n!==null&&(zt(n,t,a),ti(n,t,a)),t={cache:lo()},e.payload=t;return}t=t.return}}function qy(e,t,a){var n=Dt();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},El(e)?lf(t,a):(a=Jr(e,t,a,n),a!==null&&(zt(a,e,n),rf(a,t,n)))}function sf(e,t,a){var n=Dt();ri(e,t,a,n)}function ri(e,t,a,n){var r={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(El(e))lf(t,r);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,v=c(h,a);if(r.hasEagerState=!0,r.eagerState=v,Nt(v,h))return rl(e,t,r,0),Be===null&&ll(),!1}catch{}finally{}if(a=Jr(e,t,r,n),a!==null)return zt(a,e,n),rf(a,t,n),!0}return!1}function Mo(e,t,a,n){if(n={lane:2,revertLane:cu(),action:n,hasEagerState:!1,eagerState:null,next:null},El(e)){if(t)throw Error(l(479))}else t=Jr(e,a,n,2),t!==null&&zt(t,e,2)}function El(e){var t=e.alternate;return e===we||t!==null&&t===we}function lf(e,t){es=pl=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function rf(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Xt(e,a)}}var Tl={readContext:yt,use:_l,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie},of={readContext:yt,use:_l,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:Kd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Sl(4194308,4,Id.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Sl(4194308,4,e,t)},useInsertionEffect:function(e,t){Sl(4,2,e,t)},useMemo:function(e,t){var a=Tt();t=t===void 0?null:t;var n=e();if(bn){ta(!0);try{e()}finally{ta(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Tt();if(a!==void 0){var r=a(t);if(bn){ta(!0);try{a(t)}finally{ta(!1)}}}else r=t;return n.memoizedState=n.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=qy.bind(null,we,e),[n.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:function(e){e=jo(e);var t=e.queue,a=sf.bind(null,we,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Oo,useDeferredValue:function(e,t){var a=Tt();return Ao(a,e,t)},useTransition:function(){var e=jo(!1);return e=Wd.bind(null,we,e.queue,!0,!1),Tt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=we,r=Tt();if(Re){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Be===null)throw Error(l(349));(Ce&124)!==0||Od(n,t,a)}r.memoizedState=a;var c={value:a,getSnapshot:t};return r.queue=c,Kd(Nd.bind(null,n,c,e),[e]),n.flags|=2048,as(9,xl(),Ad.bind(null,n,c,a,t),null),a},useId:function(){var e=Tt(),t=Be.identifierPrefix;if(Re){var a=ga,n=ha;a=(n&~(1<<32-_t(n)-1)).toString(32)+a,t="«"+t+"R"+a,a=bl++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=Uy++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Ro,useFormState:qd,useActionState:qd,useOptimistic:function(e){var t=Tt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Mo.bind(null,we,!0,a),a.dispatch=t,[e,t]},useMemoCache:So,useCacheRefresh:function(){return Tt().memoizedState=$y.bind(null,we)}},uf={readContext:yt,use:_l,useCallback:Jd,useContext:yt,useEffect:Vd,useImperativeHandle:Zd,useInsertionEffect:Xd,useLayoutEffect:Qd,useMemo:Fd,useReducer:wl,useRef:Yd,useState:function(){return wl(va)},useDebugValue:Oo,useDeferredValue:function(e,t){var a=et();return Pd(a,De.memoizedState,e,t)},useTransition:function(){var e=wl(va)[0],t=et().memoizedState;return[typeof e=="boolean"?e:ii(e),t]},useSyncExternalStore:Cd,useId:af,useHostTransitionStatus:Ro,useFormState:Bd,useActionState:Bd,useOptimistic:function(e,t){var a=et();return Ud(a,De,e,t)},useMemoCache:So,useCacheRefresh:nf},By={readContext:yt,use:_l,useCallback:Jd,useContext:yt,useEffect:Vd,useImperativeHandle:Zd,useInsertionEffect:Xd,useLayoutEffect:Qd,useMemo:Fd,useReducer:To,useRef:Yd,useState:function(){return To(va)},useDebugValue:Oo,useDeferredValue:function(e,t){var a=et();return De===null?Ao(a,e,t):Pd(a,De.memoizedState,e,t)},useTransition:function(){var e=To(va)[0],t=et().memoizedState;return[typeof e=="boolean"?e:ii(e),t]},useSyncExternalStore:Cd,useId:af,useHostTransitionStatus:Ro,useFormState:Gd,useActionState:Gd,useOptimistic:function(e,t){var a=et();return De!==null?Ud(a,De,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:So,useCacheRefresh:nf},ns=null,oi=0;function jl(e){var t=oi;return oi+=1,ns===null&&(ns=[]),bd(ns,e,t)}function ui(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Cl(e,t){throw t.$$typeof===S?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function cf(e){var t=e._init;return t(e._payload)}function df(e){function t(E,x){if(e){var j=E.deletions;j===null?(E.deletions=[x],E.flags|=16):j.push(x)}}function a(E,x){if(!e)return null;for(;x!==null;)t(E,x),x=x.sibling;return null}function n(E){for(var x=new Map;E!==null;)E.key!==null?x.set(E.key,E):x.set(E.index,E),E=E.sibling;return x}function r(E,x){return E=fa(E,x),E.index=0,E.sibling=null,E}function c(E,x,j){return E.index=j,e?(j=E.alternate,j!==null?(j=j.index,j<x?(E.flags|=67108866,x):j):(E.flags|=67108866,x)):(E.flags|=1048576,x)}function h(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function v(E,x,j,D){return x===null||x.tag!==6?(x=Pr(j,E.mode,D),x.return=E,x):(x=r(x,j),x.return=E,x)}function _(E,x,j,D){var P=j.type;return P===M?k(E,x,j.props.children,D,j.key):x!==null&&(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===me&&cf(P)===x.type)?(x=r(x,j.props),ui(x,j),x.return=E,x):(x=ul(j.type,j.key,j.props,null,E.mode,D),ui(x,j),x.return=E,x)}function C(E,x,j,D){return x===null||x.tag!==4||x.stateNode.containerInfo!==j.containerInfo||x.stateNode.implementation!==j.implementation?(x=Wr(j,E.mode,D),x.return=E,x):(x=r(x,j.children||[]),x.return=E,x)}function k(E,x,j,D,P){return x===null||x.tag!==7?(x=dn(j,E.mode,D,P),x.return=E,x):(x=r(x,j),x.return=E,x)}function z(E,x,j){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Pr(""+x,E.mode,j),x.return=E,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case T:return j=ul(x.type,x.key,x.props,null,E.mode,j),ui(j,x),j.return=E,j;case A:return x=Wr(x,E.mode,j),x.return=E,x;case me:var D=x._init;return x=D(x._payload),z(E,x,j)}if(Me(x)||I(x))return x=dn(x,E.mode,j,null),x.return=E,x;if(typeof x.then=="function")return z(E,jl(x),j);if(x.$$typeof===G)return z(E,hl(E,x),j);Cl(E,x)}return null}function O(E,x,j,D){var P=x!==null?x.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return P!==null?null:v(E,x,""+j,D);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return j.key===P?_(E,x,j,D):null;case A:return j.key===P?C(E,x,j,D):null;case me:return P=j._init,j=P(j._payload),O(E,x,j,D)}if(Me(j)||I(j))return P!==null?null:k(E,x,j,D,null);if(typeof j.then=="function")return O(E,x,jl(j),D);if(j.$$typeof===G)return O(E,x,hl(E,j),D);Cl(E,j)}return null}function N(E,x,j,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return E=E.get(j)||null,v(x,E,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case T:return E=E.get(D.key===null?j:D.key)||null,_(x,E,D,P);case A:return E=E.get(D.key===null?j:D.key)||null,C(x,E,D,P);case me:var xe=D._init;return D=xe(D._payload),N(E,x,j,D,P)}if(Me(D)||I(D))return E=E.get(j)||null,k(x,E,D,P,null);if(typeof D.then=="function")return N(E,x,j,jl(D),P);if(D.$$typeof===G)return N(E,x,j,hl(x,D),P);Cl(x,D)}return null}function ce(E,x,j,D){for(var P=null,xe=null,ne=x,ue=x=0,ut=null;ne!==null&&ue<j.length;ue++){ne.index>ue?(ut=ne,ne=null):ut=ne.sibling;var Ne=O(E,ne,j[ue],D);if(Ne===null){ne===null&&(ne=ut);break}e&&ne&&Ne.alternate===null&&t(E,ne),x=c(Ne,x,ue),xe===null?P=Ne:xe.sibling=Ne,xe=Ne,ne=ut}if(ue===j.length)return a(E,ne),Re&&hn(E,ue),P;if(ne===null){for(;ue<j.length;ue++)ne=z(E,j[ue],D),ne!==null&&(x=c(ne,x,ue),xe===null?P=ne:xe.sibling=ne,xe=ne);return Re&&hn(E,ue),P}for(ne=n(ne);ue<j.length;ue++)ut=N(ne,E,ue,j[ue],D),ut!==null&&(e&&ut.alternate!==null&&ne.delete(ut.key===null?ue:ut.key),x=c(ut,x,ue),xe===null?P=ut:xe.sibling=ut,xe=ut);return e&&ne.forEach(function(Fa){return t(E,Fa)}),Re&&hn(E,ue),P}function oe(E,x,j,D){if(j==null)throw Error(l(151));for(var P=null,xe=null,ne=x,ue=x=0,ut=null,Ne=j.next();ne!==null&&!Ne.done;ue++,Ne=j.next()){ne.index>ue?(ut=ne,ne=null):ut=ne.sibling;var Fa=O(E,ne,Ne.value,D);if(Fa===null){ne===null&&(ne=ut);break}e&&ne&&Fa.alternate===null&&t(E,ne),x=c(Fa,x,ue),xe===null?P=Fa:xe.sibling=Fa,xe=Fa,ne=ut}if(Ne.done)return a(E,ne),Re&&hn(E,ue),P;if(ne===null){for(;!Ne.done;ue++,Ne=j.next())Ne=z(E,Ne.value,D),Ne!==null&&(x=c(Ne,x,ue),xe===null?P=Ne:xe.sibling=Ne,xe=Ne);return Re&&hn(E,ue),P}for(ne=n(ne);!Ne.done;ue++,Ne=j.next())Ne=N(ne,E,ue,Ne.value,D),Ne!==null&&(e&&Ne.alternate!==null&&ne.delete(Ne.key===null?ue:Ne.key),x=c(Ne,x,ue),xe===null?P=Ne:xe.sibling=Ne,xe=Ne);return e&&ne.forEach(function(Hm){return t(E,Hm)}),Re&&hn(E,ue),P}function Le(E,x,j,D){if(typeof j=="object"&&j!==null&&j.type===M&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case T:e:{for(var P=j.key;x!==null;){if(x.key===P){if(P=j.type,P===M){if(x.tag===7){a(E,x.sibling),D=r(x,j.props.children),D.return=E,E=D;break e}}else if(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===me&&cf(P)===x.type){a(E,x.sibling),D=r(x,j.props),ui(D,j),D.return=E,E=D;break e}a(E,x);break}else t(E,x);x=x.sibling}j.type===M?(D=dn(j.props.children,E.mode,D,j.key),D.return=E,E=D):(D=ul(j.type,j.key,j.props,null,E.mode,D),ui(D,j),D.return=E,E=D)}return h(E);case A:e:{for(P=j.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===j.containerInfo&&x.stateNode.implementation===j.implementation){a(E,x.sibling),D=r(x,j.children||[]),D.return=E,E=D;break e}else{a(E,x);break}else t(E,x);x=x.sibling}D=Wr(j,E.mode,D),D.return=E,E=D}return h(E);case me:return P=j._init,j=P(j._payload),Le(E,x,j,D)}if(Me(j))return ce(E,x,j,D);if(I(j)){if(P=I(j),typeof P!="function")throw Error(l(150));return j=P.call(j),oe(E,x,j,D)}if(typeof j.then=="function")return Le(E,x,jl(j),D);if(j.$$typeof===G)return Le(E,x,hl(E,j),D);Cl(E,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,x!==null&&x.tag===6?(a(E,x.sibling),D=r(x,j),D.return=E,E=D):(a(E,x),D=Pr(j,E.mode,D),D.return=E,E=D),h(E)):a(E,x)}return function(E,x,j,D){try{oi=0;var P=Le(E,x,j,D);return ns=null,P}catch(ne){if(ne===Ws||ne===yl)throw ne;var xe=Rt(29,ne,null,E.mode);return xe.lanes=D,xe.return=E,xe}finally{}}}var ss=df(!0),ff=df(!1),Yt=L(null),na=null;function za(e){var t=e.alternate;V(at,at.current&1),V(Yt,e),na===null&&(t===null||Wn.current!==null||t.memoizedState!==null)&&(na=e)}function hf(e){if(e.tag===22){if(V(at,at.current),V(Yt,e),na===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(na=e)}}else La()}function La(){V(at,at.current),V(Yt,Yt.current)}function pa(e){X(Yt),na===e&&(na=null),X(at)}var at=L(0);function Ol(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||xu(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Uo(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ko={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Dt(),r=Ua(n);r.payload=t,a!=null&&(r.callback=a),t=ka(e,r,n),t!==null&&(zt(t,e,n),ti(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Dt(),r=Ua(n);r.tag=1,r.payload=t,a!=null&&(r.callback=a),t=ka(e,r,n),t!==null&&(zt(t,e,n),ti(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Dt(),n=Ua(a);n.tag=2,t!=null&&(n.callback=t),t=ka(e,n,a),t!==null&&(zt(t,e,a),ti(t,e,a))}};function gf(e,t,a,n,r,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,c,h):t.prototype&&t.prototype.isPureReactComponent?!Vs(a,n)||!Vs(r,c):!0}function yf(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&ko.enqueueReplaceState(t,t.state,null)}function _n(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var r in e)a[r]===void 0&&(a[r]=e[r])}return a}var Al=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function mf(e){Al(e)}function vf(e){console.error(e)}function pf(e){Al(e)}function Nl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function bf(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Do(e,t,a){return a=Ua(a),a.tag=3,a.payload={element:null},a.callback=function(){Nl(e,t)},a}function _f(e){return e=Ua(e),e.tag=3,e}function wf(e,t,a,n){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var c=n.value;e.payload=function(){return r(c)},e.callback=function(){bf(t,a,n)}}var h=a.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){bf(t,a,n),typeof r!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var v=n.stack;this.componentDidCatch(n.value,{componentStack:v!==null?v:""})})}function Hy(e,t,a,n,r){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Js(t,a,r,!0),a=Yt.current,a!==null){switch(a.tag){case 13:return na===null?iu():a.alternate===null&&Qe===0&&(Qe=3),a.flags&=-257,a.flags|=65536,a.lanes=r,n===uo?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),ru(e,n,r)),!1;case 22:return a.flags|=65536,n===uo?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),ru(e,n,r)),!1}throw Error(l(435,a.tag))}return ru(e,n,r),iu(),!1}if(Re)return t=Yt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,n!==ao&&(e=Error(l(422),{cause:n}),Zs(qt(e,a)))):(n!==ao&&(t=Error(l(423),{cause:n}),Zs(qt(t,a))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,n=qt(n,a),r=Do(e.stateNode,n,r),ho(e,r),Qe!==4&&(Qe=2)),!1;var c=Error(l(520),{cause:n});if(c=qt(c,a),mi===null?mi=[c]:mi.push(c),Qe!==4&&(Qe=2),t===null)return!0;n=qt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,e=Do(a.stateNode,n,e),ho(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Ya===null||!Ya.has(c))))return a.flags|=65536,r&=-r,a.lanes|=r,r=_f(r),wf(r,e,a,n),ho(a,r),!1}a=a.return}while(a!==null);return!1}var xf=Error(l(461)),rt=!1;function ft(e,t,a,n){t.child=e===null?ff(t,null,a,n):ss(t,e.child,a,n)}function Sf(e,t,a,n,r){a=a.render;var c=t.ref;if("ref"in n){var h={};for(var v in n)v!=="ref"&&(h[v]=n[v])}else h=n;return vn(t),n=po(e,t,a,h,c,r),v=bo(),e!==null&&!rt?(_o(e,t,r),ba(e,t,r)):(Re&&v&&eo(t),t.flags|=1,ft(e,t,n,r),t.child)}function Ef(e,t,a,n,r){if(e===null){var c=a.type;return typeof c=="function"&&!Fr(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,Tf(e,t,c,n,r)):(e=ul(a.type,null,n,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Yo(e,r)){var h=c.memoizedProps;if(a=a.compare,a=a!==null?a:Vs,a(h,n)&&e.ref===t.ref)return ba(e,t,r)}return t.flags|=1,e=fa(c,n),e.ref=t.ref,e.return=t,t.child=e}function Tf(e,t,a,n,r){if(e!==null){var c=e.memoizedProps;if(Vs(c,n)&&e.ref===t.ref)if(rt=!1,t.pendingProps=n=c,Yo(e,r))(e.flags&131072)!==0&&(rt=!0);else return t.lanes=e.lanes,ba(e,t,r)}return zo(e,t,a,n,r)}function jf(e,t,a){var n=t.pendingProps,r=n.children,c=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=c!==null?c.baseLanes|a:a,e!==null){for(r=t.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;t.childLanes=c&~n}else t.childLanes=0,t.child=null;return Cf(e,t,n,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&gl(t,c!==null?c.cachePool:null),c!==null?Ed(t,c):yo(),hf(t);else return t.lanes=t.childLanes=536870912,Cf(e,t,c!==null?c.baseLanes|a:a,a)}else c!==null?(gl(t,c.cachePool),Ed(t,c),La(),t.memoizedState=null):(e!==null&&gl(t,null),yo(),La());return ft(e,t,r,a),t.child}function Cf(e,t,a,n){var r=oo();return r=r===null?null:{parent:tt._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&gl(t,null),yo(),hf(t),e!==null&&Js(e,t,n,!0),null}function Rl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function zo(e,t,a,n,r){return vn(t),a=po(e,t,a,n,void 0,r),n=bo(),e!==null&&!rt?(_o(e,t,r),ba(e,t,r)):(Re&&n&&eo(t),t.flags|=1,ft(e,t,a,r),t.child)}function Of(e,t,a,n,r,c){return vn(t),t.updateQueue=null,a=jd(t,n,a,r),Td(e),n=bo(),e!==null&&!rt?(_o(e,t,c),ba(e,t,c)):(Re&&n&&eo(t),t.flags|=1,ft(e,t,a,c),t.child)}function Af(e,t,a,n,r){if(vn(t),t.stateNode===null){var c=In,h=a.contextType;typeof h=="object"&&h!==null&&(c=yt(h)),c=new a(n,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=ko,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=n,c.state=t.memoizedState,c.refs={},co(t),h=a.contextType,c.context=typeof h=="object"&&h!==null?yt(h):In,c.state=t.memoizedState,h=a.getDerivedStateFromProps,typeof h=="function"&&(Uo(t,a,h,n),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(h=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),h!==c.state&&ko.enqueueReplaceState(c,c.state,null),ni(t,n,c,r),ai(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){c=t.stateNode;var v=t.memoizedProps,_=_n(a,v);c.props=_;var C=c.context,k=a.contextType;h=In,typeof k=="object"&&k!==null&&(h=yt(k));var z=a.getDerivedStateFromProps;k=typeof z=="function"||typeof c.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,k||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(v||C!==h)&&yf(t,c,n,h),Ma=!1;var O=t.memoizedState;c.state=O,ni(t,n,c,r),ai(),C=t.memoizedState,v||O!==C||Ma?(typeof z=="function"&&(Uo(t,a,z,n),C=t.memoizedState),(_=Ma||gf(t,a,_,n,O,C,h))?(k||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=C),c.props=n,c.state=C,c.context=h,n=_):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{c=t.stateNode,fo(e,t),h=t.memoizedProps,k=_n(a,h),c.props=k,z=t.pendingProps,O=c.context,C=a.contextType,_=In,typeof C=="object"&&C!==null&&(_=yt(C)),v=a.getDerivedStateFromProps,(C=typeof v=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==z||O!==_)&&yf(t,c,n,_),Ma=!1,O=t.memoizedState,c.state=O,ni(t,n,c,r),ai();var N=t.memoizedState;h!==z||O!==N||Ma||e!==null&&e.dependencies!==null&&fl(e.dependencies)?(typeof v=="function"&&(Uo(t,a,v,n),N=t.memoizedState),(k=Ma||gf(t,a,k,n,O,N,_)||e!==null&&e.dependencies!==null&&fl(e.dependencies))?(C||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,N,_),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,N,_)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=N),c.props=n,c.state=N,c.context=_,n=k):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),n=!1)}return c=n,Rl(e,t),n=(t.flags&128)!==0,c||n?(c=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&n?(t.child=ss(t,e.child,null,r),t.child=ss(t,null,a,r)):ft(e,t,a,r),t.memoizedState=c.state,e=t.child):e=ba(e,t,r),e}function Nf(e,t,a,n){return Is(),t.flags|=256,ft(e,t,a,n),t.child}var Lo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $o(e){return{baseLanes:e,cachePool:md()}}function qo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Kt),e}function Rf(e,t,a){var n=t.pendingProps,r=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(at.current&2)!==0),h&&(r=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(Re){if(r?za(t):La(),Re){var v=Xe,_;if(_=v){e:{for(_=v,v=aa;_.nodeType!==8;){if(!v){v=null;break e}if(_=Jt(_.nextSibling),_===null){v=null;break e}}v=_}v!==null?(t.memoizedState={dehydrated:v,treeContext:fn!==null?{id:ha,overflow:ga}:null,retryLane:536870912,hydrationErrors:null},_=Rt(18,null,null,0),_.stateNode=v,_.return=t,t.child=_,wt=t,Xe=null,_=!0):_=!1}_||yn(t)}if(v=t.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return xu(v)?t.lanes=32:t.lanes=536870912,null;pa(t)}return v=n.children,n=n.fallback,r?(La(),r=t.mode,v=Ml({mode:"hidden",children:v},r),n=dn(n,r,a,null),v.return=t,n.return=t,v.sibling=n,t.child=v,r=t.child,r.memoizedState=$o(a),r.childLanes=qo(e,h,a),t.memoizedState=Lo,n):(za(t),Bo(t,v))}if(_=e.memoizedState,_!==null&&(v=_.dehydrated,v!==null)){if(c)t.flags&256?(za(t),t.flags&=-257,t=Ho(e,t,a)):t.memoizedState!==null?(La(),t.child=e.child,t.flags|=128,t=null):(La(),r=n.fallback,v=t.mode,n=Ml({mode:"visible",children:n.children},v),r=dn(r,v,a,null),r.flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,ss(t,e.child,null,a),n=t.child,n.memoizedState=$o(a),n.childLanes=qo(e,h,a),t.memoizedState=Lo,t=r);else if(za(t),xu(v)){if(h=v.nextSibling&&v.nextSibling.dataset,h)var C=h.dgst;h=C,n=Error(l(419)),n.stack="",n.digest=h,Zs({value:n,source:null,stack:null}),t=Ho(e,t,a)}else if(rt||Js(e,t,a,!1),h=(a&e.childLanes)!==0,rt||h){if(h=Be,h!==null&&(n=a&-a,n=(n&42)!==0?1:Qt(n),n=(n&(h.suspendedLanes|a))!==0?0:n,n!==0&&n!==_.retryLane))throw _.retryLane=n,Qn(e,n),zt(h,e,n),xf;v.data==="$?"||iu(),t=Ho(e,t,a)}else v.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Xe=Jt(v.nextSibling),wt=t,Re=!0,gn=null,aa=!1,e!==null&&(Ht[Gt++]=ha,Ht[Gt++]=ga,Ht[Gt++]=fn,ha=e.id,ga=e.overflow,fn=t),t=Bo(t,n.children),t.flags|=4096);return t}return r?(La(),r=n.fallback,v=t.mode,_=e.child,C=_.sibling,n=fa(_,{mode:"hidden",children:n.children}),n.subtreeFlags=_.subtreeFlags&65011712,C!==null?r=fa(C,r):(r=dn(r,v,a,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,n=r,r=t.child,v=e.child.memoizedState,v===null?v=$o(a):(_=v.cachePool,_!==null?(C=tt._currentValue,_=_.parent!==C?{parent:C,pool:C}:_):_=md(),v={baseLanes:v.baseLanes|a,cachePool:_}),r.memoizedState=v,r.childLanes=qo(e,h,a),t.memoizedState=Lo,n):(za(t),a=e.child,e=a.sibling,a=fa(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=a,t.memoizedState=null,a)}function Bo(e,t){return t=Ml({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ml(e,t){return e=Rt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ho(e,t,a){return ss(t,e.child,null,a),e=Bo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mf(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),so(e.return,t,a)}function Go(e,t,a,n,r){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:r}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=n,c.tail=a,c.tailMode=r)}function Uf(e,t,a){var n=t.pendingProps,r=n.revealOrder,c=n.tail;if(ft(e,t,n.children,a),n=at.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mf(e,a,t);else if(e.tag===19)Mf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(V(at,n),r){case"forwards":for(a=t.child,r=null;a!==null;)e=a.alternate,e!==null&&Ol(e)===null&&(r=a),a=a.sibling;a=r,a===null?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),Go(t,!1,r,a,c);break;case"backwards":for(a=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Ol(e)===null){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}Go(t,!0,a,null,c);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ba(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ga|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Js(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=fa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=fa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Yo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&fl(e)))}function Gy(e,t,a){switch(t.tag){case 3:_e(t,t.stateNode.containerInfo),Ra(t,tt,e.memoizedState.cache),Is();break;case 27:case 5:Ke(t);break;case 4:_e(t,t.stateNode.containerInfo);break;case 10:Ra(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(za(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Rf(e,t,a):(za(t),e=ba(e,t,a),e!==null?e.sibling:null);za(t);break;case 19:var r=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Js(e,t,a,!1),n=(a&t.childLanes)!==0),r){if(n)return Uf(e,t,a);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),V(at,at.current),n)break;return null;case 22:case 23:return t.lanes=0,jf(e,t,a);case 24:Ra(t,tt,e.memoizedState.cache)}return ba(e,t,a)}function kf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)rt=!0;else{if(!Yo(e,a)&&(t.flags&128)===0)return rt=!1,Gy(e,t,a);rt=(e.flags&131072)!==0}else rt=!1,Re&&(t.flags&1048576)!==0&&ud(t,dl,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,r=n._init;if(n=r(n._payload),t.type=n,typeof n=="function")Fr(n)?(e=_n(n,e),t.tag=1,t=Af(null,t,n,e,a)):(t.tag=0,t=zo(null,t,n,e,a));else{if(n!=null){if(r=n.$$typeof,r===Q){t.tag=11,t=Sf(null,t,n,e,a);break e}else if(r===ye){t.tag=14,t=Ef(null,t,n,e,a);break e}}throw t=je(n)||n,Error(l(306,t,""))}}return t;case 0:return zo(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,r=_n(n,t.pendingProps),Af(e,t,n,r,a);case 3:e:{if(_e(t,t.stateNode.containerInfo),e===null)throw Error(l(387));n=t.pendingProps;var c=t.memoizedState;r=c.element,fo(e,t),ni(t,n,null,a);var h=t.memoizedState;if(n=h.cache,Ra(t,tt,n),n!==c.cache&&io(t,[tt],a,!0),ai(),n=h.element,c.isDehydrated)if(c={element:n,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Nf(e,t,n,a);break e}else if(n!==r){r=qt(Error(l(424)),t),Zs(r),t=Nf(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xe=Jt(e.firstChild),wt=t,Re=!0,gn=null,aa=!0,a=ff(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Is(),n===r){t=ba(e,t,a);break e}ft(e,t,n,a)}t=t.child}return t;case 26:return Rl(e,t),e===null?(a=$h(t.type,null,t.pendingProps,null))?t.memoizedState=a:Re||(a=t.type,e=t.pendingProps,n=Xl(B.current).createElement(a),n[it]=t,n[dt]=e,gt(n,a,e),lt(n),t.stateNode=n):t.memoizedState=$h(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ke(t),e===null&&Re&&(n=t.stateNode=Dh(t.type,t.pendingProps,B.current),wt=t,aa=!0,r=Xe,Xa(t.type)?(Su=r,Xe=Jt(n.firstChild)):Xe=r),ft(e,t,t.pendingProps.children,a),Rl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Re&&((r=n=Xe)&&(n=mm(n,t.type,t.pendingProps,aa),n!==null?(t.stateNode=n,wt=t,Xe=Jt(n.firstChild),aa=!1,r=!0):r=!1),r||yn(t)),Ke(t),r=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,n=c.children,bu(r,c)?n=null:h!==null&&bu(r,h)&&(t.flags|=32),t.memoizedState!==null&&(r=po(e,t,ky,null,null,a),Ti._currentValue=r),Rl(e,t),ft(e,t,n,a),t.child;case 6:return e===null&&Re&&((e=a=Xe)&&(a=vm(a,t.pendingProps,aa),a!==null?(t.stateNode=a,wt=t,Xe=null,e=!0):e=!1),e||yn(t)),null;case 13:return Rf(e,t,a);case 4:return _e(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ss(t,null,n,a):ft(e,t,n,a),t.child;case 11:return Sf(e,t,t.type,t.pendingProps,a);case 7:return ft(e,t,t.pendingProps,a),t.child;case 8:return ft(e,t,t.pendingProps.children,a),t.child;case 12:return ft(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Ra(t,t.type,n.value),ft(e,t,n.children,a),t.child;case 9:return r=t.type._context,n=t.pendingProps.children,vn(t),r=yt(r),n=n(r),t.flags|=1,ft(e,t,n,a),t.child;case 14:return Ef(e,t,t.type,t.pendingProps,a);case 15:return Tf(e,t,t.type,t.pendingProps,a);case 19:return Uf(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=Ml(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=fa(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return jf(e,t,a);case 24:return vn(t),n=yt(tt),e===null?(r=oo(),r===null&&(r=Be,c=lo(),r.pooledCache=c,c.refCount++,c!==null&&(r.pooledCacheLanes|=a),r=c),t.memoizedState={parent:n,cache:r},co(t),Ra(t,tt,r)):((e.lanes&a)!==0&&(fo(e,t),ni(t,null,null,a),ai()),r=e.memoizedState,c=t.memoizedState,r.parent!==n?(r={parent:n,cache:n},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Ra(t,tt,n)):(n=c.cache,Ra(t,tt,n),n!==r.cache&&io(t,[tt],a,!0))),ft(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function _a(e){e.flags|=4}function Df(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Yh(t)){if(t=Yt.current,t!==null&&((Ce&4194048)===Ce?na!==null:(Ce&62914560)!==Ce&&(Ce&536870912)===0||t!==na))throw ei=uo,vd;e.flags|=8192}}function Ul(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ae():536870912,e.lanes|=t,os|=t)}function ci(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags&65011712,n|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Yy(e,t,a){var n=t.pendingProps;switch(to(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ma(tt),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Qs(t)?_a(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,fd())),Ve(t),null;case 26:return a=t.memoizedState,e===null?(_a(t),a!==null?(Ve(t),Df(t,a)):(Ve(t),t.flags&=-16777217)):a?a!==e.memoizedState?(_a(t),Ve(t),Df(t,a)):(Ve(t),t.flags&=-16777217):(e.memoizedProps!==n&&_a(t),Ve(t),t.flags&=-16777217),null;case 27:Ot(t),a=B.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&_a(t);else{if(!n){if(t.stateNode===null)throw Error(l(166));return Ve(t),null}e=te.current,Qs(t)?cd(t):(e=Dh(r,n,a),t.stateNode=e,_a(t))}return Ve(t),null;case 5:if(Ot(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&_a(t);else{if(!n){if(t.stateNode===null)throw Error(l(166));return Ve(t),null}if(e=te.current,Qs(t))cd(t);else{switch(r=Xl(B.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?r.createElement("select",{is:n.is}):r.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?r.createElement(a,{is:n.is}):r.createElement(a)}}e[it]=t,e[dt]=n;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(gt(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&_a(t)}}return Ve(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&_a(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(l(166));if(e=B.current,Qs(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,r=wt,r!==null)switch(r.tag){case 27:case 5:n=r.memoizedProps}e[it]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Oh(e.nodeValue,a)),e||yn(t)}else e=Xl(e).createTextNode(n),e[it]=t,t.stateNode=e}return Ve(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Qs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!r)throw Error(l(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(l(317));r[it]=t}else Is(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),r=!1}else r=fd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(pa(t),t):(pa(t),null)}if(pa(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,r=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(r=n.alternate.memoizedState.cachePool.pool);var c=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==r&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Ul(t,t.updateQueue),Ve(t),null;case 4:return le(),e===null&&gu(t.stateNode.containerInfo),Ve(t),null;case 10:return ma(t.type),Ve(t),null;case 19:if(X(at),r=t.memoizedState,r===null)return Ve(t),null;if(n=(t.flags&128)!==0,c=r.rendering,c===null)if(n)ci(r,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Ol(e),c!==null){for(t.flags|=128,ci(r,!1),e=c.updateQueue,t.updateQueue=e,Ul(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)od(a,e),a=a.sibling;return V(at,at.current&1|2),t.child}e=e.sibling}r.tail!==null&&pt()>zl&&(t.flags|=128,n=!0,ci(r,!1),t.lanes=4194304)}else{if(!n)if(e=Ol(c),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Ul(t,e),ci(r,!0),r.tail===null&&r.tailMode==="hidden"&&!c.alternate&&!Re)return Ve(t),null}else 2*pt()-r.renderingStartTime>zl&&a!==536870912&&(t.flags|=128,n=!0,ci(r,!1),t.lanes=4194304);r.isBackwards?(c.sibling=t.child,t.child=c):(e=r.last,e!==null?e.sibling=c:t.child=c,r.last=c)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=pt(),t.sibling=null,e=at.current,V(at,n?e&1|2:e&1),t):(Ve(t),null);case 22:case 23:return pa(t),mo(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),a=t.updateQueue,a!==null&&Ul(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&X(pn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ma(tt),Ve(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Ky(e,t){switch(to(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ma(tt),le(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ot(t),null;case 13:if(pa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Is()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return X(at),null;case 4:return le(),null;case 10:return ma(t.type),null;case 22:case 23:return pa(t),mo(),e!==null&&X(pn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ma(tt),null;case 25:return null;default:return null}}function zf(e,t){switch(to(t),t.tag){case 3:ma(tt),le();break;case 26:case 27:case 5:Ot(t);break;case 4:le();break;case 13:pa(t);break;case 19:X(at);break;case 10:ma(t.type);break;case 22:case 23:pa(t),mo(),e!==null&&X(pn);break;case 24:ma(tt)}}function di(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var r=n.next;a=r;do{if((a.tag&e)===e){n=void 0;var c=a.create,h=a.inst;n=c(),h.destroy=n}a=a.next}while(a!==r)}}catch(v){qe(t,t.return,v)}}function $a(e,t,a){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var c=r.next;n=c;do{if((n.tag&e)===e){var h=n.inst,v=h.destroy;if(v!==void 0){h.destroy=void 0,r=t;var _=a,C=v;try{C()}catch(k){qe(r,_,k)}}}n=n.next}while(n!==c)}}catch(k){qe(t,t.return,k)}}function Lf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Sd(t,a)}catch(n){qe(e,e.return,n)}}}function $f(e,t,a){a.props=_n(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){qe(e,t,n)}}function fi(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(r){qe(e,t,r)}}function sa(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(r){qe(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){qe(e,t,r)}else a.current=null}function qf(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(r){qe(e,e.return,r)}}function Ko(e,t,a){try{var n=e.stateNode;dm(n,e.type,a,t),n[dt]=t}catch(r){qe(e,e.return,r)}}function Bf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xa(e.type)||e.tag===4}function Vo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xo(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Vl));else if(n!==4&&(n===27&&Xa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Xo(e,t,a),e=e.sibling;e!==null;)Xo(e,t,a),e=e.sibling}function kl(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Xa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(kl(e,t,a),e=e.sibling;e!==null;)kl(e,t,a),e=e.sibling}function Hf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);gt(t,n,a),t[it]=e,t[dt]=a}catch(c){qe(e,e.return,c)}}var wa=!1,Ze=!1,Qo=!1,Gf=typeof WeakSet=="function"?WeakSet:Set,ot=null;function Vy(e,t){if(e=e.containerInfo,vu=Pl,e=Pc(e),Kr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var r=n.anchorOffset,c=n.focusNode;n=n.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var h=0,v=-1,_=-1,C=0,k=0,z=e,O=null;t:for(;;){for(var N;z!==a||r!==0&&z.nodeType!==3||(v=h+r),z!==c||n!==0&&z.nodeType!==3||(_=h+n),z.nodeType===3&&(h+=z.nodeValue.length),(N=z.firstChild)!==null;)O=z,z=N;for(;;){if(z===e)break t;if(O===a&&++C===r&&(v=h),O===c&&++k===n&&(_=h),(N=z.nextSibling)!==null)break;z=O,O=z.parentNode}z=N}a=v===-1||_===-1?null:{start:v,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(pu={focusedElem:e,selectionRange:a},Pl=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){switch(t=ot,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,r=c.memoizedProps,c=c.memoizedState,n=a.stateNode;try{var ce=_n(a.type,r,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(ce,c),n.__reactInternalSnapshotBeforeUpdate=e}catch(oe){qe(a,a.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)wu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}}function Yf(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:qa(e,a),n&4&&di(5,a);break;case 1:if(qa(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(h){qe(a,a.return,h)}else{var r=_n(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){qe(a,a.return,h)}}n&64&&Lf(a),n&512&&fi(a,a.return);break;case 3:if(qa(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Sd(e,t)}catch(h){qe(a,a.return,h)}}break;case 27:t===null&&n&4&&Hf(a);case 26:case 5:qa(e,a),t===null&&n&4&&qf(a),n&512&&fi(a,a.return);break;case 12:qa(e,a);break;case 13:qa(e,a),n&4&&Xf(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=em.bind(null,a),pm(e,a))));break;case 22:if(n=a.memoizedState!==null||wa,!n){t=t!==null&&t.memoizedState!==null||Ze,r=wa;var c=Ze;wa=n,(Ze=t)&&!c?Ba(e,a,(a.subtreeFlags&8772)!==0):qa(e,a),wa=r,Ze=c}break;case 30:break;default:qa(e,a)}}function Kf(e){var t=e.alternate;t!==null&&(e.alternate=null,Kf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Tr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,jt=!1;function xa(e,t,a){for(a=a.child;a!==null;)Vf(e,t,a),a=a.sibling}function Vf(e,t,a){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(ln,a)}catch{}switch(a.tag){case 26:Ze||sa(a,t),xa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ze||sa(a,t);var n=Ye,r=jt;Xa(a.type)&&(Ye=a.stateNode,jt=!1),xa(e,t,a),wi(a.stateNode),Ye=n,jt=r;break;case 5:Ze||sa(a,t);case 6:if(n=Ye,r=jt,Ye=null,xa(e,t,a),Ye=n,jt=r,Ye!==null)if(jt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(a.stateNode)}catch(c){qe(a,t,c)}else try{Ye.removeChild(a.stateNode)}catch(c){qe(a,t,c)}break;case 18:Ye!==null&&(jt?(e=Ye,Uh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ai(e)):Uh(Ye,a.stateNode));break;case 4:n=Ye,r=jt,Ye=a.stateNode.containerInfo,jt=!0,xa(e,t,a),Ye=n,jt=r;break;case 0:case 11:case 14:case 15:Ze||$a(2,a,t),Ze||$a(4,a,t),xa(e,t,a);break;case 1:Ze||(sa(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&$f(a,t,n)),xa(e,t,a);break;case 21:xa(e,t,a);break;case 22:Ze=(n=Ze)||a.memoizedState!==null,xa(e,t,a),Ze=n;break;default:xa(e,t,a)}}function Xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ai(e)}catch(a){qe(t,t.return,a)}}function Xy(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Gf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Gf),t;default:throw Error(l(435,e.tag))}}function Io(e,t){var a=Xy(e);t.forEach(function(n){var r=tm.bind(null,e,n);a.has(n)||(a.add(n),n.then(r,r))})}function Mt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var r=a[n],c=e,h=t,v=h;e:for(;v!==null;){switch(v.tag){case 27:if(Xa(v.type)){Ye=v.stateNode,jt=!1;break e}break;case 5:Ye=v.stateNode,jt=!1;break e;case 3:case 4:Ye=v.stateNode.containerInfo,jt=!0;break e}v=v.return}if(Ye===null)throw Error(l(160));Vf(c,h,r),Ye=null,jt=!1,c=r.alternate,c!==null&&(c.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Qf(t,e),t=t.sibling}var Zt=null;function Qf(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Mt(t,e),Ut(e),n&4&&($a(3,e,e.return),di(3,e),$a(5,e,e.return));break;case 1:Mt(t,e),Ut(e),n&512&&(Ze||a===null||sa(a,a.return)),n&64&&wa&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var r=Zt;if(Mt(t,e),Ut(e),n&512&&(Ze||a===null||sa(a,a.return)),n&4){var c=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(n){case"title":c=r.getElementsByTagName("title")[0],(!c||c[zs]||c[it]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=r.createElement(n),r.head.insertBefore(c,r.querySelector("head > title"))),gt(c,n,a),c[it]=e,lt(c),n=c;break e;case"link":var h=Hh("link","href",r).get(n+(a.href||""));if(h){for(var v=0;v<h.length;v++)if(c=h[v],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){h.splice(v,1);break t}}c=r.createElement(n),gt(c,n,a),r.head.appendChild(c);break;case"meta":if(h=Hh("meta","content",r).get(n+(a.content||""))){for(v=0;v<h.length;v++)if(c=h[v],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){h.splice(v,1);break t}}c=r.createElement(n),gt(c,n,a),r.head.appendChild(c);break;default:throw Error(l(468,n))}c[it]=e,lt(c),n=c}e.stateNode=n}else Gh(r,e.type,e.stateNode);else e.stateNode=Bh(r,n,e.memoizedProps);else c!==n?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,n===null?Gh(r,e.type,e.stateNode):Bh(r,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Ko(e,e.memoizedProps,a.memoizedProps)}break;case 27:Mt(t,e),Ut(e),n&512&&(Ze||a===null||sa(a,a.return)),a!==null&&n&4&&Ko(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Mt(t,e),Ut(e),n&512&&(Ze||a===null||sa(a,a.return)),e.flags&32){r=e.stateNode;try{Bn(r,"")}catch(N){qe(e,e.return,N)}}n&4&&e.stateNode!=null&&(r=e.memoizedProps,Ko(e,r,a!==null?a.memoizedProps:r)),n&1024&&(Qo=!0);break;case 6:if(Mt(t,e),Ut(e),n&4){if(e.stateNode===null)throw Error(l(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(N){qe(e,e.return,N)}}break;case 3:if(Zl=null,r=Zt,Zt=Ql(t.containerInfo),Mt(t,e),Zt=r,Ut(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Ai(t.containerInfo)}catch(N){qe(e,e.return,N)}Qo&&(Qo=!1,If(e));break;case 4:n=Zt,Zt=Ql(e.stateNode.containerInfo),Mt(t,e),Ut(e),Zt=n;break;case 12:Mt(t,e),Ut(e);break;case 13:Mt(t,e),Ut(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(eu=pt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Io(e,n)));break;case 22:r=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,C=wa,k=Ze;if(wa=C||r,Ze=k||_,Mt(t,e),Ze=k,wa=C,Ut(e),n&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(a===null||_||wa||Ze||wn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(c=_.stateNode,r)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{v=_.stateNode;var z=_.memoizedProps.style,O=z!=null&&z.hasOwnProperty("display")?z.display:null;v.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(N){qe(_,_.return,N)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=r?"":_.memoizedProps}catch(N){qe(_,_.return,N)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Io(e,a))));break;case 19:Mt(t,e),Ut(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Io(e,n)));break;case 30:break;case 21:break;default:Mt(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Bf(n)){a=n;break}n=n.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var r=a.stateNode,c=Vo(e);kl(e,c,r);break;case 5:var h=a.stateNode;a.flags&32&&(Bn(h,""),a.flags&=-33);var v=Vo(e);kl(e,v,h);break;case 3:case 4:var _=a.stateNode.containerInfo,C=Vo(e);Xo(e,C,_);break;default:throw Error(l(161))}}catch(k){qe(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function If(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;If(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function qa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Yf(e,t.alternate,t),t=t.sibling}function wn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:$a(4,t,t.return),wn(t);break;case 1:sa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&$f(t,t.return,a),wn(t);break;case 27:wi(t.stateNode);case 26:case 5:sa(t,t.return),wn(t);break;case 22:t.memoizedState===null&&wn(t);break;case 30:wn(t);break;default:wn(t)}e=e.sibling}}function Ba(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,r=e,c=t,h=c.flags;switch(c.tag){case 0:case 11:case 15:Ba(r,c,a),di(4,c);break;case 1:if(Ba(r,c,a),n=c,r=n.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(C){qe(n,n.return,C)}if(n=c,r=n.updateQueue,r!==null){var v=n.stateNode;try{var _=r.shared.hiddenCallbacks;if(_!==null)for(r.shared.hiddenCallbacks=null,r=0;r<_.length;r++)xd(_[r],v)}catch(C){qe(n,n.return,C)}}a&&h&64&&Lf(c),fi(c,c.return);break;case 27:Hf(c);case 26:case 5:Ba(r,c,a),a&&n===null&&h&4&&qf(c),fi(c,c.return);break;case 12:Ba(r,c,a);break;case 13:Ba(r,c,a),a&&h&4&&Xf(r,c);break;case 22:c.memoizedState===null&&Ba(r,c,a),fi(c,c.return);break;case 30:break;default:Ba(r,c,a)}t=t.sibling}}function Zo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Fs(a))}function Jo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Fs(e))}function ia(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zf(e,t,a,n),t=t.sibling}function Zf(e,t,a,n){var r=t.flags;switch(t.tag){case 0:case 11:case 15:ia(e,t,a,n),r&2048&&di(9,t);break;case 1:ia(e,t,a,n);break;case 3:ia(e,t,a,n),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Fs(e)));break;case 12:if(r&2048){ia(e,t,a,n),e=t.stateNode;try{var c=t.memoizedProps,h=c.id,v=c.onPostCommit;typeof v=="function"&&v(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){qe(t,t.return,_)}}else ia(e,t,a,n);break;case 13:ia(e,t,a,n);break;case 23:break;case 22:c=t.stateNode,h=t.alternate,t.memoizedState!==null?c._visibility&2?ia(e,t,a,n):hi(e,t):c._visibility&2?ia(e,t,a,n):(c._visibility|=2,is(e,t,a,n,(t.subtreeFlags&10256)!==0)),r&2048&&Zo(h,t);break;case 24:ia(e,t,a,n),r&2048&&Jo(t.alternate,t);break;default:ia(e,t,a,n)}}function is(e,t,a,n,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,h=t,v=a,_=n,C=h.flags;switch(h.tag){case 0:case 11:case 15:is(c,h,v,_,r),di(8,h);break;case 23:break;case 22:var k=h.stateNode;h.memoizedState!==null?k._visibility&2?is(c,h,v,_,r):hi(c,h):(k._visibility|=2,is(c,h,v,_,r)),r&&C&2048&&Zo(h.alternate,h);break;case 24:is(c,h,v,_,r),r&&C&2048&&Jo(h.alternate,h);break;default:is(c,h,v,_,r)}t=t.sibling}}function hi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,r=n.flags;switch(n.tag){case 22:hi(a,n),r&2048&&Zo(n.alternate,n);break;case 24:hi(a,n),r&2048&&Jo(n.alternate,n);break;default:hi(a,n)}t=t.sibling}}var gi=8192;function ls(e){if(e.subtreeFlags&gi)for(e=e.child;e!==null;)Jf(e),e=e.sibling}function Jf(e){switch(e.tag){case 26:ls(e),e.flags&gi&&e.memoizedState!==null&&Rm(Zt,e.memoizedState,e.memoizedProps);break;case 5:ls(e);break;case 3:case 4:var t=Zt;Zt=Ql(e.stateNode.containerInfo),ls(e),Zt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=gi,gi=16777216,ls(e),gi=t):ls(e));break;default:ls(e)}}function Ff(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function yi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];ot=n,Wf(n,e)}Ff(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Pf(e),e=e.sibling}function Pf(e){switch(e.tag){case 0:case 11:case 15:yi(e),e.flags&2048&&$a(9,e,e.return);break;case 3:yi(e);break;case 12:yi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Dl(e)):yi(e);break;default:yi(e)}}function Dl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];ot=n,Wf(n,e)}Ff(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:$a(8,t,t.return),Dl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Dl(t));break;default:Dl(t)}e=e.sibling}}function Wf(e,t){for(;ot!==null;){var a=ot;switch(a.tag){case 0:case 11:case 15:$a(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Fs(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,ot=n;else e:for(a=e;ot!==null;){n=ot;var r=n.sibling,c=n.return;if(Kf(n),n===a){ot=null;break e}if(r!==null){r.return=c,ot=r;break e}ot=c}}}var Qy={getCacheForType:function(e){var t=yt(tt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Iy=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Be=null,Se=null,Ce=0,ke=0,kt=null,Ha=!1,rs=!1,Fo=!1,Sa=0,Qe=0,Ga=0,xn=0,Po=0,Kt=0,os=0,mi=null,Ct=null,Wo=!1,eu=0,zl=1/0,Ll=null,Ya=null,ht=0,Ka=null,us=null,cs=0,tu=0,au=null,eh=null,vi=0,nu=null;function Dt(){if((Ue&2)!==0&&Ce!==0)return Ce&-Ce;if(U.T!==null){var e=Fn;return e!==0?e:cu()}return ua()}function th(){Kt===0&&(Kt=(Ce&536870912)===0||Re?ie():536870912);var e=Yt.current;return e!==null&&(e.flags|=32),Kt}function zt(e,t,a){(e===Be&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(ds(e,0),Va(e,Ce,Kt,!1)),Fe(e,a),((Ue&2)===0||e!==Be)&&(e===Be&&((Ue&2)===0&&(xn|=a),Qe===4&&Va(e,Ce,Kt,!1)),la(e))}function ah(e,t,a){if((Ue&6)!==0)throw Error(l(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||J(e,t),r=n?Fy(e,t):lu(e,t,!0),c=n;do{if(r===0){rs&&!n&&Va(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!Zy(a)){r=lu(e,t,!1),c=!1;continue}if(r===2){if(c=t,e.errorRecoveryDisabledLanes&c)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var v=e;r=mi;var _=v.current.memoizedState.isDehydrated;if(_&&(ds(v,h).flags|=256),h=lu(v,h,!1),h!==2){if(Fo&&!_){v.errorRecoveryDisabledLanes|=c,xn|=c,r=4;break e}c=Ct,Ct=r,c!==null&&(Ct===null?Ct=c:Ct.push.apply(Ct,c))}r=h}if(c=!1,r!==2)continue}}if(r===1){ds(e,0),Va(e,t,0,!0);break}e:{switch(n=e,c=r,c){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Va(n,t,Kt,!Ha);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(r=eu+300-pt(),10<r)){if(Va(n,t,Kt,!Ha),R(n,0,!0)!==0)break e;n.timeoutHandle=Rh(nh.bind(null,n,a,Ct,Ll,Wo,t,Kt,xn,os,Ha,c,2,-0,0),r);break e}nh(n,a,Ct,Ll,Wo,t,Kt,xn,os,Ha,c,0,-0,0)}}break}while(!0);la(e)}function nh(e,t,a,n,r,c,h,v,_,C,k,z,O,N){if(e.timeoutHandle=-1,z=t.subtreeFlags,(z&8192||(z&16785408)===16785408)&&(Ei={stylesheets:null,count:0,unsuspend:Nm},Jf(t),z=Mm(),z!==null)){e.cancelPendingCommit=z(ch.bind(null,e,t,c,a,n,r,h,v,_,k,1,O,N)),Va(e,c,h,!C);return}ch(e,t,c,a,n,r,h,v,_)}function Zy(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var r=a[n],c=r.getSnapshot;r=r.value;try{if(!Nt(c(),r))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Va(e,t,a,n){t&=~Po,t&=~xn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var r=t;0<r;){var c=31-_t(r),h=1<<c;n[c]=-1,r&=~h}a!==0&&Pe(e,a,t)}function $l(){return(Ue&6)===0?(pi(0),!1):!0}function su(){if(Se!==null){if(ke===0)var e=Se.return;else e=Se,ya=mn=null,wo(e),ns=null,oi=0,e=Se;for(;e!==null;)zf(e.alternate,e),e=e.return;Se=null}}function ds(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,hm(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),su(),Be=e,Se=a=fa(e.current,null),Ce=t,ke=0,kt=null,Ha=!1,rs=J(e,t),Fo=!1,os=Kt=Po=xn=Ga=Qe=0,Ct=mi=null,Wo=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var r=31-_t(n),c=1<<r;t|=e[r],n&=~c}return Sa=t,ll(),a}function sh(e,t){we=null,U.H=Tl,t===Ws||t===yl?(t=_d(),ke=3):t===vd?(t=_d(),ke=4):ke=t===xf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,Se===null&&(Qe=1,Nl(e,qt(t,e.current)))}function ih(){var e=U.H;return U.H=Tl,e===null?Tl:e}function lh(){var e=U.A;return U.A=Qy,e}function iu(){Qe=4,Ha||(Ce&4194048)!==Ce&&Yt.current!==null||(rs=!0),(Ga&134217727)===0&&(xn&134217727)===0||Be===null||Va(Be,Ce,Kt,!1)}function lu(e,t,a){var n=Ue;Ue|=2;var r=ih(),c=lh();(Be!==e||Ce!==t)&&(Ll=null,ds(e,t)),t=!1;var h=Qe;e:do try{if(ke!==0&&Se!==null){var v=Se,_=kt;switch(ke){case 8:su(),h=6;break e;case 3:case 2:case 9:case 6:Yt.current===null&&(t=!0);var C=ke;if(ke=0,kt=null,fs(e,v,_,C),a&&rs){h=0;break e}break;default:C=ke,ke=0,kt=null,fs(e,v,_,C)}}Jy(),h=Qe;break}catch(k){sh(e,k)}while(!0);return t&&e.shellSuspendCounter++,ya=mn=null,Ue=n,U.H=r,U.A=c,Se===null&&(Be=null,Ce=0,ll()),h}function Jy(){for(;Se!==null;)rh(Se)}function Fy(e,t){var a=Ue;Ue|=2;var n=ih(),r=lh();Be!==e||Ce!==t?(Ll=null,zl=pt()+500,ds(e,t)):rs=J(e,t);e:do try{if(ke!==0&&Se!==null){t=Se;var c=kt;t:switch(ke){case 1:ke=0,kt=null,fs(e,t,c,1);break;case 2:case 9:if(pd(c)){ke=0,kt=null,oh(t);break}t=function(){ke!==2&&ke!==9||Be!==e||(ke=7),la(e)},c.then(t,t);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:pd(c)?(ke=0,kt=null,oh(t)):(ke=0,kt=null,fs(e,t,c,7));break;case 5:var h=null;switch(Se.tag){case 26:h=Se.memoizedState;case 5:case 27:var v=Se;if(!h||Yh(h)){ke=0,kt=null;var _=v.sibling;if(_!==null)Se=_;else{var C=v.return;C!==null?(Se=C,ql(C)):Se=null}break t}}ke=0,kt=null,fs(e,t,c,5);break;case 6:ke=0,kt=null,fs(e,t,c,6);break;case 8:su(),Qe=6;break e;default:throw Error(l(462))}}Py();break}catch(k){sh(e,k)}while(!0);return ya=mn=null,U.H=n,U.A=r,Ue=a,Se!==null?0:(Be=null,Ce=0,ll(),Qe)}function Py(){for(;Se!==null&&!Yi();)rh(Se)}function rh(e){var t=kf(e.alternate,e,Sa);e.memoizedProps=e.pendingProps,t===null?ql(e):Se=t}function oh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Of(a,t,t.pendingProps,t.type,void 0,Ce);break;case 11:t=Of(a,t,t.pendingProps,t.type.render,t.ref,Ce);break;case 5:wo(t);default:zf(a,t),t=Se=od(t,Sa),t=kf(a,t,Sa)}e.memoizedProps=e.pendingProps,t===null?ql(e):Se=t}function fs(e,t,a,n){ya=mn=null,wo(t),ns=null,oi=0;var r=t.return;try{if(Hy(e,r,t,a,Ce)){Qe=1,Nl(e,qt(a,e.current)),Se=null;return}}catch(c){if(r!==null)throw Se=r,c;Qe=1,Nl(e,qt(a,e.current)),Se=null;return}t.flags&32768?(Re||n===1?e=!0:rs||(Ce&536870912)!==0?e=!1:(Ha=e=!0,(n===2||n===9||n===3||n===6)&&(n=Yt.current,n!==null&&n.tag===13&&(n.flags|=16384))),uh(t,e)):ql(t)}function ql(e){var t=e;do{if((t.flags&32768)!==0){uh(t,Ha);return}e=t.return;var a=Yy(t.alternate,t,Sa);if(a!==null){Se=a;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Qe===0&&(Qe=5)}function uh(e,t){do{var a=Ky(e.alternate,e);if(a!==null){a.flags&=32767,Se=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Se=e;return}Se=e=a}while(e!==null);Qe=6,Se=null}function ch(e,t,a,n,r,c,h,v,_){e.cancelPendingCommit=null;do Bl();while(ht!==0);if((Ue&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(c=t.lanes|t.childLanes,c|=Zr,At(e,a,c,h,v,_),e===Be&&(Se=Be=null,Ce=0),us=t,Ka=e,cs=a,tu=c,au=r,eh=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,am(sn,function(){return yh(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=U.T,U.T=null,r=Y.p,Y.p=2,h=Ue,Ue|=4;try{Vy(e,t,a)}finally{Ue=h,Y.p=r,U.T=n}}ht=1,dh(),fh(),hh()}}function dh(){if(ht===1){ht=0;var e=Ka,t=us,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var n=Y.p;Y.p=2;var r=Ue;Ue|=4;try{Qf(t,e);var c=pu,h=Pc(e.containerInfo),v=c.focusedElem,_=c.selectionRange;if(h!==v&&v&&v.ownerDocument&&Fc(v.ownerDocument.documentElement,v)){if(_!==null&&Kr(v)){var C=_.start,k=_.end;if(k===void 0&&(k=C),"selectionStart"in v)v.selectionStart=C,v.selectionEnd=Math.min(k,v.value.length);else{var z=v.ownerDocument||document,O=z&&z.defaultView||window;if(O.getSelection){var N=O.getSelection(),ce=v.textContent.length,oe=Math.min(_.start,ce),Le=_.end===void 0?oe:Math.min(_.end,ce);!N.extend&&oe>Le&&(h=Le,Le=oe,oe=h);var E=Jc(v,oe),x=Jc(v,Le);if(E&&x&&(N.rangeCount!==1||N.anchorNode!==E.node||N.anchorOffset!==E.offset||N.focusNode!==x.node||N.focusOffset!==x.offset)){var j=z.createRange();j.setStart(E.node,E.offset),N.removeAllRanges(),oe>Le?(N.addRange(j),N.extend(x.node,x.offset)):(j.setEnd(x.node,x.offset),N.addRange(j))}}}}for(z=[],N=v;N=N.parentNode;)N.nodeType===1&&z.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<z.length;v++){var D=z[v];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}Pl=!!vu,pu=vu=null}finally{Ue=r,Y.p=n,U.T=a}}e.current=t,ht=2}}function fh(){if(ht===2){ht=0;var e=Ka,t=us,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var n=Y.p;Y.p=2;var r=Ue;Ue|=4;try{Yf(e,t.alternate,t)}finally{Ue=r,Y.p=n,U.T=a}}ht=3}}function hh(){if(ht===4||ht===3){ht=0,pr();var e=Ka,t=us,a=cs,n=eh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ht=5:(ht=0,us=Ka=null,gh(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ya=null),Oa(a),t=t.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(ln,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=U.T,r=Y.p,Y.p=2,U.T=null;try{for(var c=e.onRecoverableError,h=0;h<n.length;h++){var v=n[h];c(v.value,{componentStack:v.stack})}}finally{U.T=t,Y.p=r}}(cs&3)!==0&&Bl(),la(e),r=e.pendingLanes,(a&4194090)!==0&&(r&42)!==0?e===nu?vi++:(vi=0,nu=e):vi=0,pi(0)}}function gh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Fs(t)))}function Bl(e){return dh(),fh(),hh(),yh()}function yh(){if(ht!==5)return!1;var e=Ka,t=tu;tu=0;var a=Oa(cs),n=U.T,r=Y.p;try{Y.p=32>a?32:a,U.T=null,a=au,au=null;var c=Ka,h=cs;if(ht=0,us=Ka=null,cs=0,(Ue&6)!==0)throw Error(l(331));var v=Ue;if(Ue|=4,Pf(c.current),Zf(c,c.current,h,a),Ue=v,pi(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(ln,c)}catch{}return!0}finally{Y.p=r,U.T=n,gh(e,t)}}function mh(e,t,a){t=qt(a,t),t=Do(e.stateNode,t,2),e=ka(e,t,2),e!==null&&(Fe(e,2),la(e))}function qe(e,t,a){if(e.tag===3)mh(e,e,a);else for(;t!==null;){if(t.tag===3){mh(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ya===null||!Ya.has(n))){e=qt(a,e),a=_f(2),n=ka(t,a,2),n!==null&&(wf(a,n,t,e),Fe(n,2),la(n));break}}t=t.return}}function ru(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new Iy;var r=new Set;n.set(t,r)}else r=n.get(t),r===void 0&&(r=new Set,n.set(t,r));r.has(a)||(Fo=!0,r.add(a),e=Wy.bind(null,e,t,a),t.then(e,e))}function Wy(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Be===e&&(Ce&a)===a&&(Qe===4||Qe===3&&(Ce&62914560)===Ce&&300>pt()-eu?(Ue&2)===0&&ds(e,0):Po|=a,os===Ce&&(os=0)),la(e)}function vh(e,t){t===0&&(t=Ae()),e=Qn(e,t),e!==null&&(Fe(e,t),la(e))}function em(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),vh(e,a)}function tm(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;r!==null&&(a=r.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(l(314))}n!==null&&n.delete(t),vh(e,a)}function am(e,t){return ea(e,t)}var Hl=null,hs=null,ou=!1,Gl=!1,uu=!1,Sn=0;function la(e){e!==hs&&e.next===null&&(hs===null?Hl=hs=e:hs=hs.next=e),Gl=!0,ou||(ou=!0,sm())}function pi(e,t){if(!uu&&Gl){uu=!0;do for(var a=!1,n=Hl;n!==null;){if(e!==0){var r=n.pendingLanes;if(r===0)var c=0;else{var h=n.suspendedLanes,v=n.pingedLanes;c=(1<<31-_t(42|e)+1)-1,c&=r&~(h&~v),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,wh(n,c))}else c=Ce,c=R(n,n===Be?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(c&3)===0||J(n,c)||(a=!0,wh(n,c));n=n.next}while(a);uu=!1}}function nm(){ph()}function ph(){Gl=ou=!1;var e=0;Sn!==0&&(fm()&&(e=Sn),Sn=0);for(var t=pt(),a=null,n=Hl;n!==null;){var r=n.next,c=bh(n,t);c===0?(n.next=null,a===null?Hl=r:a.next=r,r===null&&(hs=a)):(a=n,(e!==0||(c&3)!==0)&&(Gl=!0)),n=r}pi(e)}function bh(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var h=31-_t(c),v=1<<h,_=r[h];_===-1?((v&a)===0||(v&n)!==0)&&(r[h]=de(v,t)):_<=t&&(e.expiredLanes|=v),c&=~v}if(t=Be,a=Ce,a=R(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Nn(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||J(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Nn(n),Oa(a)){case 2:case 8:a=Xi;break;case 32:a=sn;break;case 268435456:a=Ii;break;default:a=sn}return n=_h.bind(null,e),a=ea(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Nn(n),e.callbackPriority=2,e.callbackNode=null,2}function _h(e,t){if(ht!==0&&ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Bl()&&e.callbackNode!==a)return null;var n=Ce;return n=R(e,e===Be?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(ah(e,n,t),bh(e,pt()),e.callbackNode!=null&&e.callbackNode===a?_h.bind(null,e):null)}function wh(e,t){if(Bl())return null;ah(e,t,!0)}function sm(){gm(function(){(Ue&6)!==0?ea(Vi,nm):ph()})}function cu(){return Sn===0&&(Sn=ie()),Sn}function xh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wi(""+e)}function Sh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function im(e,t,a,n,r){if(t==="submit"&&a&&a.stateNode===r){var c=xh((r[dt]||null).action),h=n.submitter;h&&(t=(t=h[dt]||null)?xh(t.formAction):h.getAttribute("formAction"),t!==null&&(c=t,h=null));var v=new nl("action","action",null,n,r);e.push({event:v,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Sn!==0){var _=h?Sh(r,h):new FormData(r);No(a,{pending:!0,data:_,method:r.method,action:c},null,_)}}else typeof c=="function"&&(v.preventDefault(),_=h?Sh(r,h):new FormData(r),No(a,{pending:!0,data:_,method:r.method,action:c},c,_))},currentTarget:r}]})}}for(var du=0;du<Ir.length;du++){var fu=Ir[du],lm=fu.toLowerCase(),rm=fu[0].toUpperCase()+fu.slice(1);It(lm,"on"+rm)}It(td,"onAnimationEnd"),It(ad,"onAnimationIteration"),It(nd,"onAnimationStart"),It("dblclick","onDoubleClick"),It("focusin","onFocus"),It("focusout","onBlur"),It(Ey,"onTransitionRun"),It(Ty,"onTransitionStart"),It(jy,"onTransitionCancel"),It(sd,"onTransitionEnd"),Ln("onMouseEnter",["mouseout","mouseover"]),Ln("onMouseLeave",["mouseout","mouseover"]),Ln("onPointerEnter",["pointerout","pointerover"]),Ln("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),om=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bi));function Eh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],r=n.event;n=n.listeners;e:{var c=void 0;if(t)for(var h=n.length-1;0<=h;h--){var v=n[h],_=v.instance,C=v.currentTarget;if(v=v.listener,_!==c&&r.isPropagationStopped())break e;c=v,r.currentTarget=C;try{c(r)}catch(k){Al(k)}r.currentTarget=null,c=_}else for(h=0;h<n.length;h++){if(v=n[h],_=v.instance,C=v.currentTarget,v=v.listener,_!==c&&r.isPropagationStopped())break e;c=v,r.currentTarget=C;try{c(r)}catch(k){Al(k)}r.currentTarget=null,c=_}}}}function Ee(e,t){var a=t[Er];a===void 0&&(a=t[Er]=new Set);var n=e+"__bubble";a.has(n)||(Th(t,e,2,!1),a.add(n))}function hu(e,t,a){var n=0;t&&(n|=4),Th(a,e,n,t)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function gu(e){if(!e[Yl]){e[Yl]=!0,vc.forEach(function(a){a!=="selectionchange"&&(om.has(a)||hu(a,!1,e),hu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yl]||(t[Yl]=!0,hu("selectionchange",!1,t))}}function Th(e,t,a,n){switch(Zh(t)){case 2:var r=Dm;break;case 8:r=zm;break;default:r=Ou}a=r.bind(null,t,a,e),r=void 0,!Dr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),n?r!==void 0?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):r!==void 0?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function yu(e,t,a,n,r){var c=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var h=n.tag;if(h===3||h===4){var v=n.stateNode.containerInfo;if(v===r)break;if(h===4)for(h=n.return;h!==null;){var _=h.tag;if((_===3||_===4)&&h.stateNode.containerInfo===r)return;h=h.return}for(;v!==null;){if(h=kn(v),h===null)return;if(_=h.tag,_===5||_===6||_===26||_===27){n=c=h;continue e}v=v.parentNode}}n=n.return}Rc(function(){var C=c,k=Ur(a),z=[];e:{var O=id.get(e);if(O!==void 0){var N=nl,ce=e;switch(e){case"keypress":if(tl(a)===0)break e;case"keydown":case"keyup":N=ay;break;case"focusin":ce="focus",N=qr;break;case"focusout":ce="blur",N=qr;break;case"beforeblur":case"afterblur":N=qr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=K0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=iy;break;case td:case ad:case nd:N=Q0;break;case sd:N=ry;break;case"scroll":case"scrollend":N=G0;break;case"wheel":N=uy;break;case"copy":case"cut":case"paste":N=Z0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=zc;break;case"toggle":case"beforetoggle":N=dy}var oe=(t&4)!==0,Le=!oe&&(e==="scroll"||e==="scrollend"),E=oe?O!==null?O+"Capture":null:O;oe=[];for(var x=C,j;x!==null;){var D=x;if(j=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||j===null||E===null||(D=$s(x,E),D!=null&&oe.push(_i(x,D,j))),Le)break;x=x.return}0<oe.length&&(O=new N(O,ce,null,a,k),z.push({event:O,listeners:oe}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",O&&a!==Mr&&(ce=a.relatedTarget||a.fromElement)&&(kn(ce)||ce[Un]))break e;if((N||O)&&(O=k.window===k?k:(O=k.ownerDocument)?O.defaultView||O.parentWindow:window,N?(ce=a.relatedTarget||a.toElement,N=C,ce=ce?kn(ce):null,ce!==null&&(Le=d(ce),oe=ce.tag,ce!==Le||oe!==5&&oe!==27&&oe!==6)&&(ce=null)):(N=null,ce=C),N!==ce)){if(oe=kc,D="onMouseLeave",E="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(oe=zc,D="onPointerLeave",E="onPointerEnter",x="pointer"),Le=N==null?O:Ls(N),j=ce==null?O:Ls(ce),O=new oe(D,x+"leave",N,a,k),O.target=Le,O.relatedTarget=j,D=null,kn(k)===C&&(oe=new oe(E,x+"enter",ce,a,k),oe.target=j,oe.relatedTarget=Le,D=oe),Le=D,N&&ce)t:{for(oe=N,E=ce,x=0,j=oe;j;j=gs(j))x++;for(j=0,D=E;D;D=gs(D))j++;for(;0<x-j;)oe=gs(oe),x--;for(;0<j-x;)E=gs(E),j--;for(;x--;){if(oe===E||E!==null&&oe===E.alternate)break t;oe=gs(oe),E=gs(E)}oe=null}else oe=null;N!==null&&jh(z,O,N,oe,!1),ce!==null&&Le!==null&&jh(z,Le,ce,oe,!0)}}e:{if(O=C?Ls(C):window,N=O.nodeName&&O.nodeName.toLowerCase(),N==="select"||N==="input"&&O.type==="file")var P=Kc;else if(Gc(O))if(Vc)P=wy;else{P=by;var xe=py}else N=O.nodeName,!N||N.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?C&&Rr(C.elementType)&&(P=Kc):P=_y;if(P&&(P=P(e,C))){Yc(z,P,a,k);break e}xe&&xe(e,O,C),e==="focusout"&&C&&O.type==="number"&&C.memoizedProps.value!=null&&Nr(O,"number",O.value)}switch(xe=C?Ls(C):window,e){case"focusin":(Gc(xe)||xe.contentEditable==="true")&&(Kn=xe,Vr=C,Xs=null);break;case"focusout":Xs=Vr=Kn=null;break;case"mousedown":Xr=!0;break;case"contextmenu":case"mouseup":case"dragend":Xr=!1,Wc(z,a,k);break;case"selectionchange":if(Sy)break;case"keydown":case"keyup":Wc(z,a,k)}var ne;if(Hr)e:{switch(e){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else Yn?Bc(e,a)&&(ue="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ue="onCompositionStart");ue&&(Lc&&a.locale!=="ko"&&(Yn||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&Yn&&(ne=Mc()):(Na=k,zr="value"in Na?Na.value:Na.textContent,Yn=!0)),xe=Kl(C,ue),0<xe.length&&(ue=new Dc(ue,e,null,a,k),z.push({event:ue,listeners:xe}),ne?ue.data=ne:(ne=Hc(a),ne!==null&&(ue.data=ne)))),(ne=hy?gy(e,a):yy(e,a))&&(ue=Kl(C,"onBeforeInput"),0<ue.length&&(xe=new Dc("onBeforeInput","beforeinput",null,a,k),z.push({event:xe,listeners:ue}),xe.data=ne)),im(z,e,C,a,k)}Eh(z,t)})}function _i(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Kl(e,t){for(var a=t+"Capture",n=[];e!==null;){var r=e,c=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||c===null||(r=$s(e,a),r!=null&&n.unshift(_i(e,r,c)),r=$s(e,t),r!=null&&n.push(_i(e,r,c))),e.tag===3)return n;e=e.return}return[]}function gs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jh(e,t,a,n,r){for(var c=t._reactName,h=[];a!==null&&a!==n;){var v=a,_=v.alternate,C=v.stateNode;if(v=v.tag,_!==null&&_===n)break;v!==5&&v!==26&&v!==27||C===null||(_=C,r?(C=$s(a,c),C!=null&&h.unshift(_i(a,C,_))):r||(C=$s(a,c),C!=null&&h.push(_i(a,C,_)))),a=a.return}h.length!==0&&e.push({event:t,listeners:h})}var um=/\r\n?/g,cm=/\u0000|\uFFFD/g;function Ch(e){return(typeof e=="string"?e:""+e).replace(um,`
`).replace(cm,"")}function Oh(e,t){return t=Ch(t),Ch(e)===t}function Vl(){}function ze(e,t,a,n,r,c){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Bn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Bn(e,""+n);break;case"className":Ji(e,"class",n);break;case"tabIndex":Ji(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Ji(e,a,n);break;case"style":Ac(e,n,c);break;case"data":if(t!=="object"){Ji(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Wi(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&ze(e,t,"name",r.name,r,null),ze(e,t,"formEncType",r.formEncType,r,null),ze(e,t,"formMethod",r.formMethod,r,null),ze(e,t,"formTarget",r.formTarget,r,null)):(ze(e,t,"encType",r.encType,r,null),ze(e,t,"method",r.method,r,null),ze(e,t,"target",r.target,r,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Wi(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Vl);break;case"onScroll":n!=null&&Ee("scroll",e);break;case"onScrollEnd":n!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Wi(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),Zi(e,"popover",n);break;case"xlinkActuate":ca(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ca(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ca(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ca(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ca(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ca(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ca(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ca(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ca(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Zi(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=B0.get(a)||a,Zi(e,a,n))}}function mu(e,t,a,n,r,c){switch(a){case"style":Ac(e,n,c);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Bn(e,n):(typeof n=="number"||typeof n=="bigint")&&Bn(e,""+n);break;case"onScroll":n!=null&&Ee("scroll",e);break;case"onScrollEnd":n!=null&&Ee("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Vl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),c=e[dt]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,r),typeof n=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,r);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Zi(e,a,n)}}}function gt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var n=!1,r=!1,c;for(c in a)if(a.hasOwnProperty(c)){var h=a[c];if(h!=null)switch(c){case"src":n=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ze(e,t,c,h,a,null)}}r&&ze(e,t,"srcSet",a.srcSet,a,null),n&&ze(e,t,"src",a.src,a,null);return;case"input":Ee("invalid",e);var v=c=h=r=null,_=null,C=null;for(n in a)if(a.hasOwnProperty(n)){var k=a[n];if(k!=null)switch(n){case"name":r=k;break;case"type":h=k;break;case"checked":_=k;break;case"defaultChecked":C=k;break;case"value":c=k;break;case"defaultValue":v=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,t));break;default:ze(e,t,n,k,a,null)}}Tc(e,c,v,_,C,h,r,!1),Fi(e);return;case"select":Ee("invalid",e),n=h=c=null;for(r in a)if(a.hasOwnProperty(r)&&(v=a[r],v!=null))switch(r){case"value":c=v;break;case"defaultValue":h=v;break;case"multiple":n=v;default:ze(e,t,r,v,a,null)}t=c,a=h,e.multiple=!!n,t!=null?qn(e,!!n,t,!1):a!=null&&qn(e,!!n,a,!0);return;case"textarea":Ee("invalid",e),c=r=n=null;for(h in a)if(a.hasOwnProperty(h)&&(v=a[h],v!=null))switch(h){case"value":n=v;break;case"defaultValue":r=v;break;case"children":c=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:ze(e,t,h,v,a,null)}Cc(e,n,r,c),Fi(e);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(n=a[_],n!=null))switch(_){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:ze(e,t,_,n,a,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(n=0;n<bi.length;n++)Ee(bi[n],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in a)if(a.hasOwnProperty(C)&&(n=a[C],n!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ze(e,t,C,n,a,null)}return;default:if(Rr(t)){for(k in a)a.hasOwnProperty(k)&&(n=a[k],n!==void 0&&mu(e,t,k,n,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(n=a[v],n!=null&&ze(e,t,v,n,a,null))}function dm(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,c=null,h=null,v=null,_=null,C=null,k=null;for(N in a){var z=a[N];if(a.hasOwnProperty(N)&&z!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":_=z;default:n.hasOwnProperty(N)||ze(e,t,N,null,n,z)}}for(var O in n){var N=n[O];if(z=a[O],n.hasOwnProperty(O)&&(N!=null||z!=null))switch(O){case"type":c=N;break;case"name":r=N;break;case"checked":C=N;break;case"defaultChecked":k=N;break;case"value":h=N;break;case"defaultValue":v=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(l(137,t));break;default:N!==z&&ze(e,t,O,N,n,z)}}Ar(e,h,v,_,C,k,c,r);return;case"select":N=h=v=O=null;for(c in a)if(_=a[c],a.hasOwnProperty(c)&&_!=null)switch(c){case"value":break;case"multiple":N=_;default:n.hasOwnProperty(c)||ze(e,t,c,null,n,_)}for(r in n)if(c=n[r],_=a[r],n.hasOwnProperty(r)&&(c!=null||_!=null))switch(r){case"value":O=c;break;case"defaultValue":v=c;break;case"multiple":h=c;default:c!==_&&ze(e,t,r,c,n,_)}t=v,a=h,n=N,O!=null?qn(e,!!a,O,!1):!!n!=!!a&&(t!=null?qn(e,!!a,t,!0):qn(e,!!a,a?[]:"",!1));return;case"textarea":N=O=null;for(v in a)if(r=a[v],a.hasOwnProperty(v)&&r!=null&&!n.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:ze(e,t,v,null,n,r)}for(h in n)if(r=n[h],c=a[h],n.hasOwnProperty(h)&&(r!=null||c!=null))switch(h){case"value":O=r;break;case"defaultValue":N=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(l(91));break;default:r!==c&&ze(e,t,h,r,n,c)}jc(e,O,N);return;case"option":for(var ce in a)if(O=a[ce],a.hasOwnProperty(ce)&&O!=null&&!n.hasOwnProperty(ce))switch(ce){case"selected":e.selected=!1;break;default:ze(e,t,ce,null,n,O)}for(_ in n)if(O=n[_],N=a[_],n.hasOwnProperty(_)&&O!==N&&(O!=null||N!=null))switch(_){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:ze(e,t,_,O,n,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in a)O=a[oe],a.hasOwnProperty(oe)&&O!=null&&!n.hasOwnProperty(oe)&&ze(e,t,oe,null,n,O);for(C in n)if(O=n[C],N=a[C],n.hasOwnProperty(C)&&O!==N&&(O!=null||N!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(l(137,t));break;default:ze(e,t,C,O,n,N)}return;default:if(Rr(t)){for(var Le in a)O=a[Le],a.hasOwnProperty(Le)&&O!==void 0&&!n.hasOwnProperty(Le)&&mu(e,t,Le,void 0,n,O);for(k in n)O=n[k],N=a[k],!n.hasOwnProperty(k)||O===N||O===void 0&&N===void 0||mu(e,t,k,O,n,N);return}}for(var E in a)O=a[E],a.hasOwnProperty(E)&&O!=null&&!n.hasOwnProperty(E)&&ze(e,t,E,null,n,O);for(z in n)O=n[z],N=a[z],!n.hasOwnProperty(z)||O===N||O==null&&N==null||ze(e,t,z,O,n,N)}var vu=null,pu=null;function Xl(e){return e.nodeType===9?e:e.ownerDocument}function Ah(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function bu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _u=null;function fm(){var e=window.event;return e&&e.type==="popstate"?e===_u?!1:(_u=e,!0):(_u=null,!1)}var Rh=typeof setTimeout=="function"?setTimeout:void 0,hm=typeof clearTimeout=="function"?clearTimeout:void 0,Mh=typeof Promise=="function"?Promise:void 0,gm=typeof queueMicrotask=="function"?queueMicrotask:typeof Mh<"u"?function(e){return Mh.resolve(null).then(e).catch(ym)}:Rh;function ym(e){setTimeout(function(){throw e})}function Xa(e){return e==="head"}function Uh(e,t){var a=t,n=0,r=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(0<n&&8>n){a=n;var h=e.ownerDocument;if(a&1&&wi(h.documentElement),a&2&&wi(h.body),a&4)for(a=h.head,wi(a),h=a.firstChild;h;){var v=h.nextSibling,_=h.nodeName;h[zs]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=v}}if(r===0){e.removeChild(c),Ai(t);return}r--}else a==="$"||a==="$?"||a==="$!"?r++:n=a.charCodeAt(0)-48;else n=0;a=c}while(a);Ai(t)}function wu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wu(a),Tr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function mm(e,t,a,n){for(;e.nodeType===1;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[zs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function vm(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Jt(e.nextSibling),e===null))return null;return e}function xu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function pm(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Su=null;function kh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Dh(e,t,a){switch(t=Xl(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function wi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Tr(e)}var Vt=new Map,zh=new Set;function Ql(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ea=Y.d;Y.d={f:bm,r:_m,D:wm,C:xm,L:Sm,m:Em,X:jm,S:Tm,M:Cm};function bm(){var e=Ea.f(),t=$l();return e||t}function _m(e){var t=Dn(e);t!==null&&t.tag===5&&t.type==="form"?tf(t):Ea.r(e)}var ys=typeof document>"u"?null:document;function Lh(e,t,a){var n=ys;if(n&&typeof t=="string"&&t){var r=$t(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),zh.has(r)||(zh.add(r),e={rel:e,crossOrigin:a,href:t},n.querySelector(r)===null&&(t=n.createElement("link"),gt(t,"link",e),lt(t),n.head.appendChild(t)))}}function wm(e){Ea.D(e),Lh("dns-prefetch",e,null)}function xm(e,t){Ea.C(e,t),Lh("preconnect",e,t)}function Sm(e,t,a){Ea.L(e,t,a);var n=ys;if(n&&e&&t){var r='link[rel="preload"][as="'+$t(t)+'"]';t==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+$t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+$t(a.imageSizes)+'"]')):r+='[href="'+$t(e)+'"]';var c=r;switch(t){case"style":c=ms(e);break;case"script":c=vs(e)}Vt.has(c)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Vt.set(c,e),n.querySelector(r)!==null||t==="style"&&n.querySelector(xi(c))||t==="script"&&n.querySelector(Si(c))||(t=n.createElement("link"),gt(t,"link",e),lt(t),n.head.appendChild(t)))}}function Em(e,t){Ea.m(e,t);var a=ys;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+$t(n)+'"][href="'+$t(e)+'"]',c=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=vs(e)}if(!Vt.has(c)&&(e=b({rel:"modulepreload",href:e},t),Vt.set(c,e),a.querySelector(r)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Si(c)))return}n=a.createElement("link"),gt(n,"link",e),lt(n),a.head.appendChild(n)}}}function Tm(e,t,a){Ea.S(e,t,a);var n=ys;if(n&&e){var r=zn(n).hoistableStyles,c=ms(e);t=t||"default";var h=r.get(c);if(!h){var v={loading:0,preload:null};if(h=n.querySelector(xi(c)))v.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Vt.get(c))&&Eu(e,a);var _=h=n.createElement("link");lt(_),gt(_,"link",e),_._p=new Promise(function(C,k){_.onload=C,_.onerror=k}),_.addEventListener("load",function(){v.loading|=1}),_.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Il(h,t,n)}h={type:"stylesheet",instance:h,count:1,state:v},r.set(c,h)}}}function jm(e,t){Ea.X(e,t);var a=ys;if(a&&e){var n=zn(a).hoistableScripts,r=vs(e),c=n.get(r);c||(c=a.querySelector(Si(r)),c||(e=b({src:e,async:!0},t),(t=Vt.get(r))&&Tu(e,t),c=a.createElement("script"),lt(c),gt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(r,c))}}function Cm(e,t){Ea.M(e,t);var a=ys;if(a&&e){var n=zn(a).hoistableScripts,r=vs(e),c=n.get(r);c||(c=a.querySelector(Si(r)),c||(e=b({src:e,async:!0,type:"module"},t),(t=Vt.get(r))&&Tu(e,t),c=a.createElement("script"),lt(c),gt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(r,c))}}function $h(e,t,a,n){var r=(r=B.current)?Ql(r):null;if(!r)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ms(a.href),a=zn(r).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ms(a.href);var c=zn(r).hoistableStyles,h=c.get(e);if(h||(r=r.ownerDocument||r,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=r.querySelector(xi(e)))&&!c._p&&(h.instance=c,h.state.loading=5),Vt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vt.set(e,a),c||Om(r,e,a,h.state))),t&&n===null)throw Error(l(528,""));return h}if(t&&n!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=vs(a),a=zn(r).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function ms(e){return'href="'+$t(e)+'"'}function xi(e){return'link[rel="stylesheet"]['+e+"]"}function qh(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Om(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),gt(t,"link",a),lt(t),e.head.appendChild(t))}function vs(e){return'[src="'+$t(e)+'"]'}function Si(e){return"script[async]"+e}function Bh(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+$t(a.href)+'"]');if(n)return t.instance=n,lt(n),n;var r=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),lt(n),gt(n,"style",r),Il(n,a.precedence,e),t.instance=n;case"stylesheet":r=ms(a.href);var c=e.querySelector(xi(r));if(c)return t.state.loading|=4,t.instance=c,lt(c),c;n=qh(a),(r=Vt.get(r))&&Eu(n,r),c=(e.ownerDocument||e).createElement("link"),lt(c);var h=c;return h._p=new Promise(function(v,_){h.onload=v,h.onerror=_}),gt(c,"link",n),t.state.loading|=4,Il(c,a.precedence,e),t.instance=c;case"script":return c=vs(a.src),(r=e.querySelector(Si(c)))?(t.instance=r,lt(r),r):(n=a,(r=Vt.get(c))&&(n=b({},a),Tu(n,r)),e=e.ownerDocument||e,r=e.createElement("script"),lt(r),gt(r,"link",n),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Il(n,a.precedence,e));return t.instance}function Il(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,c=r,h=0;h<n.length;h++){var v=n[h];if(v.dataset.precedence===t)c=v;else if(c!==r)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Eu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Tu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Zl=null;function Hh(e,t,a){if(Zl===null){var n=new Map,r=Zl=new Map;r.set(a,n)}else r=Zl,n=r.get(a),n||(n=new Map,r.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var c=a[r];if(!(c[zs]||c[it]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var h=c.getAttribute(t)||"";h=e+h;var v=n.get(h);v?v.push(c):n.set(h,[c])}}return n}function Gh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Am(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Yh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ei=null;function Nm(){}function Rm(e,t,a){if(Ei===null)throw Error(l(475));var n=Ei;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var r=ms(a.href),c=e.querySelector(xi(r));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=Jl.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=c,lt(c);return}c=e.ownerDocument||e,a=qh(a),(r=Vt.get(r))&&Eu(a,r),c=c.createElement("link"),lt(c);var h=c;h._p=new Promise(function(v,_){h.onload=v,h.onerror=_}),gt(c,"link",a),t.instance=c}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=Jl.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function Mm(){if(Ei===null)throw Error(l(475));var e=Ei;return e.stylesheets&&e.count===0&&ju(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&ju(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Jl(){if(this.count--,this.count===0){if(this.stylesheets)ju(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fl=null;function ju(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fl=new Map,t.forEach(Um,e),Fl=null,Jl.call(e))}function Um(e,t){if(!(t.state.loading&4)){var a=Fl.get(e);if(a)var n=a.get(null);else{a=new Map,Fl.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<r.length;c++){var h=r[c];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(a.set(h.dataset.precedence,h),n=h)}n&&a.set(null,n)}r=t.instance,h=r.getAttribute("data-precedence"),c=a.get(h)||n,c===n&&a.set(null,r),a.set(h,r),this.count++,n=Jl.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),c?c.parentNode.insertBefore(r,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Ti={$$typeof:G,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function km(e,t,a,n,r,c,h,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pe(0),this.hiddenUpdates=pe(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=c,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Kh(e,t,a,n,r,c,h,v,_,C,k,z){return e=new km(e,t,a,h,v,_,C,z),t=1,c===!0&&(t|=24),c=Rt(3,null,null,t),e.current=c,c.stateNode=e,t=lo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:n,isDehydrated:a,cache:t},co(c),e}function Vh(e){return e?(e=In,e):In}function Xh(e,t,a,n,r,c){r=Vh(r),n.context===null?n.context=r:n.pendingContext=r,n=Ua(t),n.payload={element:a},c=c===void 0?null:c,c!==null&&(n.callback=c),a=ka(e,n,t),a!==null&&(zt(a,e,t),ti(a,e,t))}function Qh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Cu(e,t){Qh(e,t),(e=e.alternate)&&Qh(e,t)}function Ih(e){if(e.tag===13){var t=Qn(e,67108864);t!==null&&zt(t,e,67108864),Cu(e,67108864)}}var Pl=!0;function Dm(e,t,a,n){var r=U.T;U.T=null;var c=Y.p;try{Y.p=2,Ou(e,t,a,n)}finally{Y.p=c,U.T=r}}function zm(e,t,a,n){var r=U.T;U.T=null;var c=Y.p;try{Y.p=8,Ou(e,t,a,n)}finally{Y.p=c,U.T=r}}function Ou(e,t,a,n){if(Pl){var r=Au(n);if(r===null)yu(e,t,n,Wl,a),Jh(e,n);else if($m(r,e,t,a,n))n.stopPropagation();else if(Jh(e,n),t&4&&-1<Lm.indexOf(e)){for(;r!==null;){var c=Dn(r);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var h=oa(c.pendingLanes);if(h!==0){var v=c;for(v.pendingLanes|=2,v.entangledLanes|=2;h;){var _=1<<31-_t(h);v.entanglements[1]|=_,h&=~_}la(c),(Ue&6)===0&&(zl=pt()+500,pi(0))}}break;case 13:v=Qn(c,2),v!==null&&zt(v,c,2),$l(),Cu(c,2)}if(c=Au(n),c===null&&yu(e,t,n,Wl,a),c===r)break;r=c}r!==null&&n.stopPropagation()}else yu(e,t,n,null,a)}}function Au(e){return e=Ur(e),Nu(e)}var Wl=null;function Nu(e){if(Wl=null,e=kn(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Wl=e,null}function Zh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ki()){case Vi:return 2;case Xi:return 8;case sn:case Qi:return 32;case Ii:return 268435456;default:return 32}default:return 32}}var Ru=!1,Qa=null,Ia=null,Za=null,ji=new Map,Ci=new Map,Ja=[],Lm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jh(e,t){switch(e){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ci.delete(t.pointerId)}}function Oi(e,t,a,n,r,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:c,targetContainers:[r]},t!==null&&(t=Dn(t),t!==null&&Ih(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function $m(e,t,a,n,r){switch(t){case"focusin":return Qa=Oi(Qa,e,t,a,n,r),!0;case"dragenter":return Ia=Oi(Ia,e,t,a,n,r),!0;case"mouseover":return Za=Oi(Za,e,t,a,n,r),!0;case"pointerover":var c=r.pointerId;return ji.set(c,Oi(ji.get(c)||null,e,t,a,n,r)),!0;case"gotpointercapture":return c=r.pointerId,Ci.set(c,Oi(Ci.get(c)||null,e,t,a,n,r)),!0}return!1}function Fh(e){var t=kn(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,Aa(e.priority,function(){if(a.tag===13){var n=Dt();n=Qt(n);var r=Qn(a,n);r!==null&&zt(r,a,n),Cu(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function er(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Au(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Mr=n,a.target.dispatchEvent(n),Mr=null}else return t=Dn(a),t!==null&&Ih(t),e.blockedOn=a,!1;t.shift()}return!0}function Ph(e,t,a){er(e)&&a.delete(t)}function qm(){Ru=!1,Qa!==null&&er(Qa)&&(Qa=null),Ia!==null&&er(Ia)&&(Ia=null),Za!==null&&er(Za)&&(Za=null),ji.forEach(Ph),Ci.forEach(Ph)}function tr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ru||(Ru=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,qm)))}var ar=null;function Wh(e){ar!==e&&(ar=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){ar===e&&(ar=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],r=e[t+2];if(typeof n!="function"){if(Nu(n||a)===null)continue;break}var c=Dn(a);c!==null&&(e.splice(t,3),t-=3,No(c,{pending:!0,data:r,method:a.method,action:n},n,r))}}))}function Ai(e){function t(_){return tr(_,e)}Qa!==null&&tr(Qa,e),Ia!==null&&tr(Ia,e),Za!==null&&tr(Za,e),ji.forEach(t),Ci.forEach(t);for(var a=0;a<Ja.length;a++){var n=Ja[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Ja.length&&(a=Ja[0],a.blockedOn===null);)Fh(a),a.blockedOn===null&&Ja.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var r=a[n],c=a[n+1],h=r[dt]||null;if(typeof c=="function")h||Wh(a);else if(h){var v=null;if(c&&c.hasAttribute("formAction")){if(r=c,h=c[dt]||null)v=h.formAction;else if(Nu(r)!==null)continue}else v=h.action;typeof v=="function"?a[n+1]=v:(a.splice(n,3),n-=3),Wh(a)}}}function Mu(e){this._internalRoot=e}nr.prototype.render=Mu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,n=Dt();Xh(a,n,e,t,null,null)},nr.prototype.unmount=Mu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xh(e.current,2,null,e,null,null),$l(),t[Un]=null}};function nr(e){this._internalRoot=e}nr.prototype.unstable_scheduleHydration=function(e){if(e){var t=ua();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ja.length&&t!==0&&t<Ja[a].priority;a++);Ja.splice(a,0,e),a===0&&Fh(e)}};var eg=s.version;if(eg!=="19.1.1")throw Error(l(527,eg,"19.1.1"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Bm={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sr.isDisabled&&sr.supportsFiber)try{ln=sr.inject(Bm),bt=sr}catch{}}return Ri.createRoot=function(e,t){if(!u(e))throw Error(l(299));var a=!1,n="",r=mf,c=vf,h=pf,v=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(v=t.unstable_transitionCallbacks)),t=Kh(e,1,!1,null,null,a,n,r,c,h,v,null),e[Un]=t.current,gu(e),new Mu(t)},Ri.hydrateRoot=function(e,t,a){if(!u(e))throw Error(l(299));var n=!1,r="",c=mf,h=vf,v=pf,_=null,C=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(_=a.unstable_transitionCallbacks),a.formState!==void 0&&(C=a.formState)),t=Kh(e,1,!0,t,a??null,n,r,c,h,v,_,C),t.context=Vh(null),a=t.current,n=Dt(),n=Qt(n),r=Ua(n),r.callback=null,ka(a,r,n),a=n,t.current.lanes=a,Fe(t,a),la(t),e[Un]=t.current,gu(e),new nr(t)},Ri.version="19.1.1",Ri}var cg;function Pm(){if(cg)return Du.exports;cg=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(s){console.error(s)}}return o(),Du.exports=Fm(),Du.exports}var Wm=Pm();/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tv=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,i,l)=>l?l.toUpperCase():i.toLowerCase()),dg=o=>{const s=tv(o);return s.charAt(0).toUpperCase()+s.slice(1)},a0=(...o)=>o.filter((s,i,l)=>!!s&&s.trim()!==""&&l.indexOf(s)===i).join(" ").trim(),av=o=>{for(const s in o)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=Z.forwardRef(({color:o="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:u="",children:d,iconNode:f,...y},p)=>Z.createElement("svg",{ref:p,...nv,width:s,height:s,stroke:o,strokeWidth:l?Number(i)*24/Number(s):i,className:a0("lucide",u),...!d&&!av(y)&&{"aria-hidden":"true"},...y},[...f.map(([m,b])=>Z.createElement(m,b)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(o,s)=>{const i=Z.forwardRef(({className:l,...u},d)=>Z.createElement(sv,{ref:d,iconNode:s,className:a0(`lucide-${ev(dg(o))}`,`lucide-${o}`,l),...u}));return i.displayName=dg(o),i};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Iu=Ge("brain",iv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],n0=Ge("calendar",lv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],dr=Ge("check",rv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],uc=Ge("chevron-down",ov);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cv=Ge("chevron-right",uv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fv=Ge("circle-check-big",dv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gv=Ge("circle",hv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fg=Ge("clock",yv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],vv=Ge("hash",mv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bv=Ge("log-out",pv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],wv=Ge("moon",_v);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],fr=Ge("pen-line",xv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],s0=Ge("plus",Sv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Tv=Ge("refresh-cw",Ev);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qu=Ge("search",jv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],i0=Ge("settings",Cv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Av=Ge("smile",Ov);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Rv=Ge("sparkles",Nv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Uv=Ge("square-check-big",Mv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Dv=Ge("square",kv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Lv=Ge("sun",zv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hr=Ge("trash-2",$v);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hg=Ge("user",qv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Us=Ge("x",Bv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Gv=Ge("zap",Hv);var gg;(function(o){o.STRING="string",o.NUMBER="number",o.INTEGER="integer",o.BOOLEAN="boolean",o.ARRAY="array",o.OBJECT="object"})(gg||(gg={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yg;(function(o){o.LANGUAGE_UNSPECIFIED="language_unspecified",o.PYTHON="python"})(yg||(yg={}));var mg;(function(o){o.OUTCOME_UNSPECIFIED="outcome_unspecified",o.OUTCOME_OK="outcome_ok",o.OUTCOME_FAILED="outcome_failed",o.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(mg||(mg={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=["user","model","function","system"];var pg;(function(o){o.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",o.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",o.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",o.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",o.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(pg||(pg={}));var bg;(function(o){o.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE"})(bg||(bg={}));var _g;(function(o){o.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"})(_g||(_g={}));var wg;(function(o){o.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER"})(wg||(wg={}));var Ui;(function(o){o.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.LANGUAGE="LANGUAGE",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.SPII="SPII",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.OTHER="OTHER"})(Ui||(Ui={}));var xg;(function(o){o.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",o.RETRIEVAL_QUERY="RETRIEVAL_QUERY",o.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",o.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",o.CLASSIFICATION="CLASSIFICATION",o.CLUSTERING="CLUSTERING"})(xg||(xg={}));var Sg;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.AUTO="AUTO",o.ANY="ANY",o.NONE="NONE"})(Sg||(Sg={}));var Eg;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(Eg||(Eg={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt extends Error{constructor(s){super(`[GoogleGenerativeAI Error]: ${s}`)}}class ps extends vt{constructor(s,i){super(s),this.response=i}}class l0 extends vt{constructor(s,i,l,u){super(s),this.status=i,this.statusText=l,this.errorDetails=u}}class an extends vt{}class r0 extends vt{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="https://generativelanguage.googleapis.com",Kv="v1beta",Vv="0.24.1",Xv="genai-js";var On;(function(o){o.GENERATE_CONTENT="generateContent",o.STREAM_GENERATE_CONTENT="streamGenerateContent",o.COUNT_TOKENS="countTokens",o.EMBED_CONTENT="embedContent",o.BATCH_EMBED_CONTENTS="batchEmbedContents"})(On||(On={}));class Qv{constructor(s,i,l,u,d){this.model=s,this.task=i,this.apiKey=l,this.stream=u,this.requestOptions=d}toString(){var s,i;const l=((s=this.requestOptions)===null||s===void 0?void 0:s.apiVersion)||Kv;let d=`${((i=this.requestOptions)===null||i===void 0?void 0:i.baseUrl)||Yv}/${l}/${this.model}:${this.task}`;return this.stream&&(d+="?alt=sse"),d}}function Iv(o){const s=[];return o?.apiClient&&s.push(o.apiClient),s.push(`${Xv}/${Vv}`),s.join(" ")}async function Zv(o){var s;const i=new Headers;i.append("Content-Type","application/json"),i.append("x-goog-api-client",Iv(o.requestOptions)),i.append("x-goog-api-key",o.apiKey);let l=(s=o.requestOptions)===null||s===void 0?void 0:s.customHeaders;if(l){if(!(l instanceof Headers))try{l=new Headers(l)}catch(u){throw new an(`unable to convert customHeaders value ${JSON.stringify(l)} to Headers: ${u.message}`)}for(const[u,d]of l.entries()){if(u==="x-goog-api-key")throw new an(`Cannot set reserved header name ${u}`);if(u==="x-goog-api-client")throw new an(`Header name ${u} can only be set using the apiClient field`);i.append(u,d)}}return i}async function Jv(o,s,i,l,u,d){const f=new Qv(o,s,i,l,d);return{url:f.toString(),fetchOptions:Object.assign(Object.assign({},ep(d)),{method:"POST",headers:await Zv(f),body:u})}}async function Bi(o,s,i,l,u,d={},f=fetch){const{url:y,fetchOptions:p}=await Jv(o,s,i,l,u,d);return Fv(y,p,f)}async function Fv(o,s,i=fetch){let l;try{l=await i(o,s)}catch(u){Pv(u,o)}return l.ok||await Wv(l,o),l}function Pv(o,s){let i=o;throw i.name==="AbortError"?(i=new r0(`Request aborted when fetching ${s.toString()}: ${o.message}`),i.stack=o.stack):o instanceof l0||o instanceof an||(i=new vt(`Error fetching from ${s.toString()}: ${o.message}`),i.stack=o.stack),i}async function Wv(o,s){let i="",l;try{const u=await o.json();i=u.error.message,u.error.details&&(i+=` ${JSON.stringify(u.error.details)}`,l=u.error.details)}catch{}throw new l0(`Error fetching from ${s.toString()}: [${o.status} ${o.statusText}] ${i}`,o.status,o.statusText,l)}function ep(o){const s={};if(o?.signal!==void 0||o?.timeout>=0){const i=new AbortController;o?.timeout>=0&&setTimeout(()=>i.abort(),o.timeout),o?.signal&&o.signal.addEventListener("abort",()=>{i.abort()}),s.signal=i.signal}return s}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(o){return o.text=()=>{if(o.candidates&&o.candidates.length>0){if(o.candidates.length>1&&console.warn(`This response had ${o.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),cr(o.candidates[0]))throw new ps(`${en(o)}`,o);return tp(o)}else if(o.promptFeedback)throw new ps(`Text not available. ${en(o)}`,o);return""},o.functionCall=()=>{if(o.candidates&&o.candidates.length>0){if(o.candidates.length>1&&console.warn(`This response had ${o.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),cr(o.candidates[0]))throw new ps(`${en(o)}`,o);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Tg(o)[0]}else if(o.promptFeedback)throw new ps(`Function call not available. ${en(o)}`,o)},o.functionCalls=()=>{if(o.candidates&&o.candidates.length>0){if(o.candidates.length>1&&console.warn(`This response had ${o.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),cr(o.candidates[0]))throw new ps(`${en(o)}`,o);return Tg(o)}else if(o.promptFeedback)throw new ps(`Function call not available. ${en(o)}`,o)},o}function tp(o){var s,i,l,u;const d=[];if(!((i=(s=o.candidates)===null||s===void 0?void 0:s[0].content)===null||i===void 0)&&i.parts)for(const f of(u=(l=o.candidates)===null||l===void 0?void 0:l[0].content)===null||u===void 0?void 0:u.parts)f.text&&d.push(f.text),f.executableCode&&d.push("\n```"+f.executableCode.language+`
`+f.executableCode.code+"\n```\n"),f.codeExecutionResult&&d.push("\n```\n"+f.codeExecutionResult.output+"\n```\n");return d.length>0?d.join(""):""}function Tg(o){var s,i,l,u;const d=[];if(!((i=(s=o.candidates)===null||s===void 0?void 0:s[0].content)===null||i===void 0)&&i.parts)for(const f of(u=(l=o.candidates)===null||l===void 0?void 0:l[0].content)===null||u===void 0?void 0:u.parts)f.functionCall&&d.push(f.functionCall);if(d.length>0)return d}const ap=[Ui.RECITATION,Ui.SAFETY,Ui.LANGUAGE];function cr(o){return!!o.finishReason&&ap.includes(o.finishReason)}function en(o){var s,i,l;let u="";if((!o.candidates||o.candidates.length===0)&&o.promptFeedback)u+="Response was blocked",!((s=o.promptFeedback)===null||s===void 0)&&s.blockReason&&(u+=` due to ${o.promptFeedback.blockReason}`),!((i=o.promptFeedback)===null||i===void 0)&&i.blockReasonMessage&&(u+=`: ${o.promptFeedback.blockReasonMessage}`);else if(!((l=o.candidates)===null||l===void 0)&&l[0]){const d=o.candidates[0];cr(d)&&(u+=`Candidate was blocked due to ${d.finishReason}`,d.finishMessage&&(u+=`: ${d.finishMessage}`))}return u}function Li(o){return this instanceof Li?(this.v=o,this):new Li(o)}function np(o,s,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=i.apply(o,s||[]),u,d=[];return u={},f("next"),f("throw"),f("return"),u[Symbol.asyncIterator]=function(){return this},u;function f(T){l[T]&&(u[T]=function(A){return new Promise(function(M,q){d.push([T,A,M,q])>1||y(T,A)})})}function y(T,A){try{p(l[T](A))}catch(M){S(d[0][3],M)}}function p(T){T.value instanceof Li?Promise.resolve(T.value.v).then(m,b):S(d[0][2],T)}function m(T){y("next",T)}function b(T){y("throw",T)}function S(T,A){T(A),d.shift(),d.length&&y(d[0][0],d[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function sp(o){const s=o.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),i=rp(s),[l,u]=i.tee();return{stream:lp(l),response:ip(u)}}async function ip(o){const s=[],i=o.getReader();for(;;){const{done:l,value:u}=await i.read();if(l)return cc(op(s));s.push(u)}}function lp(o){return np(this,arguments,function*(){const i=o.getReader();for(;;){const{value:l,done:u}=yield Li(i.read());if(u)break;yield yield Li(cc(l))}})}function rp(o){const s=o.getReader();return new ReadableStream({start(l){let u="";return d();function d(){return s.read().then(({value:f,done:y})=>{if(y){if(u.trim()){l.error(new vt("Failed to parse stream"));return}l.close();return}u+=f;let p=u.match(jg),m;for(;p;){try{m=JSON.parse(p[1])}catch{l.error(new vt(`Error parsing JSON response: "${p[1]}"`));return}l.enqueue(m),u=u.substring(p[0].length),p=u.match(jg)}return d()}).catch(f=>{let y=f;throw y.stack=f.stack,y.name==="AbortError"?y=new r0("Request aborted when reading from the stream"):y=new vt("Error reading from the stream"),y})}}})}function op(o){const s=o[o.length-1],i={promptFeedback:s?.promptFeedback};for(const l of o){if(l.candidates){let u=0;for(const d of l.candidates)if(i.candidates||(i.candidates=[]),i.candidates[u]||(i.candidates[u]={index:u}),i.candidates[u].citationMetadata=d.citationMetadata,i.candidates[u].groundingMetadata=d.groundingMetadata,i.candidates[u].finishReason=d.finishReason,i.candidates[u].finishMessage=d.finishMessage,i.candidates[u].safetyRatings=d.safetyRatings,d.content&&d.content.parts){i.candidates[u].content||(i.candidates[u].content={role:d.content.role||"user",parts:[]});const f={};for(const y of d.content.parts)y.text&&(f.text=y.text),y.functionCall&&(f.functionCall=y.functionCall),y.executableCode&&(f.executableCode=y.executableCode),y.codeExecutionResult&&(f.codeExecutionResult=y.codeExecutionResult),Object.keys(f).length===0&&(f.text=""),i.candidates[u].content.parts.push(f)}u++}l.usageMetadata&&(i.usageMetadata=l.usageMetadata)}return i}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o0(o,s,i,l){const u=await Bi(s,On.STREAM_GENERATE_CONTENT,o,!0,JSON.stringify(i),l);return sp(u)}async function u0(o,s,i,l){const d=await(await Bi(s,On.GENERATE_CONTENT,o,!1,JSON.stringify(i),l)).json();return{response:cc(d)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(o){if(o!=null){if(typeof o=="string")return{role:"system",parts:[{text:o}]};if(o.text)return{role:"system",parts:[o]};if(o.parts)return o.role?o:{role:"system",parts:o.parts}}}function $i(o){let s=[];if(typeof o=="string")s=[{text:o}];else for(const i of o)typeof i=="string"?s.push({text:i}):s.push(i);return up(s)}function up(o){const s={role:"user",parts:[]},i={role:"function",parts:[]};let l=!1,u=!1;for(const d of o)"functionResponse"in d?(i.parts.push(d),u=!0):(s.parts.push(d),l=!0);if(l&&u)throw new vt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!l&&!u)throw new vt("No content is provided for sending chat message.");return l?s:i}function cp(o,s){var i;let l={model:s?.model,generationConfig:s?.generationConfig,safetySettings:s?.safetySettings,tools:s?.tools,toolConfig:s?.toolConfig,systemInstruction:s?.systemInstruction,cachedContent:(i=s?.cachedContent)===null||i===void 0?void 0:i.name,contents:[]};const u=o.generateContentRequest!=null;if(o.contents){if(u)throw new an("CountTokensRequest must have one of contents or generateContentRequest, not both.");l.contents=o.contents}else if(u)l=Object.assign(Object.assign({},l),o.generateContentRequest);else{const d=$i(o);l.contents=[d]}return{generateContentRequest:l}}function Cg(o){let s;return o.contents?s=o:s={contents:[$i(o)]},o.systemInstruction&&(s.systemInstruction=c0(o.systemInstruction)),s}function dp(o){return typeof o=="string"||Array.isArray(o)?{content:$i(o)}:o}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],fp={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function hp(o){let s=!1;for(const i of o){const{role:l,parts:u}=i;if(!s&&l!=="user")throw new vt(`First content should be with role 'user', got ${l}`);if(!vg.includes(l))throw new vt(`Each item should include role field. Got ${l} but valid roles are: ${JSON.stringify(vg)}`);if(!Array.isArray(u))throw new vt("Content should have 'parts' property with an array of Parts");if(u.length===0)throw new vt("Each Content should have at least one part");const d={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const y of u)for(const p of Og)p in y&&(d[p]+=1);const f=fp[l];for(const y of Og)if(!f.includes(y)&&d[y]>0)throw new vt(`Content with role '${l}' can't contain '${y}' part`);s=!0}}function Ag(o){var s;if(o.candidates===void 0||o.candidates.length===0)return!1;const i=(s=o.candidates[0])===null||s===void 0?void 0:s.content;if(i===void 0||i.parts===void 0||i.parts.length===0)return!1;for(const l of i.parts)if(l===void 0||Object.keys(l).length===0||l.text!==void 0&&l.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="SILENT_ERROR";class gp{constructor(s,i,l,u={}){this.model=i,this.params=l,this._requestOptions=u,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=s,l?.history&&(hp(l.history),this._history=l.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(s,i={}){var l,u,d,f,y,p;await this._sendPromise;const m=$i(s),b={safetySettings:(l=this.params)===null||l===void 0?void 0:l.safetySettings,generationConfig:(u=this.params)===null||u===void 0?void 0:u.generationConfig,tools:(d=this.params)===null||d===void 0?void 0:d.tools,toolConfig:(f=this.params)===null||f===void 0?void 0:f.toolConfig,systemInstruction:(y=this.params)===null||y===void 0?void 0:y.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,m]},S=Object.assign(Object.assign({},this._requestOptions),i);let T;return this._sendPromise=this._sendPromise.then(()=>u0(this._apiKey,this.model,b,S)).then(A=>{var M;if(Ag(A.response)){this._history.push(m);const q=Object.assign({parts:[],role:"model"},(M=A.response.candidates)===null||M===void 0?void 0:M[0].content);this._history.push(q)}else{const q=en(A.response);q&&console.warn(`sendMessage() was unsuccessful. ${q}. Inspect response object for details.`)}T=A}).catch(A=>{throw this._sendPromise=Promise.resolve(),A}),await this._sendPromise,T}async sendMessageStream(s,i={}){var l,u,d,f,y,p;await this._sendPromise;const m=$i(s),b={safetySettings:(l=this.params)===null||l===void 0?void 0:l.safetySettings,generationConfig:(u=this.params)===null||u===void 0?void 0:u.generationConfig,tools:(d=this.params)===null||d===void 0?void 0:d.tools,toolConfig:(f=this.params)===null||f===void 0?void 0:f.toolConfig,systemInstruction:(y=this.params)===null||y===void 0?void 0:y.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,m]},S=Object.assign(Object.assign({},this._requestOptions),i),T=o0(this._apiKey,this.model,b,S);return this._sendPromise=this._sendPromise.then(()=>T).catch(A=>{throw new Error(Ng)}).then(A=>A.response).then(A=>{if(Ag(A)){this._history.push(m);const M=Object.assign({},A.candidates[0].content);M.role||(M.role="model"),this._history.push(M)}else{const M=en(A);M&&console.warn(`sendMessageStream() was unsuccessful. ${M}. Inspect response object for details.`)}}).catch(A=>{A.message!==Ng&&console.error(A)}),T}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yp(o,s,i,l){return(await Bi(s,On.COUNT_TOKENS,o,!1,JSON.stringify(i),l)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mp(o,s,i,l){return(await Bi(s,On.EMBED_CONTENT,o,!1,JSON.stringify(i),l)).json()}async function vp(o,s,i,l){const u=i.requests.map(f=>Object.assign(Object.assign({},f),{model:s}));return(await Bi(s,On.BATCH_EMBED_CONTENTS,o,!1,JSON.stringify({requests:u}),l)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(s,i,l={}){this.apiKey=s,this._requestOptions=l,i.model.includes("/")?this.model=i.model:this.model=`models/${i.model}`,this.generationConfig=i.generationConfig||{},this.safetySettings=i.safetySettings||[],this.tools=i.tools,this.toolConfig=i.toolConfig,this.systemInstruction=c0(i.systemInstruction),this.cachedContent=i.cachedContent}async generateContent(s,i={}){var l;const u=Cg(s),d=Object.assign(Object.assign({},this._requestOptions),i);return u0(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(l=this.cachedContent)===null||l===void 0?void 0:l.name},u),d)}async generateContentStream(s,i={}){var l;const u=Cg(s),d=Object.assign(Object.assign({},this._requestOptions),i);return o0(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(l=this.cachedContent)===null||l===void 0?void 0:l.name},u),d)}startChat(s){var i;return new gp(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},s),this._requestOptions)}async countTokens(s,i={}){const l=cp(s,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),u=Object.assign(Object.assign({},this._requestOptions),i);return yp(this.apiKey,this.model,l,u)}async embedContent(s,i={}){const l=dp(s),u=Object.assign(Object.assign({},this._requestOptions),i);return mp(this.apiKey,this.model,l,u)}async batchEmbedContents(s,i={}){const l=Object.assign(Object.assign({},this._requestOptions),i);return vp(this.apiKey,this.model,s,l)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(s){this.apiKey=s}getGenerativeModel(s,i){if(!s.model)throw new vt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Rg(this.apiKey,s,i)}getGenerativeModelFromCachedContent(s,i,l){if(!s.name)throw new an("Cached content must contain a `name` field.");if(!s.model)throw new an("Cached content must contain a `model` field.");const u=["model","systemInstruction"];for(const f of u)if(i?.[f]&&s[f]&&i?.[f]!==s[f]){if(f==="model"){const y=i.model.startsWith("models/")?i.model.replace("models/",""):i.model,p=s.model.startsWith("models/")?s.model.replace("models/",""):s.model;if(y===p)continue}throw new an(`Different value for "${f}" specified in modelParams (${i[f]}) and cachedContent (${s[f]})`)}const d=Object.assign(Object.assign({},i),{model:s.model,tools:s.tools,toolConfig:s.toolConfig,systemInstruction:s.systemInstruction,cachedContent:s});return new Rg(this.apiKey,d,l)}}const bp="AIzaSyDlIwXIVkpWD3COHVngvkPZAqLNX5uYp-M",_p=new pp(bp),wp=_p.getGenerativeModel({model:"gemini-2.5-pro",generationConfig:{responseMimeType:"application/json"}}),xp=async(o,s=[],i=[])=>{if(!o.trim())throw new Error("텍스트를 입력해주세요");const l=new Date,u=l.toISOString().split("T")[0],d=new Date(l);d.setDate(d.getDate()+1);const f=d.toISOString().split("T")[0],y=new Date(l);y.setDate(l.getDate()+(7-l.getDay()+1)%7||7);const p=y.toISOString().split("T")[0],m=s.length>0?s.join(", "):"업무, 개인, 건강, 쇼핑, 학습",b=i.length>0?i.map(M=>`${M.category}: ${M.subcategories.map(q=>q.name).join(", ")}`).join(`
`):`업무: 회의, 프로젝트, 리포트
개인: 취미, 가족, 자기계발
건강: 운동, 식단, 의료
쇼핑: 생필품, 의류, 전자제품
학습: 온라인강의, 독서, 시험준비`,S=`
오늘 날짜: ${u}
내일 날짜: ${f}
다음 주 월요일: ${p}

다음 텍스트에서 할 일(TODO)들을 추출해서 JSON 형식으로 반환해주세요.

응답 형식:
{
  "todos": [
    {
      "title": "할 일 제목",
      "dueDate": "YYYY-MM-DD (선택사항, 날짜가 명확하지 않으면 null)",
      "category": "카테고리명 (선택사항, 추론 불가능하면 null)",
      "subcategory": "서브카테고리명 (선택사항, 해당 카테고리에 맞는 서브카테고리가 있으면 추론)",
      "confidence": 0.9 (0.0-1.0, 카테고리/서브카테고리/날짜 추론의 확신도)
    }
  ],
  "summary": "추출된 할 일들에 대한 간단한 요약"
}

사용 가능한 카테고리: ${m}

사용 가능한 서브카테고리:
${b}

규칙:
1. 명령형 문장, "해야 할", "필요한" 등의 표현에서 할 일 추출
2. 나열된 항목들 (-, *, 1., 2. 등)에서 할 일 추출
3. 날짜/시간 표현 정확히 해석:
   - "내일" → ${f}
   - "다음 주" → ${p}
   - "월요일" → 다음 월요일 계산
   - "12월 25일" → 연도 추가하여 완전한 날짜로
   - 애매한 표현("나중에", "언젠가")은 null
4. 카테고리 및 서브카테고리 추론:
   - 먼저 적절한 카테고리 판단
   - 해당 카테고리에 서브카테고리가 있으면 더 구체적으로 분류
   - 예: "팀 회의" → category: "업무", subcategory: "회의"
   - 예: "헬스장 가기" → category: "건강", subcategory: "운동"
   - 예: "책 주문" → category: "쇼핑", subcategory: "온라인강의" (아니면 null)
5. 서브카테고리 추론 규칙:
   - 회의: 미팅, 회의, 발표, 논의 관련
   - 프로젝트: 개발, 기획, 설계, 프로젝트 관련
   - 리포트: 보고서, 문서, 작성, 정리 관련
   - 운동: 헬스, 러닝, 요가, 체육 관련
   - 식단: 요리, 음식, 다이어트, 영양 관련
   - 의료: 병원, 치료, 약, 건강검진 관련
6. 중복되거나 유사한 할 일은 하나로 통합
7. 너무 모호한 내용은 제외

텍스트:
${o}
`,T=3;let A;for(let M=1;M<=T;M++)try{const W=(await wp.generateContent(S)).response.text();return JSON.parse(W)}catch(q){A=q,console.error(`Gemini API Error (attempt ${M}/${T}):`,q);const H=q.message?.includes("503")||q.message?.includes("overloaded")||q.message?.includes("429")||q.message?.includes("quota");if(M<T&&H){const W=Math.pow(2,M-1)*1e3;console.log(`${W}ms 후 재시도합니다...`),await new Promise(re=>setTimeout(re,W));continue}break}throw A.message?.includes("503")||A.message?.includes("overloaded")?new Error("AI 서버가 현재 과부하 상태입니다. 잠시 후 다시 시도해주세요."):A.message?.includes("429")||A.message?.includes("quota")?new Error("API 사용량을 초과했습니다. 잠시 후 다시 시도해주세요."):A.message?.includes("401")||A.message?.includes("403")?new Error("API 키가 유효하지 않습니다. 설정을 확인해주세요."):new Error("AI 분석 중 오류가 발생했습니다. 네트워크 연결을 확인해주세요.")},Sp="modulepreload",Ep=function(o){return"/"+o},Mg={},Hi=function(s,i,l){let u=Promise.resolve();if(i&&i.length>0){let m=function(b){return Promise.all(b.map(S=>Promise.resolve(S).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};var f=m;document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),p=y?.nonce||y?.getAttribute("nonce");u=m(i.map(b=>{if(b=Ep(b),b in Mg)return;Mg[b]=!0;const S=b.endsWith(".css"),T=S?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${T}`))return;const A=document.createElement("link");if(A.rel=S?"stylesheet":Sp,S||(A.as="script"),A.crossOrigin="",A.href=b,p&&A.setAttribute("nonce",p),document.head.appendChild(A),S)return new Promise((M,q)=>{A.addEventListener("load",M),A.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${b}`)))})}))}function d(y){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=y,window.dispatchEvent(p),!p.defaultPrevented)throw y}return u.then(y=>{for(const p of y||[])p.status==="rejected"&&d(p.reason);return s().catch(d)})},Tp=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...i)=>Hi(async()=>{const{default:l}=await Promise.resolve().then(()=>Ds);return{default:l}},void 0).then(({default:l})=>l(...i)):s=fetch,(...i)=>s(...i)};class dc extends Error{constructor(s,i="FunctionsError",l){super(s),this.name=i,this.context=l}}class jp extends dc{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class Ug extends dc{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class kg extends dc{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var Zu;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(Zu||(Zu={}));var Cp=function(o,s,i,l){function u(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function y(b){try{m(l.next(b))}catch(S){f(S)}}function p(b){try{m(l.throw(b))}catch(S){f(S)}}function m(b){b.done?d(b.value):u(b.value).then(y,p)}m((l=l.apply(o,s||[])).next())})};class Op{constructor(s,{headers:i={},customFetch:l,region:u=Zu.Any}={}){this.url=s,this.headers=i,this.region=u,this.fetch=Tp(l)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s,i={}){var l;return Cp(this,void 0,void 0,function*(){try{const{headers:u,method:d,body:f}=i;let y={},{region:p}=i;p||(p=this.region);const m=new URL(`${this.url}/${s}`);p&&p!=="any"&&(y["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let b;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",b=f):typeof f=="string"?(y["Content-Type"]="text/plain",b=f):typeof FormData<"u"&&f instanceof FormData?b=f:(y["Content-Type"]="application/json",b=JSON.stringify(f)));const S=yield this.fetch(m.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),u),body:b}).catch(q=>{throw new jp(q)}),T=S.headers.get("x-relay-error");if(T&&T==="true")throw new Ug(S);if(!S.ok)throw new kg(S);let A=((l=S.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),M;return A==="application/json"?M=yield S.json():A==="application/octet-stream"?M=yield S.blob():A==="text/event-stream"?M=S:A==="multipart/form-data"?M=yield S.formData():M=yield S.text(),{data:M,error:null,response:S}}catch(u){return{data:null,error:u,response:u instanceof kg||u instanceof Ug?u.context:void 0}}})}}var ct={},bs={},_s={},ws={},xs={},Ss={},Ap=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ks=Ap();const Np=ks.fetch,d0=ks.fetch.bind(ks),f0=ks.Headers,Rp=ks.Request,Mp=ks.Response,Ds=Object.freeze(Object.defineProperty({__proto__:null,Headers:f0,Request:Rp,Response:Mp,default:d0,fetch:Np},Symbol.toStringTag,{value:"Module"})),Up=Ym(Ds);var ir={},Dg;function h0(){if(Dg)return ir;Dg=1,Object.defineProperty(ir,"__esModule",{value:!0});class o extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return ir.default=o,ir}var zg;function g0(){if(zg)return Ss;zg=1;var o=Ss&&Ss.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Ss,"__esModule",{value:!0});const s=o(Up),i=o(h0());class l{constructor(d){var f,y;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(f=d.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=d.signal,this.isMaybeSingle=(y=d.isMaybeSingle)!==null&&y!==void 0?y:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,f){return this.headers=new Headers(this.headers),this.headers.set(d,f),this}then(d,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const y=this.fetch;let p=y(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var b,S,T,A;let M=null,q=null,H=null,W=m.status,re=m.statusText;if(m.ok){if(this.method!=="HEAD"){const ee=await m.text();ee===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((b=this.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?q=ee:q=JSON.parse(ee))}const Q=(S=this.headers.get("Prefer"))===null||S===void 0?void 0:S.match(/count=(exact|planned|estimated)/),$=(T=m.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");Q&&$&&$.length>1&&(H=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(q)&&(q.length>1?(M={code:"PGRST116",details:`Results contain ${q.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},q=null,H=null,W=406,re="Not Acceptable"):q.length===1?q=q[0]:q=null)}else{const Q=await m.text();try{M=JSON.parse(Q),Array.isArray(M)&&m.status===404&&(q=[],M=null,W=200,re="OK")}catch{m.status===404&&Q===""?(W=204,re="No Content"):M={message:Q}}if(M&&this.isMaybeSingle&&(!((A=M?.details)===null||A===void 0)&&A.includes("0 rows"))&&(M=null,W=200,re="OK"),M&&this.shouldThrowOnError)throw new i.default(M)}return{error:M,data:q,count:H,status:W,statusText:re}});return this.shouldThrowOnError||(p=p.catch(m=>{var b,S,T;return{error:{message:`${(b=m?.name)!==null&&b!==void 0?b:"FetchError"}: ${m?.message}`,details:`${(S=m?.stack)!==null&&S!==void 0?S:""}`,hint:"",code:`${(T=m?.code)!==null&&T!==void 0?T:""}`},data:null,count:null,status:0,statusText:""}})),p.then(d,f)}returns(){return this}overrideTypes(){return this}}return Ss.default=l,Ss}var Lg;function y0(){if(Lg)return xs;Lg=1;var o=xs&&xs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(xs,"__esModule",{value:!0});const s=o(g0());class i extends s.default{select(u){let d=!1;const f=(u??"*").split("").map(y=>/\s/.test(y)&&!d?"":(y==='"'&&(d=!d),y)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:d=!0,nullsFirst:f,foreignTable:y,referencedTable:p=y}={}){const m=p?`${p}.order`:"order",b=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${b?`${b},`:""}${u}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:d,referencedTable:f=d}={}){const y=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(y,`${u}`),this}range(u,d,{foreignTable:f,referencedTable:y=f}={}){const p=typeof y>"u"?"offset":`${y}.offset`,m=typeof y>"u"?"limit":`${y}.limit`;return this.url.searchParams.set(p,`${u}`),this.url.searchParams.set(m,`${d-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:d=!1,settings:f=!1,buffers:y=!1,wal:p=!1,format:m="text"}={}){var b;const S=[u?"analyze":null,d?"verbose":null,f?"settings":null,y?"buffers":null,p?"wal":null].filter(Boolean).join("|"),T=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${T}"; options=${S};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return xs.default=i,xs}var $g;function fc(){if($g)return ws;$g=1;var o=ws&&ws.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ws,"__esModule",{value:!0});const s=o(y0());class i extends s.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}in(u,d){const f=Array.from(new Set(d)).map(y=>typeof y=="string"&&new RegExp("[,()]").test(y)?`"${y}"`:`${y}`).join(",");return this.url.searchParams.append(u,`in.(${f})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:f,type:y}={}){let p="";y==="plain"?p="pl":y==="phrase"?p="ph":y==="websearch"&&(p="w");const m=f===void 0?"":`(${f})`;return this.url.searchParams.append(u,`${p}fts${m}.${d}`),this}match(u){return Object.entries(u).forEach(([d,f])=>{this.url.searchParams.append(d,`eq.${f}`)}),this}not(u,d,f){return this.url.searchParams.append(u,`not.${d}.${f}`),this}or(u,{foreignTable:d,referencedTable:f=d}={}){const y=f?`${f}.or`:"or";return this.url.searchParams.append(y,`(${u})`),this}filter(u,d,f){return this.url.searchParams.append(u,`${d}.${f}`),this}}return ws.default=i,ws}var qg;function m0(){if(qg)return _s;qg=1;var o=_s&&_s.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(_s,"__esModule",{value:!0});const s=o(fc());class i{constructor(u,{headers:d={},schema:f,fetch:y}){this.url=u,this.headers=new Headers(d),this.schema=f,this.fetch=y}select(u,{head:d=!1,count:f}={}){const y=d?"HEAD":"GET";let p=!1;const m=(u??"*").split("").map(b=>/\s/.test(b)&&!p?"":(b==='"'&&(p=!p),b)).join("");return this.url.searchParams.set("select",m),f&&this.headers.append("Prefer",`count=${f}`),new s.default({method:y,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:d,defaultToNull:f=!0}={}){var y;const p="POST";if(d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const m=u.reduce((b,S)=>b.concat(Object.keys(S)),[]);if(m.length>0){const b=[...new Set(m)].map(S=>`"${S}"`);this.url.searchParams.set("columns",b.join(","))}}return new s.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}upsert(u,{onConflict:d,ignoreDuplicates:f=!1,count:y,defaultToNull:p=!0}={}){var m;const b="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),y&&this.headers.append("Prefer",`count=${y}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const S=u.reduce((T,A)=>T.concat(Object.keys(A)),[]);if(S.length>0){const T=[...new Set(S)].map(A=>`"${A}"`);this.url.searchParams.set("columns",T.join(","))}}return new s.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(u,{count:d}={}){var f;const y="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new s.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:u}={}){var d;const f="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new s.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return _s.default=i,_s}var Bg;function kp(){if(Bg)return bs;Bg=1;var o=bs&&bs.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(bs,"__esModule",{value:!0});const s=o(m0()),i=o(fc());class l{constructor(d,{headers:f={},schema:y,fetch:p}={}){this.url=d,this.headers=new Headers(f),this.schemaName=y,this.fetch=p}from(d){const f=new URL(`${this.url}/${d}`);return new s.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new l(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:y=!1,get:p=!1,count:m}={}){var b;let S;const T=new URL(`${this.url}/rpc/${d}`);let A;y||p?(S=y?"HEAD":"GET",Object.entries(f).filter(([q,H])=>H!==void 0).map(([q,H])=>[q,Array.isArray(H)?`{${H.join(",")}}`:`${H}`]).forEach(([q,H])=>{T.searchParams.append(q,H)})):(S="POST",A=f);const M=new Headers(this.headers);return m&&M.set("Prefer",`count=${m}`),new i.default({method:S,url:T,headers:M,schema:this.schemaName,body:A,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}}return bs.default=l,bs}var Hg;function Dp(){if(Hg)return ct;Hg=1;var o=ct&&ct.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(ct,"__esModule",{value:!0}),ct.PostgrestError=ct.PostgrestBuilder=ct.PostgrestTransformBuilder=ct.PostgrestFilterBuilder=ct.PostgrestQueryBuilder=ct.PostgrestClient=void 0;const s=o(kp());ct.PostgrestClient=s.default;const i=o(m0());ct.PostgrestQueryBuilder=i.default;const l=o(fc());ct.PostgrestFilterBuilder=l.default;const u=o(y0());ct.PostgrestTransformBuilder=u.default;const d=o(g0());ct.PostgrestBuilder=d.default;const f=o(h0());return ct.PostgrestError=f.default,ct.default={PostgrestClient:s.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:d.default,PostgrestError:f.default},ct}var zp=Dp();const Lp=Gm(zp),{PostgrestClient:$p,PostgrestQueryBuilder:K_,PostgrestFilterBuilder:V_,PostgrestTransformBuilder:X_,PostgrestBuilder:Q_,PostgrestError:I_}=Lp;class qp{static detectEnvironment(){var s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((s=navigator.userAgent)===null||s===void 0)&&s.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const l=i.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const s=this.detectEnvironment();if(s.constructor)return s.constructor;let i=s.error||"WebSocket not supported in this environment.";throw s.workaround&&(i+=`

Suggested solution: ${s.workaround}`),new Error(i)}static createWebSocket(s,i){const l=this.getWebSocketConstructor();return new l(s,i)}static isWebSocketSupported(){try{const s=this.detectEnvironment();return s.type==="native"||s.type==="ws"}catch{return!1}}}const Bp="2.15.5",Hp=`realtime-js/${Bp}`,Gp="1.0.0",Ju=1e4,Yp=1e3,Kp=100;var ki;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(ki||(ki={}));var nt;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(nt||(nt={}));var Pt;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(Pt||(Pt={}));var Fu;(function(o){o.websocket="websocket"})(Fu||(Fu={}));var Cn;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(Cn||(Cn={}));class Vp{constructor(){this.HEADER_LENGTH=1}decode(s,i){return s.constructor===ArrayBuffer?i(this._binaryDecode(s)):i(typeof s=="string"?JSON.parse(s):{})}_binaryDecode(s){const i=new DataView(s),l=new TextDecoder;return this._decodeBroadcast(s,i,l)}_decodeBroadcast(s,i,l){const u=i.getUint8(1),d=i.getUint8(2);let f=this.HEADER_LENGTH+2;const y=l.decode(s.slice(f,f+u));f=f+u;const p=l.decode(s.slice(f,f+d));f=f+d;const m=JSON.parse(l.decode(s.slice(f,s.byteLength)));return{ref:null,topic:y,event:p,payload:m}}}class v0{constructor(s,i){this.callback=s,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(He||(He={}));const Gg=(o,s,i={})=>{var l;const u=(l=i.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(s).reduce((d,f)=>(d[f]=Xp(f,o,s,u),d),{})},Xp=(o,s,i,l)=>{const u=s.find(y=>y.name===o),d=u?.type,f=i[o];return d&&!l.includes(d)?p0(d,f):Pu(f)},p0=(o,s)=>{if(o.charAt(0)==="_"){const i=o.slice(1,o.length);return Jp(s,i)}switch(o){case He.bool:return Qp(s);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return Ip(s);case He.json:case He.jsonb:return Zp(s);case He.timestamp:return Fp(s);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return Pu(s);default:return Pu(s)}},Pu=o=>o,Qp=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},Ip=o=>{if(typeof o=="string"){const s=parseFloat(o);if(!Number.isNaN(s))return s}return o},Zp=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(s){return console.log(`JSON parse error: ${s}`),o}return o},Jp=(o,s)=>{if(typeof o!="string")return o;const i=o.length-1,l=o[i];if(o[0]==="{"&&l==="}"){let d;const f=o.slice(1,i);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(y=>p0(s,y))}return o},Fp=o=>typeof o=="string"?o.replace(" ","T"):o,b0=o=>{let s=o;return s=s.replace(/^ws/i,"http"),s=s.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),s.replace(/\/+$/,"")+"/api/broadcast"};class Bu{constructor(s,i,l={},u=Ju){this.channel=s,this.event=i,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,i){var l;return this._hasReceived(s)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:s,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:i}){this.recHooks.filter(l=>l.status===s).forEach(l=>l.callback(i))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var Yg;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(Yg||(Yg={}));class Di{constructor(s,i){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:d,onLeave:f,onSync:y}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Di.syncState(this.state,u,d,f),this.pendingDiffs.forEach(p=>{this.state=Di.syncDiff(this.state,p,d,f)}),this.pendingDiffs=[],y()}),this.channel._on(l.diff,{},u=>{const{onJoin:d,onLeave:f,onSync:y}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Di.syncDiff(this.state,u,d,f),y())}),this.onJoin((u,d,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:f})}),this.onLeave((u,d,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,i,l,u){const d=this.cloneDeep(s),f=this.transformState(i),y={},p={};return this.map(d,(m,b)=>{f[m]||(p[m]=b)}),this.map(f,(m,b)=>{const S=d[m];if(S){const T=b.map(H=>H.presence_ref),A=S.map(H=>H.presence_ref),M=b.filter(H=>A.indexOf(H.presence_ref)<0),q=S.filter(H=>T.indexOf(H.presence_ref)<0);M.length>0&&(y[m]=M),q.length>0&&(p[m]=q)}else y[m]=b}),this.syncDiff(d,{joins:y,leaves:p},l,u)}static syncDiff(s,i,l,u){const{joins:d,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(d,(y,p)=>{var m;const b=(m=s[y])!==null&&m!==void 0?m:[];if(s[y]=this.cloneDeep(p),b.length>0){const S=s[y].map(A=>A.presence_ref),T=b.filter(A=>S.indexOf(A.presence_ref)<0);s[y].unshift(...T)}l(y,b,p)}),this.map(f,(y,p)=>{let m=s[y];if(!m)return;const b=p.map(S=>S.presence_ref);m=m.filter(S=>b.indexOf(S.presence_ref)<0),s[y]=m,u(y,m,p),m.length===0&&delete s[y]}),s}static map(s,i){return Object.getOwnPropertyNames(s).map(l=>i(l,s[l]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((i,l)=>{const u=s[l];return"metas"in u?i[l]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[l]=u,i},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kg;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(Kg||(Kg={}));var zi;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(zi||(zi={}));var Ca;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(Ca||(Ca={}));class hc{constructor(s,i={config:{}},l){this.topic=s,this.params=i,this.socket=l,this.bindings={},this.state=nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Bu(this,Pt.join,this.params,this.timeout),this.rejoinTimer=new v0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=nt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pt.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Di(this),this.broadcastEndpointURL=b0(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(s,i=this.timeout){var l,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==nt.closed){const{config:{broadcast:f,presence:y,private:p}}=this.params,m=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(A=>A.filter))!==null&&u!==void 0?u:[],b=!!this.bindings[zi.PRESENCE]&&this.bindings[zi.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,S={},T={broadcast:f,presence:Object.assign(Object.assign({},y),{enabled:b}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(A=>s?.(Ca.CHANNEL_ERROR,A)),this._onClose(()=>s?.(Ca.CLOSED)),this.updateJoinPayload(Object.assign({config:T},S)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:A})=>{var M;if(this.socket.setAuth(),A===void 0){s?.(Ca.SUBSCRIBED);return}else{const q=this.bindings.postgres_changes,H=(M=q?.length)!==null&&M!==void 0?M:0,W=[];for(let re=0;re<H;re++){const G=q[re],{filter:{event:Q,schema:$,table:ee,filter:ye}}=G,me=A&&A[re];if(me&&me.event===Q&&me.schema===$&&me.table===ee&&me.filter===ye)W.push(Object.assign(Object.assign({},G),{id:me.id}));else{this.unsubscribe(),this.state=nt.errored,s?.(Ca.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=W,s&&s(Ca.SUBSCRIBED);return}}).receive("error",A=>{this.state=nt.errored,s?.(Ca.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{s?.(Ca.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,i={}){return await this.send({type:"presence",event:"track",payload:s},i.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,i,l){return this.state===nt.joined&&s===zi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(s,i,l)}async send(s,i={}){var l,u;if(!this._canPush()&&s.type==="broadcast"){const{event:d,payload:f}=s,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=m.body)===null||u===void 0?void 0:u.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,y,p;const m=this._push(s.type,s,i.timeout||this.timeout);s.type==="broadcast"&&!(!((p=(y=(f=this.params)===null||f===void 0?void 0:f.config)===null||y===void 0?void 0:y.broadcast)===null||p===void 0)&&p.ack)&&d("ok"),m.receive("ok",()=>d("ok")),m.receive("error",()=>d("error")),m.receive("timeout",()=>d("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=nt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new Bu(this,Pt.leave,{},s),l.receive("ok",()=>{i(),u("ok")}).receive("timeout",()=>{i(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=nt.closed,this.bindings={}}async _fetchWithTimeout(s,i,l){const u=new AbortController,d=setTimeout(()=>u.abort(),l),f=await this.socket.fetch(s,Object.assign(Object.assign({},i),{signal:u.signal}));return clearTimeout(d),f}_push(s,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Bu(this,s,i,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(s){if(s.startTimeout(),this.pushBuffer.push(s),this.pushBuffer.length>Kp){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(s,i,l){return i}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,i,l){var u,d;const f=s.toLocaleLowerCase(),{close:y,error:p,leave:m,join:b}=Pt;if(l&&[y,p,m,b].indexOf(f)>=0&&l!==this._joinRef())return;let T=this._onMessage(f,i,l);if(i&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(A=>{var M,q,H;return((M=A.filter)===null||M===void 0?void 0:M.event)==="*"||((H=(q=A.filter)===null||q===void 0?void 0:q.event)===null||H===void 0?void 0:H.toLocaleLowerCase())===f}).map(A=>A.callback(T,l)):(d=this.bindings[f])===null||d===void 0||d.filter(A=>{var M,q,H,W,re,G;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in A){const Q=A.id,$=(M=A.filter)===null||M===void 0?void 0:M.event;return Q&&((q=i.ids)===null||q===void 0?void 0:q.includes(Q))&&($==="*"||$?.toLocaleLowerCase()===((H=i.data)===null||H===void 0?void 0:H.type.toLocaleLowerCase()))}else{const Q=(re=(W=A?.filter)===null||W===void 0?void 0:W.event)===null||re===void 0?void 0:re.toLocaleLowerCase();return Q==="*"||Q===((G=i?.event)===null||G===void 0?void 0:G.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===f}).map(A=>{if(typeof T=="object"&&"ids"in T){const M=T.data,{schema:q,table:H,commit_timestamp:W,type:re,errors:G}=M;T=Object.assign(Object.assign({},{schema:q,table:H,commit_timestamp:W,eventType:re,new:{},old:{},errors:G}),this._getPayloadRecords(M))}A.callback(T,l)})}_isClosed(){return this.state===nt.closed}_isJoined(){return this.state===nt.joined}_isJoining(){return this.state===nt.joining}_isLeaving(){return this.state===nt.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,i,l){const u=s.toLocaleLowerCase(),d={type:u,filter:i,callback:l};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(s,i){const l=s.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&hc.isEqual(u.filter,i))})),this}static isEqual(s,i){if(Object.keys(s).length!==Object.keys(i).length)return!1;for(const l in s)if(s[l]!==i[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(Pt.close,{},s)}_onError(s){this._on(Pt.error,{},i=>s(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=nt.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const i={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(i.new=Gg(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(i.old=Gg(s.columns,s.old_record)),i}}const Hu=()=>{},lr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Pp=[1e3,2e3,5e3,1e4],Wp=1e4,eb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tb{constructor(s,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ju,this.transport=null,this.heartbeatIntervalMs=lr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hu,this.ref=0,this.reconnectTimer=null,this.logger=Hu,this.conn=null,this.sendBuffer=[],this.serializer=new Vp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>{let d;return u?d=u:typeof fetch>"u"?d=(...f)=>Hi(async()=>{const{default:y}=await Promise.resolve().then(()=>Ds);return{default:y}},void 0).then(({default:y})=>y(...f)).catch(y=>{throw new Error(`Failed to load @supabase/node-fetch: ${y.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...f)=>d(...f)},!(!((l=i?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${s}/${Fu.websocket}`,this.httpEndpoint=b0(s),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qp.createWebSocket(this.endpointURL())}catch(s){this._setConnectionState("disconnected");const i=s.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Gp}))}disconnect(s,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},s?this.conn.close(s,i??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(s){const i=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const s=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,i,l){this.logger(s,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case ki.connecting:return Cn.Connecting;case ki.open:return Cn.Open;case ki.closing:return Cn.Closing;default:return Cn.Closed}}isConnected(){return this.connectionState()===Cn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(s,i={config:{}}){const l=`realtime:${s}`,u=this.getChannels().find(d=>d.topic===l);if(u)return u;{const d=new hc(`realtime:${s}`,i,this);return this.channels.push(d),d}}push(s){const{topic:i,event:l,payload:u,ref:d}=s,f=()=>{this.encode(s,y=>{var p;(p=this.conn)===null||p===void 0||p.send(y)})};this.log("push",`${i} ${l} (${d})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(s=null){this._authPromise=this._performAuth(s);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var s;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(s=this.conn)===null||s===void 0||s.close(Yp,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},lr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let i=this.channels.find(l=>l.topic===s&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${s}"`),i.unsubscribe())}_remove(s){this.channels=this.channels.filter(i=>i.topic!==s.topic)}_onConnMessage(s){this.decode(s.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:u,payload:d,ref:f}=i,y=f?`(${f})`:"",p=d.status||"";this.log("receive",`${p} ${l} ${u} ${y}`.trim(),d),this.channels.filter(m=>m._isMember(l)).forEach(m=>m._trigger(u,d,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(s){var i;s==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):s==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(s=>s.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(s){var i;this._setConnectionState("disconnected"),this.log("transport","close",s),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",s)}_onConnError(s){this._setConnectionState("disconnected"),this.log("transport",`${s}`),this._triggerChanError(),this._triggerStateCallbacks("error",s)}_triggerChanError(){this.channels.forEach(s=>s._trigger(Pt.error))}_appendParams(s,i){if(Object.keys(i).length===0)return s;const l=s.match(/\?/)?"&":"?",u=new URLSearchParams(i);return`${s}${l}${u}`}_workerObjectUrl(s){let i;if(s)i=s;else{const l=new Blob([eb],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(s,i=!1){this._connectionState=s,s==="connecting"?this._wasManualDisconnect=!1:s==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(s=null){let i;s?i=s:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(l=>{const u={access_token:i,version:Hp};i&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(Pt.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(s="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${s}`,i)})}_triggerStateCallbacks(s,i){try{this.stateChangeCallbacks[s].forEach(l=>{try{l(i)}catch(u){this.log("error",`error in ${s} callback`,u)}})}catch(l){this.log("error",`error triggering ${s} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new v0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(s){var i,l,u,d,f,y,p,m,b;if(this.transport=(i=s?.transport)!==null&&i!==void 0?i:null,this.timeout=(l=s?.timeout)!==null&&l!==void 0?l:Ju,this.heartbeatIntervalMs=(u=s?.heartbeatIntervalMs)!==null&&u!==void 0?u:lr.HEARTBEAT_INTERVAL,this.worker=(d=s?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=s?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(y=s?.heartbeatCallback)!==null&&y!==void 0?y:Hu,s?.params&&(this.params=s.params),s?.logger&&(this.logger=s.logger),(s?.logLevel||s?.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=s?.reconnectAfterMs)!==null&&p!==void 0?p:(S=>Pp[S-1]||Wp),this.encode=(m=s?.encode)!==null&&m!==void 0?m:((S,T)=>T(JSON.stringify(S))),this.decode=(b=s?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=s?.workerUrl}}}class gc extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function st(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class ab extends gc{constructor(s,i,l){super(s),this.name="StorageApiError",this.status=i,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wu extends gc{constructor(s,i){super(s),this.name="StorageUnknownError",this.originalError=i}}var nb=function(o,s,i,l){function u(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function y(b){try{m(l.next(b))}catch(S){f(S)}}function p(b){try{m(l.throw(b))}catch(S){f(S)}}function m(b){b.done?d(b.value):u(b.value).then(y,p)}m((l=l.apply(o,s||[])).next())})};const _0=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...i)=>Hi(async()=>{const{default:l}=await Promise.resolve().then(()=>Ds);return{default:l}},void 0).then(({default:l})=>l(...i)):s=fetch,(...i)=>s(...i)},sb=()=>nb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Hi(()=>Promise.resolve().then(()=>Ds),void 0)).Response:Response}),ec=o=>{if(Array.isArray(o))return o.map(i=>ec(i));if(typeof o=="function"||o!==Object(o))return o;const s={};return Object.entries(o).forEach(([i,l])=>{const u=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));s[u]=ec(l)}),s},ib=o=>{if(typeof o!="object"||o===null)return!1;const s=Object.getPrototypeOf(o);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)};var An=function(o,s,i,l){function u(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function y(b){try{m(l.next(b))}catch(S){f(S)}}function p(b){try{m(l.throw(b))}catch(S){f(S)}}function m(b){b.done?d(b.value):u(b.value).then(y,p)}m((l=l.apply(o,s||[])).next())})};const Gu=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),lb=(o,s,i)=>An(void 0,void 0,void 0,function*(){const l=yield sb();o instanceof l&&!i?.noResolveJson?o.json().then(u=>{const d=o.status||500,f=u?.statusCode||d+"";s(new ab(Gu(u),d,f))}).catch(u=>{s(new Wu(Gu(u),u))}):s(new Wu(Gu(o),o))}),rb=(o,s,i,l)=>{const u={method:o,headers:s?.headers||{}};return o==="GET"||!l?u:(ib(l)?(u.headers=Object.assign({"Content-Type":"application/json"},s?.headers),u.body=JSON.stringify(l)):u.body=l,s?.duplex&&(u.duplex=s.duplex),Object.assign(Object.assign({},u),i))};function Gi(o,s,i,l,u,d){return An(this,void 0,void 0,function*(){return new Promise((f,y)=>{o(i,rb(s,l,u,d)).then(p=>{if(!p.ok)throw p;return l?.noResolveJson?p:p.json()}).then(p=>f(p)).catch(p=>lb(p,y,l))})})}function gr(o,s,i,l){return An(this,void 0,void 0,function*(){return Gi(o,"GET",s,i,l)})}function ra(o,s,i,l,u){return An(this,void 0,void 0,function*(){return Gi(o,"POST",s,l,u,i)})}function tc(o,s,i,l,u){return An(this,void 0,void 0,function*(){return Gi(o,"PUT",s,l,u,i)})}function ob(o,s,i,l){return An(this,void 0,void 0,function*(){return Gi(o,"HEAD",s,Object.assign(Object.assign({},i),{noResolveJson:!0}),l)})}function w0(o,s,i,l,u){return An(this,void 0,void 0,function*(){return Gi(o,"DELETE",s,l,u,i)})}var xt=function(o,s,i,l){function u(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function y(b){try{m(l.next(b))}catch(S){f(S)}}function p(b){try{m(l.throw(b))}catch(S){f(S)}}function m(b){b.done?d(b.value):u(b.value).then(y,p)}m((l=l.apply(o,s||[])).next())})};const ub={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cb{constructor(s,i={},l,u){this.shouldThrowOnError=!1,this.url=s,this.headers=i,this.bucketId=l,this.fetch=_0(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(s,i,l,u){return xt(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},Vg),u);let y=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),p&&d.append("metadata",this.encodeMetadata(p)),d.append("",l)):typeof FormData<"u"&&l instanceof FormData?(d=l,d.append("cacheControl",f.cacheControl),p&&d.append("metadata",this.encodeMetadata(p))):(d=l,y["cache-control"]=`max-age=${f.cacheControl}`,y["content-type"]=f.contentType,p&&(y["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),u?.headers&&(y=Object.assign(Object.assign({},y),u.headers));const m=this._removeEmptyFolders(i),b=this._getFinalPath(m),S=yield(s=="PUT"?tc:ra)(this.fetch,`${this.url}/object/${b}`,d,Object.assign({headers:y},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:m,id:S.Id,fullPath:S.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(st(d))return{data:null,error:d};throw d}})}upload(s,i,l){return xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,i,l)})}uploadToSignedUrl(s,i,l,u){return xt(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(s),f=this._getFinalPath(d),y=new URL(this.url+`/object/upload/sign/${f}`);y.searchParams.set("token",i);try{let p;const m=Object.assign({upsert:Vg.upsert},u),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&l instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",l)):typeof FormData<"u"&&l instanceof FormData?(p=l,p.append("cacheControl",m.cacheControl)):(p=l,b["cache-control"]=`max-age=${m.cacheControl}`,b["content-type"]=m.contentType);const S=yield tc(this.fetch,y.toString(),p,{headers:b});return{data:{path:d,fullPath:S.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(st(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(s,i){return xt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(s);const u=Object.assign({},this.headers);i?.upsert&&(u["x-upsert"]="true");const d=yield ra(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:u}),f=new URL(this.url+d.url),y=f.searchParams.get("token");if(!y)throw new gc("No token returned by API");return{data:{signedUrl:f.toString(),path:s,token:y},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}update(s,i,l){return xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,i,l)})}move(s,i,l){return xt(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:i,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(st(u))return{data:null,error:u};throw u}})}copy(s,i,l){return xt(this,void 0,void 0,function*(){try{return{data:{path:(yield ra(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:i,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(st(u))return{data:null,error:u};throw u}})}createSignedUrl(s,i,l){return xt(this,void 0,void 0,function*(){try{let u=this._getFinalPath(s),d=yield ra(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:i},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const f=l?.download?`&download=${l.download===!0?"":l.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(st(u))return{data:null,error:u};throw u}})}createSignedUrls(s,i,l){return xt(this,void 0,void 0,function*(){try{const u=yield ra(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:s},{headers:this.headers}),d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(st(u))return{data:null,error:u};throw u}})}download(s,i){return xt(this,void 0,void 0,function*(){const u=typeof i?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(i?.transform||{}),f=d?`?${d}`:"";try{const y=this._getFinalPath(s);return{data:yield(yield gr(this.fetch,`${this.url}/${u}/${y}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(y){if(this.shouldThrowOnError)throw y;if(st(y))return{data:null,error:y};throw y}})}info(s){return xt(this,void 0,void 0,function*(){const i=this._getFinalPath(s);try{const l=yield gr(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:ec(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}exists(s){return xt(this,void 0,void 0,function*(){const i=this._getFinalPath(s);try{return yield ob(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l)&&l instanceof Wu){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(s,i){const l=this._getFinalPath(s),u=[],d=i?.download?`download=${i.download===!0?"":i.download}`:"";d!==""&&u.push(d);const y=typeof i?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(i?.transform||{});p!==""&&u.push(p);let m=u.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${y}/public/${l}${m}`)}}}remove(s){return xt(this,void 0,void 0,function*(){try{return{data:yield w0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}list(s,i,l){return xt(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},ub),i),{prefix:s||""});return{data:yield ra(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(st(u))return{data:null,error:u};throw u}})}listV2(s,i){return xt(this,void 0,void 0,function*(){try{const l=Object.assign({},s);return{data:yield ra(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const i=[];return s.width&&i.push(`width=${s.width}`),s.height&&i.push(`height=${s.height}`),s.resize&&i.push(`resize=${s.resize}`),s.format&&i.push(`format=${s.format}`),s.quality&&i.push(`quality=${s.quality}`),i.join("&")}}const db="2.12.1",fb={"X-Client-Info":`storage-js/${db}`};var Es=function(o,s,i,l){function u(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function y(b){try{m(l.next(b))}catch(S){f(S)}}function p(b){try{m(l.throw(b))}catch(S){f(S)}}function m(b){b.done?d(b.value):u(b.value).then(y,p)}m((l=l.apply(o,s||[])).next())})};class hb{constructor(s,i={},l,u){this.shouldThrowOnError=!1;const d=new URL(s);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},fb),i),this.fetch=_0(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Es(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}getBucket(s){return Es(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}createBucket(s,i={public:!1}){return Es(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}updateBucket(s,i){return Es(this,void 0,void 0,function*(){try{return{data:yield tc(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}emptyBucket(s){return Es(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}deleteBucket(s){return Es(this,void 0,void 0,function*(){try{return{data:yield w0(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}}class gb extends hb{constructor(s,i={},l,u){super(s,i,l,u)}from(s){return new cb(this.url,this.headers,s,this.fetch)}}const yb="2.57.4";let Mi="";typeof Deno<"u"?Mi="deno":typeof document<"u"?Mi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mi="react-native":Mi="node";const mb={"X-Client-Info":`supabase-js-${Mi}/${yb}`},vb={headers:mb},pb={schema:"public"},bb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_b={};var wb=function(o,s,i,l){function u(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function y(b){try{m(l.next(b))}catch(S){f(S)}}function p(b){try{m(l.throw(b))}catch(S){f(S)}}function m(b){b.done?d(b.value):u(b.value).then(y,p)}m((l=l.apply(o,s||[])).next())})};const xb=o=>{let s;return o?s=o:typeof fetch>"u"?s=d0:s=fetch,(...i)=>s(...i)},Sb=()=>typeof Headers>"u"?f0:Headers,Eb=(o,s,i)=>{const l=xb(i),u=Sb();return(d,f)=>wb(void 0,void 0,void 0,function*(){var y;const p=(y=yield s())!==null&&y!==void 0?y:o;let m=new u(f?.headers);return m.has("apikey")||m.set("apikey",o),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),l(d,Object.assign(Object.assign({},f),{headers:m}))})};var Tb=function(o,s,i,l){function u(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function y(b){try{m(l.next(b))}catch(S){f(S)}}function p(b){try{m(l.throw(b))}catch(S){f(S)}}function m(b){b.done?d(b.value):u(b.value).then(y,p)}m((l=l.apply(o,s||[])).next())})};function jb(o){return o.endsWith("/")?o:o+"/"}function Cb(o,s){var i,l;const{db:u,auth:d,realtime:f,global:y}=o,{db:p,auth:m,realtime:b,global:S}=s,T={db:Object.assign(Object.assign({},p),u),auth:Object.assign(Object.assign({},m),d),realtime:Object.assign(Object.assign({},b),f),storage:{},global:Object.assign(Object.assign(Object.assign({},S),y),{headers:Object.assign(Object.assign({},(i=S?.headers)!==null&&i!==void 0?i:{}),(l=y?.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>Tb(this,void 0,void 0,function*(){return""})};return o.accessToken?T.accessToken=o.accessToken:delete T.accessToken,T}function Ob(o){const s=o?.trim();if(!s)throw new Error("supabaseUrl is required.");if(!s.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(jb(s))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const x0="2.71.1",Ns=30*1e3,ac=3,Yu=ac*Ns,Ab="http://localhost:9999",Nb="supabase.auth.token",Rb={"X-Client-Info":`gotrue-js/${x0}`},nc="X-Supabase-Api-Version",S0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Mb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ub=600*1e3;class yc extends Error{constructor(s,i,l){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function he(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class kb extends yc{constructor(s,i,l){super(s,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function Db(o){return he(o)&&o.name==="AuthApiError"}class E0 extends yc{constructor(s,i){super(s),this.name="AuthUnknownError",this.originalError=i}}class nn extends yc{constructor(s,i,l,u){super(s,l,u),this.name=i,this.status=l}}class Wa extends nn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zb(o){return he(o)&&o.name==="AuthSessionMissingError"}class rr extends nn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class or extends nn{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class ur extends nn{constructor(s,i=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Lb(o){return he(o)&&o.name==="AuthImplicitGrantRedirectError"}class Xg extends nn{constructor(s,i=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sc extends nn{constructor(s,i){super(s,"AuthRetryableFetchError",i,void 0)}}function Ku(o){return he(o)&&o.name==="AuthRetryableFetchError"}class Qg extends nn{constructor(s,i,l){super(s,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class ic extends nn{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const yr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ig=` 	
\r=`.split(""),$b=(()=>{const o=new Array(128);for(let s=0;s<o.length;s+=1)o[s]=-1;for(let s=0;s<Ig.length;s+=1)o[Ig[s].charCodeAt(0)]=-2;for(let s=0;s<yr.length;s+=1)o[yr[s].charCodeAt(0)]=s;return o})();function Zg(o,s,i){if(o!==null)for(s.queue=s.queue<<8|o,s.queuedBits+=8;s.queuedBits>=6;){const l=s.queue>>s.queuedBits-6&63;i(yr[l]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const l=s.queue>>s.queuedBits-6&63;i(yr[l]),s.queuedBits-=6}}function T0(o,s,i){const l=$b[o];if(l>-1)for(s.queue=s.queue<<6|l,s.queuedBits+=6;s.queuedBits>=8;)i(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function Jg(o){const s=[],i=f=>{s.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=f=>{Hb(f,l,i)};for(let f=0;f<o.length;f+=1)T0(o.charCodeAt(f),u,d);return s.join("")}function qb(o,s){if(o<=127){s(o);return}else if(o<=2047){s(192|o>>6),s(128|o&63);return}else if(o<=65535){s(224|o>>12),s(128|o>>6&63),s(128|o&63);return}else if(o<=1114111){s(240|o>>18),s(128|o>>12&63),s(128|o>>6&63),s(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function Bb(o,s){for(let i=0;i<o.length;i+=1){let l=o.charCodeAt(i);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(o.charCodeAt(i+1)-56320&65535|u)+65536,i+=1}qb(l,s)}}function Hb(o,s,i){if(s.utf8seq===0){if(o<=127){i(o);return}for(let l=1;l<6;l+=1)if((o>>7-l&1)===0){s.utf8seq=l;break}if(s.utf8seq===2)s.codepoint=o&31;else if(s.utf8seq===3)s.codepoint=o&15;else if(s.utf8seq===4)s.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|o&63,s.utf8seq-=1,s.utf8seq===0&&i(s.codepoint)}}function Gb(o){const s=[],i={queue:0,queuedBits:0},l=u=>{s.push(u)};for(let u=0;u<o.length;u+=1)T0(o.charCodeAt(u),i,l);return new Uint8Array(s)}function Yb(o){const s=[];return Bb(o,i=>s.push(i)),new Uint8Array(s)}function Kb(o){const s=[],i={queue:0,queuedBits:0},l=u=>{s.push(u)};return o.forEach(u=>Zg(u,i,l)),Zg(null,i,l),s.join("")}function Vb(o){return Math.round(Date.now()/1e3)+o}function Xb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const s=Math.random()*16|0;return(o=="x"?s:s&3|8).toString(16)})}const Ft=()=>typeof window<"u"&&typeof document<"u",En={tested:!1,writable:!1},j0=()=>{if(!Ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(En.tested)return En.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),En.tested=!0,En.writable=!0}catch{En.tested=!0,En.writable=!1}return En.writable};function Qb(o){const s={},i=new URL(o);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((u,d)=>{s[d]=u})}catch{}return i.searchParams.forEach((l,u)=>{s[u]=l}),s}const C0=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...i)=>Hi(async()=>{const{default:l}=await Promise.resolve().then(()=>Ds);return{default:l}},void 0).then(({default:l})=>l(...i)):s=fetch,(...i)=>s(...i)},Ib=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",Rs=async(o,s,i)=>{await o.setItem(s,JSON.stringify(i))},Tn=async(o,s)=>{const i=await o.getItem(s);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Pa=async(o,s)=>{await o.removeItem(s)};class mr{constructor(){this.promise=new mr.promiseConstructor((s,i)=>{this.resolve=s,this.reject=i})}}mr.promiseConstructor=Promise;function Vu(o){const s=o.split(".");if(s.length!==3)throw new ic("Invalid JWT structure");for(let l=0;l<s.length;l++)if(!Mb.test(s[l]))throw new ic("JWT not in base64url format");return{header:JSON.parse(Jg(s[0])),payload:JSON.parse(Jg(s[1])),signature:Gb(s[2]),raw:{header:s[0],payload:s[1]}}}async function Zb(o){return await new Promise(s=>{setTimeout(()=>s(null),o)})}function Jb(o,s){return new Promise((l,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await o(d);if(!s(d,null,f)){l(f);return}}catch(f){if(!s(d,f)){u(f);return}}})()})}function Fb(o){return("0"+o.toString(16)).substr(-2)}function Pb(){const s=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let u="";for(let d=0;d<56;d++)u+=i.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(s),Array.from(s,Fb).join("")}async function Wb(o){const i=new TextEncoder().encode(o),l=await crypto.subtle.digest("SHA-256",i),u=new Uint8Array(l);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function e_(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const i=await Wb(o);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ts(o,s,i=!1){const l=Pb();let u=l;i&&(u+="/PASSWORD_RECOVERY"),await Rs(o,`${s}-code-verifier`,u);const d=await e_(l);return[d,l===d?"plain":"s256"]}const t_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function a_(o){const s=o.headers.get(nc);if(!s||!s.match(t_))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function n_(o){if(!o)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(o<=s)throw new Error("JWT has expired")}function s_(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const i_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function js(o){if(!i_.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xu(){const o={};return new Proxy(o,{get:(s,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Fg(o){return JSON.parse(JSON.stringify(o))}var l_=function(o,s){var i={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&s.indexOf(l)<0&&(i[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(o);u<l.length;u++)s.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(o,l[u])&&(i[l[u]]=o[l[u]]);return i};const jn=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),r_=[502,503,504];async function Pg(o){var s;if(!Ib(o))throw new sc(jn(o),0);if(r_.includes(o.status))throw new sc(jn(o),o.status);let i;try{i=await o.json()}catch(d){throw new E0(jn(d),d)}let l;const u=a_(o);if(u&&u.getTime()>=S0["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new Qg(jn(i),o.status,((s=i.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(l==="session_not_found")throw new Wa}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Qg(jn(i),o.status,i.weak_password.reasons);throw new kb(jn(i),o.status||500,l)}const o_=(o,s,i,l)=>{const u={method:o,headers:s?.headers||{}};return o==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),i))};async function Te(o,s,i,l){var u;const d=Object.assign({},l?.headers);d[nc]||(d[nc]=S0["2024-01-01"].name),l?.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const f=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const y=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await u_(o,s,i+y,{headers:d,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(p):{data:Object.assign({},p),error:null}}async function u_(o,s,i,l,u,d){const f=o_(s,l,u,d);let y;try{y=await o(i,Object.assign({},f))}catch(p){throw console.error(p),new sc(jn(p),0)}if(y.ok||await Pg(y),l?.noResolveJson)return y;try{return await y.json()}catch(p){await Pg(p)}}function ja(o){var s;let i=null;h_(o)&&(i=Object.assign({},o),o.expires_at||(i.expires_at=Vb(o.expires_in)));const l=(s=o.user)!==null&&s!==void 0?s:o;return{data:{session:i,user:l},error:null}}function Wg(o){const s=ja(o);return!s.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(s.data.weak_password=o.weak_password),s}function tn(o){var s;return{data:{user:(s=o.user)!==null&&s!==void 0?s:o},error:null}}function c_(o){return{data:o,error:null}}function d_(o){const{action_link:s,email_otp:i,hashed_token:l,redirect_to:u,verification_type:d}=o,f=l_(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),y={action_link:s,email_otp:i,hashed_token:l,redirect_to:u,verification_type:d},p=Object.assign({},f);return{data:{properties:y,user:p},error:null}}function f_(o){return o}function h_(o){return o.access_token&&o.refresh_token&&o.expires_in}const Qu=["global","local","others"];var g_=function(o,s){var i={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&s.indexOf(l)<0&&(i[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(o);u<l.length;u++)s.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(o,l[u])&&(i[l[u]]=o[l[u]]);return i};class y_{constructor({url:s="",headers:i={},fetch:l}){this.url=s,this.headers=i,this.fetch=C0(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(s,i=Qu[0]){if(Qu.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qu.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(l){if(he(l))return{data:null,error:l};throw l}}async inviteUserByEmail(s,i={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:tn})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async generateLink(s){try{const{options:i}=s,l=g_(s,["options"]),u=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:d_,redirectTo:i?.redirectTo})}catch(i){if(he(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(s){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:tn})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async listUsers(s){var i,l,u,d,f,y,p;try{const m={nextPage:null,lastPage:0,total:0},b=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=s?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=s?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:f_});if(b.error)throw b.error;const S=await b.json(),T=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,A=(p=(y=b.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&p!==void 0?p:[];return A.length>0&&(A.forEach(M=>{const q=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(M.split(";")[1].split("=")[1]);m[`${H}Page`]=q}),m.total=parseInt(T)),{data:Object.assign(Object.assign({},S),m),error:null}}catch(m){if(he(m))return{data:{users:[]},error:m};throw m}}async getUserById(s){js(s);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:tn})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async updateUserById(s,i){js(s);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:i,headers:this.headers,xform:tn})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async deleteUser(s,i=!1){js(s);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:i},xform:tn})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async _listFactors(s){js(s.userId);try{const{data:i,error:l}=await Te(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:i,error:l}}catch(i){if(he(i))return{data:null,error:i};throw i}}async _deleteFactor(s){js(s.userId),js(s.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}}}function e0(o={}){return{getItem:s=>o[s]||null,setItem:(s,i)=>{o[s]=i},removeItem:s=>{delete o[s]}}}function m_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Cs={debug:!!(globalThis&&j0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class O0 extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class v_ extends O0{}async function p_(o,s,i){Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,s);const l=new globalThis.AbortController;return s>0&&setTimeout(()=>{l.abort(),Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,u.name);try{return await i()}finally{Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,u.name)}}else{if(s===0)throw Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new v_(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(Cs.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}m_();const b_={url:Ab,storageKey:Nb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function t0(o,s,i){return await i()}const Os={};class qi{constructor(s){var i,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qi.nextInstanceID,qi.nextInstanceID+=1,this.instanceID>0&&Ft()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},b_),s);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new y_({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=C0(u.fetch),this.lock=u.lock||t0,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:Ft()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=p_:this.lock=t0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:j0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=e0(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=e0(this.memoryStorage)),Ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var s,i;return(i=(s=Os[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(s){Os[this.storageKey]=Object.assign(Object.assign({},Os[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,i;return(i=(s=Os[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){Os[this.storageKey]=Object.assign(Object.assign({},Os[this.storageKey]),{cachedAt:s})}_debug(...s){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${x0}) ${new Date().toISOString()}`,...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{const i=Qb(window.location.href);let l="none";if(this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce"),Ft()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:d}=await this._getSessionFromURL(i,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Lb(d)){const p=(s=d.details)===null||s===void 0?void 0:s.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:y}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",y),await this._saveSession(f),setTimeout(async()=>{y==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return he(i)?{error:i}:{error:new E0("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var i,l,u;try{const d=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=s?.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=s?.options)===null||u===void 0?void 0:u.captchaToken}},xform:ja}),{data:f,error:y}=d;if(y||!f)return{data:{user:null,session:null},error:y};const p=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(d){if(he(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(s){var i,l,u;try{let d;if("email"in s){const{email:b,password:S,options:T}=s;let A=null,M=null;this.flowType==="pkce"&&([A,M]=await Ts(this.storage,this.storageKey)),d=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T?.emailRedirectTo,body:{email:b,password:S,data:(i=T?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:T?.captchaToken},code_challenge:A,code_challenge_method:M},xform:ja})}else if("phone"in s){const{phone:b,password:S,options:T}=s;d=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:S,data:(l=T?.data)!==null&&l!==void 0?l:{},channel:(u=T?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:T?.captchaToken}},xform:ja})}else throw new or("You must provide either an email or phone number and a password");const{data:f,error:y}=d;if(y||!f)return{data:{user:null,session:null},error:y};const p=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(d){if(he(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(s){try{let i;if("email"in s){const{email:d,password:f,options:y}=s;i=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Wg})}else if("phone"in s){const{phone:d,password:f,options:y}=s;i=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Wg})}else throw new or("You must provide either an email or phone number and a password");const{data:l,error:u}=i;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new rr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(s){var i,l,u,d;return await this._handleProviderSignIn(s.provider,{redirectTo:(i=s.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=s.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=s.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=s.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:i}=s;if(i==="solana")return await this.signInWithSolana(s);throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}async signInWithSolana(s){var i,l,u,d,f,y,p,m,b,S,T,A;let M,q;if("message"in s)M=s.message,q=s.signature;else{const{chain:H,wallet:W,statement:re,options:G}=s;let Q;if(Ft())if(typeof W=="object")Q=W;else{const ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))Q=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof W!="object"||!G?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=W}const $=new URL((i=G?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in Q&&Q.signIn){const ee=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},G?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),re?{statement:re}:null));let ye;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")ye=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)ye=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ye&&"signature"in ye&&(typeof ye.signedMessage=="string"||ye.signedMessage instanceof Uint8Array)&&ye.signature instanceof Uint8Array)M=typeof ye.signedMessage=="string"?ye.signedMessage:new TextDecoder().decode(ye.signedMessage),q=ye.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");M=[`${$.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...re?["",re,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(u=(l=G?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=G?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${G.signInWithSolana.notBefore}`]:[],...!((f=G?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${G.signInWithSolana.expirationTime}`]:[],...!((y=G?.signInWithSolana)===null||y===void 0)&&y.chainId?[`Chain ID: ${G.signInWithSolana.chainId}`]:[],...!((p=G?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${G.signInWithSolana.nonce}`]:[],...!((m=G?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${G.signInWithSolana.requestId}`]:[],...!((S=(b=G?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||S===void 0)&&S.length?["Resources",...G.signInWithSolana.resources.map(ye=>`- ${ye}`)]:[]].join(`
`);const ee=await Q.signMessage(new TextEncoder().encode(M),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");q=ee}}try{const{data:H,error:W}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:M,signature:Kb(q)},!((T=s.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(A=s.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:ja});if(W)throw W;return!H||!H.session||!H.user?{data:{user:null,session:null},error:new rr}:(H.session&&(await this._saveSession(H.session),await this._notifyAllSubscribers("SIGNED_IN",H.session)),{data:Object.assign({},H),error:W})}catch(H){if(he(H))return{data:{user:null,session:null},error:H};throw H}}async _exchangeCodeForSession(s){const i=await Tn(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(i??"").split("/");try{const{data:d,error:f}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:l},xform:ja});if(await Pa(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new rr}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:f})}catch(d){if(he(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(s){try{const{options:i,provider:l,token:u,access_token:d,nonce:f}=s,y=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:ja}),{data:p,error:m}=y;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new rr}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(s){var i,l,u,d,f;try{if("email"in s){const{email:y,options:p}=s;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await Ts(this.storage,this.storageKey));const{error:S}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:y,data:(i=p?.data)!==null&&i!==void 0?i:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:b},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:S}}if("phone"in s){const{phone:y,options:p}=s,{data:m,error:b}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:y,data:(u=p?.data)!==null&&u!==void 0?u:{},create_user:(d=p?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(f=p?.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:b}}throw new or("You must provide either an email or phone number.")}catch(y){if(he(y))return{data:{user:null,session:null},error:y};throw y}}async verifyOtp(s){var i,l;try{let u,d;"options"in s&&(u=(i=s.options)===null||i===void 0?void 0:i.redirectTo,d=(l=s.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:y}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:ja});if(y)throw y;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,m=f.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(u){if(he(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(s){var i,l,u;try{let d=null,f=null;return this.flowType==="pkce"&&([d,f]=await Ts(this.storage,this.storageKey)),await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(l=(i=s.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=s?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:c_})}catch(d){if(he(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:i},error:l}=s;if(l)throw l;if(!i)throw new Wa;const{error:u}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:u}})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async resend(s){try{const i=`${this.url}/resend`;if("email"in s){const{email:l,type:u,options:d}=s,{error:f}=await Te(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in s){const{phone:l,type:u,options:d}=s,{data:f,error:y}=await Te(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:f?.message_id},error:y}}throw new or("You must provide either an email or phone number and a type")}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(s,i){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await s(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const i=await Tn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?s=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const l=s.expires_at?s.expires_at*1e3-Date.now()<Yu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",s.expires_at),!l){if(this.userStorage){const f=await Tn(this.userStorage,this.storageKey+"-user");f?.user?s.user=f.user:s.user=Xu()}if(this.storage.isServer&&s.user){let f=this.suppressGetSessionWarning;s=new Proxy(s,{get:(p,m,b)=>(!f&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,b))})}return{data:{session:s},error:null}}const{session:u,error:d}=await this._callRefreshToken(s.refresh_token);return d?{data:{session:null},error:d}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:tn}):await this._useSession(async i=>{var l,u,d;const{data:f,error:y}=i;if(y)throw y;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wa}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:tn})})}catch(i){if(he(i))return zb(i)&&(await this._removeSession(),await Pa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(s,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,i))}async _updateUser(s,i={}){try{return await this._useSession(async l=>{const{data:u,error:d}=l;if(d)throw d;if(!u.session)throw new Wa;const f=u.session;let y=null,p=null;this.flowType==="pkce"&&s.email!=null&&([y,p]=await Ts(this.storage,this.storageKey));const{data:m,error:b}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:y,code_challenge_method:p}),jwt:f.access_token,xform:tn});if(b)throw b;return f.user=m.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new Wa;const i=Date.now()/1e3;let l=i,u=!0,d=null;const{payload:f}=Vu(s.access_token);if(f.exp&&(l=f.exp,u=l<=i),u){const{session:y,error:p}=await this._callRefreshToken(s.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!y)return{data:{user:null,session:null},error:null};d=y}else{const{data:y,error:p}=await this._getUser(s.access_token);if(p)throw p;d={access_token:s.access_token,refresh_token:s.refresh_token,user:y.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(i){if(he(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async i=>{var l;if(!s){const{data:f,error:y}=i;if(y)throw y;s=(l=f.session)!==null&&l!==void 0?l:void 0}if(!s?.refresh_token)throw new Wa;const{session:u,error:d}=await this._callRefreshToken(s.refresh_token);return d?{data:{user:null,session:null},error:d}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(s,i){try{if(!Ft())throw new ur("No browser detected.");if(s.error||s.error_description||s.error_code)throw new ur(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Xg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ur("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new Xg("No code detected.");const{data:re,error:G}=await this._exchangeCodeForSession(s.code);if(G)throw G;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:re.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:d,refresh_token:f,expires_in:y,expires_at:p,token_type:m}=s;if(!d||!y||!f||!m)throw new ur("No session defined in URL");const b=Math.round(Date.now()/1e3),S=parseInt(y);let T=b+S;p&&(T=parseInt(p));const A=T-b;A*1e3<=Ns&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${S}s`);const M=T-S;b-M>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",M,T,b):b-M<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",M,T,b);const{data:q,error:H}=await this._getUser(d);if(H)throw H;const W={provider_token:l,provider_refresh_token:u,access_token:d,expires_in:S,expires_at:T,refresh_token:f,token_type:m,user:q.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:W,redirectType:s.type},error:null}}catch(l){if(he(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const i=await Tn(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&i)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:u,error:d}=i;if(d)return{error:d};const f=(l=u.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:y}=await this.admin.signOut(f,s);if(y&&!(Db(y)&&(y.status===404||y.status===401||y.status===403)))return{error:y}}return s!=="others"&&(await this._removeSession(),await Pa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(s){const i=Xb(),l={id:i,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(s){return await this._useSession(async i=>{var l,u;try{const{data:{session:d},error:f}=i;if(f)throw f;await((l=this.stateChangeEmitters.get(s))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",s,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(s))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",d),console.error(d)}})}async resetPasswordForEmail(s,i={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Ts(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(he(d))return{data:null,error:d};throw d}}async getUserIdentities(){var s;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(s=i.user.identities)!==null&&s!==void 0?s:[]},error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}}async linkIdentity(s){var i;try{const{data:l,error:u}=await this._useSession(async d=>{var f,y,p,m,b;const{data:S,error:T}=d;if(T)throw T;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(f=s.options)===null||f===void 0?void 0:f.redirectTo,scopes:(y=s.options)===null||y===void 0?void 0:y.scopes,queryParams:(p=s.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",A,{headers:this.headers,jwt:(b=(m=S.session)===null||m===void 0?void 0:m.access_token)!==null&&b!==void 0?b:void 0})});if(u)throw u;return Ft()&&!(!((i=s.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l?.url),{data:{provider:s.provider,url:l?.url},error:null}}catch(l){if(he(l))return{data:{provider:s.provider,url:null},error:l};throw l}}async unlinkIdentity(s){try{return await this._useSession(async i=>{var l,u;const{data:d,error:f}=i;if(f)throw f;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(i){if(he(i))return{data:null,error:i};throw i}}async _refreshAccessToken(s){const i=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await Jb(async u=>(u>0&&await Zb(200*Math.pow(2,u-1)),this._debug(i,"refreshing attempt",u),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:ja})),(u,d)=>{const f=200*Math.pow(2,u);return d&&Ku(d)&&Date.now()+f-l<Ns})}catch(l){if(this._debug(i,"error",l),he(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(i,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",i,"url",l),Ft()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:s,url:l},error:null}}async _recoverAndRefresh(){var s,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await Tn(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Tn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await Rs(this.userStorage,this.storageKey+"-user",f)),u.user=(s=f?.user)!==null&&s!==void 0?s:Xu()}else if(u&&!u.user&&!u.user){const f=await Tn(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await Pa(this.storage,this.storageKey+"-user"),await Rs(this.storage,this.storageKey,u)):u.user=Xu()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const d=((i=u.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Yu;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${Yu}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),Ku(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:y}=await this._getUser(u.access_token);!y&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(s){var i,l;if(!s)throw new Wa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new mr;const{data:d,error:f}=await this._refreshAccessToken(s);if(f)throw f;if(!d.session)throw new Wa;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const y={session:d.session,error:null};return this.refreshingDeferred.resolve(y),y}catch(d){if(this._debug(u,"error",d),he(d)){const f={session:null,error:d};return Ku(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(s,i,l=!0){const u=`#_notifyAllSubscribers(${s})`;this._debug(u,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:s,session:i});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async y=>{try{await y.callback(s,i)}catch(p){d.push(p)}});if(await Promise.all(f),d.length>0){for(let y=0;y<d.length;y+=1)console.error(d[y]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0;const i=Object.assign({},s),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await Rs(this.userStorage,this.storageKey+"-user",{user:i.user});const u=Object.assign({},i);delete u.user;const d=Fg(u);await Rs(this.storage,this.storageKey,d)}else{const u=Fg(i);await Rs(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await Pa(this.storage,this.storageKey),await Pa(this.storage,this.storageKey+"-code-verifier"),await Pa(this.storage,this.storageKey+"-user"),this.userStorage&&await Pa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&Ft()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",s)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Ns);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-s)/Ns);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Ns}ms, refresh threshold is ${ac} ticks`),u<=ac&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof O0)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ft()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const i=`#_onVisibilityChanged(${s})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,i,l){const u=[`provider=${encodeURIComponent(i)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,f]=await Ts(this.storage,this.storageKey),y=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(y.toString())}if(l?.queryParams){const d=new URLSearchParams(l.queryParams);u.push(d.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${s}?${u.join("&")}`}async _unenroll(s){try{return await this._useSession(async i=>{var l;const{data:u,error:d}=i;return d?{data:null,error:d}:await Te(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(he(i))return{data:null,error:i};throw i}}async _enroll(s){try{return await this._useSession(async i=>{var l,u;const{data:d,error:f}=i;if(f)return{data:null,error:f};const y=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:{issuer:s.issuer}),{data:p,error:m}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:y,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return m?{data:null,error:m}:(s.factorType==="totp"&&(!((u=p?.totp)===null||u===void 0)&&u.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(i){if(he(i))return{data:null,error:i};throw i}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:u,error:d}=i;if(d)return{data:null,error:d};const{data:f,error:y}=await Te(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:{code:s.code,challenge_id:s.challengeId},headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return y?{data:null,error:y}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:y})})}catch(i){if(he(i))return{data:null,error:i};throw i}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:u,error:d}=i;return d?{data:null,error:d}:await Te(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:{channel:s.channel},headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(he(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(s){const{data:i,error:l}=await this._challenge({factorId:s.factorId});return l?{data:null,error:l}:await this._verify({factorId:s.factorId,challengeId:i.id,code:s.code})}async _listFactors(){const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const l=s?.factors||[],u=l.filter(f=>f.factor_type==="totp"&&f.status==="verified"),d=l.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:l,totp:u,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async s=>{var i,l;const{data:{session:u},error:d}=s;if(d)return{data:null,error:d};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Vu(u.access_token);let y=null;f.aal&&(y=f.aal);let p=y;((l=(i=u.user.factors)===null||i===void 0?void 0:i.filter(S=>S.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(p="aal2");const b=f.amr||[];return{data:{currentLevel:y,nextLevel:p,currentAuthenticationMethods:b},error:null}}))}async fetchJwk(s,i={keys:[]}){let l=i.keys.find(y=>y.kid===s);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(y=>y.kid===s),l&&this.jwks_cached_at+Ub>u)return l;const{data:d,error:f}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,l=d.keys.find(y=>y.kid===s),!l)?null:l}async getClaims(s,i={}){try{let l=s;if(!l){const{data:A,error:M}=await this.getSession();if(M||!A.session)return{data:null,error:M};l=A.session.access_token}const{header:u,payload:d,signature:f,raw:{header:y,payload:p}}=Vu(l);i?.allowExpired||n_(d.exp);const m=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!m){const{error:A}=await this.getUser(l);if(A)throw A;return{data:{claims:d,header:u,signature:f},error:null}}const b=s_(u.alg),S=await crypto.subtle.importKey("jwk",m,b,!0,["verify"]);if(!await crypto.subtle.verify(b,S,f,Yb(`${y}.${p}`)))throw new ic("Invalid JWT signature");return{data:{claims:d,header:u,signature:f},error:null}}catch(l){if(he(l))return{data:null,error:l};throw l}}}qi.nextInstanceID=0;const __=qi;class w_ extends __{constructor(s){super(s)}}var x_=function(o,s,i,l){function u(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function y(b){try{m(l.next(b))}catch(S){f(S)}}function p(b){try{m(l.throw(b))}catch(S){f(S)}}function m(b){b.done?d(b.value):u(b.value).then(y,p)}m((l=l.apply(o,s||[])).next())})};class S_{constructor(s,i,l){var u,d,f;this.supabaseUrl=s,this.supabaseKey=i;const y=Ob(s);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",y),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",y),this.storageUrl=new URL("storage/v1",y),this.functionsUrl=new URL("functions/v1",y);const p=`sb-${y.hostname.split(".")[0]}-auth-token`,m={db:pb,realtime:_b,auth:Object.assign(Object.assign({},bb),{storageKey:p}),global:vb},b=Cb(l??{},m);this.storageKey=(u=b.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(d=b.global.headers)!==null&&d!==void 0?d:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(S,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=b.auth)!==null&&f!==void 0?f:{},this.headers,b.global.fetch),this.fetch=Eb(i,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new $p(new URL("rest/v1",y).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new gb(this.storageUrl.href,this.headers,this.fetch,l?.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new Op(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,i={},l={}){return this.rest.rpc(s,i,l)}channel(s,i={config:{}}){return this.realtime.channel(s,i)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,i;return x_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:i,detectSessionInUrl:l,storage:u,userStorage:d,storageKey:f,flowType:y,lock:p,debug:m},b,S){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new w_({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),b),storageKey:f,autoRefreshToken:s,persistSession:i,detectSessionInUrl:l,storage:u,userStorage:d,flowType:y,lock:p,debug:m,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new tb(this.realtimeUrl.href,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,l)=>{this._handleTokenChanged(i,"CLIENT",l?.access_token)})}_handleTokenChanged(s,i,l){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:s==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const E_=(o,s,i)=>new S_(o,s,i);function T_(){if(typeof window<"u"||typeof process>"u")return!1;const o=process.version;if(o==null)return!1;const s=o.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}T_()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const j_="https://cnpmucyuqsuswkzacuke.supabase.co",C_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNucG11Y3l1cXN1c3dremFjdWtlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2MjQ1OTEsImV4cCI6MjA3NDIwMDU5MX0.laQZMVmOauqpOrtNtSAYjCPgQBMWTd4e-biEbk_LBfQ",$e=E_(j_,C_,{realtime:{params:{eventsPerSecond:2}}});class O_{localCache=[];categoriesCache=[];subcategoriesCache=[];isOnline=navigator.onLine;syncInProgress=!1;constructor(){window.addEventListener("online",()=>{this.isOnline=!0,this.syncWithServer()}),window.addEventListener("offline",()=>{this.isOnline=!1})}async getTodos(){try{if(console.log("✅ getTodos 시작, isOnline:",this.isOnline),this.isOnline){console.log("🔐 사용자 인증 확인 중...");const{data:{user:s}}=await $e.auth.getUser();if(console.log("👤 사용자:",s?.id||"null"),!s)return console.log("❌ 사용자 없음, 로컬 캐시 사용"),this.loadFromLocalStorage();console.log("🔍 Supabase에서 할일 조회 중...");const{data:i,error:l}=await $e.from("todos").select("*").eq("user_id",s.id).order("created_at",{ascending:!1});if(console.log("📊 할일 응답:",{data:i?.length,error:l}),l)throw l;return this.localCache=i||[],this.saveToLocalStorage(this.localCache),console.log("✅ 할일 로딩 완료:",this.localCache.length,"개"),this.localCache}else return console.log("📱 오프라인 모드, 로컬 캐시 사용"),this.loadFromLocalStorage()}catch(s){return console.error("❌ Failed to fetch todos:",s),this.loadFromLocalStorage()}}async saveTodos(s){this.localCache=s,this.saveToLocalStorage(s),this.isOnline&&await this.syncWithServer()}async addTodo(s){try{if(this.isOnline){const{data:{user:i}}=await $e.auth.getUser();if(!i)throw new Error("User not authenticated");const l={...s,user_id:i.id},{data:u,error:d}=await $e.from("todos").insert([l]).select().single();if(d)throw d;return this.localCache.unshift(u),this.saveToLocalStorage(this.localCache),u}else{const i={...s,id:`temp_${Date.now()}`,user_id:"temp_user",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return this.localCache.unshift(i),this.saveToLocalStorage(this.localCache),i}}catch(i){return console.error("Failed to add todo:",i),null}}async updateTodo(s,i){try{if(this.isOnline){console.log("🔄 할일 업데이트 시작:",s);const{data:{user:l}}=await $e.auth.getUser();if(!l)throw console.error("❌ 사용자 인증 실패"),new Error("사용자 인증이 필요합니다. 다시 로그인해주세요.");const{data:u,error:d}=await $e.from("todos").update(i).eq("id",s).eq("user_id",l.id).select().single();if(d)throw console.error("❌ Supabase 업데이트 실패:",d),d.code==="PGRST116"?new Error("해당 할일을 찾을 수 없습니다."):d.code==="42501"?new Error("할일을 수정할 권한이 없습니다."):new Error(`할일 업데이트 실패: ${d.message}`);console.log("✅ 할일 업데이트 성공:",u.id);const f=this.localCache.findIndex(y=>y.id===s);return f!==-1&&(this.localCache[f]=u,this.saveToLocalStorage(this.localCache)),u}else{const l=this.localCache.findIndex(u=>u.id===s);return l!==-1?(this.localCache[l]={...this.localCache[l],...i,updated_at:new Date().toISOString()},this.saveToLocalStorage(this.localCache),this.localCache[l]):null}}catch(l){throw console.error("❌ 할일 업데이트 실패:",l),l.code&&console.error("에러 코드:",l.code),l.details&&console.error("에러 세부사항:",l.details),l}}async deleteTodo(s){try{if(this.isOnline){console.log("🗑️ 할일 삭제 시작:",s);const{data:{user:i}}=await $e.auth.getUser();if(!i)throw console.error("❌ 사용자 인증 실패"),new Error("사용자 인증이 필요합니다. 다시 로그인해주세요.");const{error:l}=await $e.from("todos").delete().eq("id",s).eq("user_id",i.id);if(l)throw console.error("❌ Supabase 삭제 실패:",l),l.code==="PGRST116"?new Error("해당 할일을 찾을 수 없습니다."):l.code==="42501"?new Error("할일을 삭제할 권한이 없습니다."):new Error(`할일 삭제 실패: ${l.message}`);console.log("✅ 할일 삭제 성공:",s)}return this.localCache=this.localCache.filter(i=>i.id!==s),this.saveToLocalStorage(this.localCache),!0}catch(i){throw console.error("❌ 할일 삭제 실패:",i),i.code&&console.error("에러 코드:",i.code),i.details&&console.error("에러 세부사항:",i.details),i}}async syncWithServer(){if(!(this.syncInProgress||!this.isOnline)){this.syncInProgress=!0;try{const i=this.loadFromLocalStorage().filter(l=>l.id.startsWith("temp_"));for(const l of i){const{id:u,created_at:d,updated_at:f,...y}=l;await this.addTodo(y)}await this.getTodos()}catch(s){console.error("Sync failed:",s)}finally{this.syncInProgress=!1}}}saveToLocalStorage(s){try{localStorage.setItem("todos-cache",JSON.stringify(s))}catch(i){console.error("Failed to save to localStorage:",i)}}loadFromLocalStorage(){try{const s=localStorage.getItem("todos-cache");return s?JSON.parse(s):[]}catch(s){return console.error("Failed to load from localStorage:",s),[]}}getConnectionStatus(){return this.isOnline}async getCategories(){try{if(console.log("🏷️ getCategories 시작, isOnline:",this.isOnline),this.isOnline){console.log("🔐 사용자 인증 확인 중...");const{data:{user:s}}=await $e.auth.getUser();if(console.log("👤 사용자:",s?.id||"null"),!s)return console.log("❌ 사용자 없음, 로컬 스토리지 사용"),this.loadCategoriesLocalStorage();console.log("🔍 Supabase에서 카테고리 조회 중...");const{data:i,error:l}=await $e.from("categories").select("*").eq("user_id",s.id).order("display_order",{ascending:!0});if(console.log("📊 카테고리 응답:",{data:i,error:l}),l)throw l;return this.categoriesCache=i||[],this.saveCategoriesLocalStorage(this.categoriesCache),console.log("✅ 카테고리 로딩 완료:",this.categoriesCache.length,"개"),this.categoriesCache}else return console.log("📱 오프라인 모드, 로컬 스토리지 사용"),this.loadCategoriesLocalStorage()}catch(s){return console.error("❌ Failed to fetch categories:",s),this.loadCategoriesLocalStorage()}}async addCategory(s){try{if(this.isOnline){const{data:{user:i}}=await $e.auth.getUser();if(!i)throw new Error("User not authenticated");const l={...s,user_id:i.id},{data:u,error:d}=await $e.from("categories").insert([l]).select().single();if(d)throw d;return this.categoriesCache.push(u),this.categoriesCache.sort((f,y)=>f.display_order-y.display_order),this.saveCategoriesLocalStorage(this.categoriesCache),u}else{const i={...s,id:`temp_cat_${Date.now()}`,user_id:"temp_user",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return this.categoriesCache.push(i),this.categoriesCache.sort((l,u)=>l.display_order-u.display_order),this.saveCategoriesLocalStorage(this.categoriesCache),i}}catch(i){return console.error("Failed to add category:",i),null}}async updateCategory(s,i){try{if(this.isOnline){const{data:l,error:u}=await $e.from("categories").update(i).eq("id",s).select().single();if(u)throw u;const d=this.categoriesCache.findIndex(f=>f.id===s);return d!==-1&&(this.categoriesCache[d]=l,this.categoriesCache.sort((f,y)=>f.display_order-y.display_order),this.saveCategoriesLocalStorage(this.categoriesCache)),l}else{const l=this.categoriesCache.findIndex(u=>u.id===s);return l!==-1?(this.categoriesCache[l]={...this.categoriesCache[l],...i,updated_at:new Date().toISOString()},this.categoriesCache.sort((u,d)=>u.display_order-d.display_order),this.saveCategoriesLocalStorage(this.categoriesCache),this.categoriesCache[l]):null}}catch(l){return console.error("Failed to update category:",l),null}}async deleteCategory(s){try{const i=this.categoriesCache.find(l=>l.id===s);if(!i)return!1;if(this.isOnline){await $e.from("todos").update({category:"개인"}).eq("category",i.name);const{error:l}=await $e.from("categories").delete().eq("id",s);if(l)throw l}return this.localCache=this.localCache.map(l=>l.category===i.name?{...l,category:"개인"}:l),this.saveToLocalStorage(this.localCache),this.categoriesCache=this.categoriesCache.filter(l=>l.id!==s),this.saveCategoriesLocalStorage(this.categoriesCache),!0}catch(i){return console.error("Failed to delete category:",i),!1}}saveCategoriesLocalStorage(s){try{localStorage.setItem("categories-cache",JSON.stringify(s))}catch(i){console.error("Failed to save categories to localStorage:",i)}}loadCategoriesLocalStorage(){try{const s=localStorage.getItem("categories-cache");return s?JSON.parse(s):[]}catch(s){return console.error("Failed to load categories from localStorage:",s),[]}}async getSubCategories(){try{if(console.log("📂 getSubCategories 시작, isOnline:",this.isOnline),this.isOnline){console.log("🔍 Supabase에서 서브카테고리 조회 중...");const{data:{user:s}}=await $e.auth.getUser();console.log("👤 사용자:",s?.id||"null");const{data:i,error:l}=await $e.from("subcategories").select("*").eq("user_id",s?.id).order("parent_category_id",{ascending:!0}).order("display_order",{ascending:!0});if(console.log("📊 서브카테고리 응답:",{data:i,error:l}),l)throw l;return this.subcategoriesCache=i||[],this.saveSubcategoriesLocalStorage(this.subcategoriesCache),console.log("✅ 서브카테고리 로딩 완료:",this.subcategoriesCache.length,"개"),this.subcategoriesCache}else return console.log("📱 오프라인 모드, 로컬 스토리지 사용"),this.loadSubcategoriesLocalStorage()}catch(s){return console.error("❌ Failed to fetch subcategories:",s),this.loadSubcategoriesLocalStorage()}}async addSubCategory(s){try{if(this.isOnline){const{data:i,error:l}=await $e.from("subcategories").insert([s]).select().single();if(l)throw l;return this.subcategoriesCache.push(i),this.subcategoriesCache.sort((u,d)=>u.parent_category_id.localeCompare(d.parent_category_id)||u.display_order-d.display_order),this.saveSubcategoriesLocalStorage(this.subcategoriesCache),i}else{const i={...s,id:`temp_subcat_${Date.now()}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return this.subcategoriesCache.push(i),this.subcategoriesCache.sort((l,u)=>l.parent_category_id.localeCompare(u.parent_category_id)||l.display_order-u.display_order),this.saveSubcategoriesLocalStorage(this.subcategoriesCache),i}}catch(i){return console.error("Failed to add subcategory:",i),null}}async updateSubCategory(s,i){try{if(this.isOnline){const{data:l,error:u}=await $e.from("subcategories").update(i).eq("id",s).select().single();if(u)throw u;const d=this.subcategoriesCache.findIndex(f=>f.id===s);return d!==-1&&(this.subcategoriesCache[d]=l,this.subcategoriesCache.sort((f,y)=>f.parent_category_id.localeCompare(y.parent_category_id)||f.display_order-y.display_order),this.saveSubcategoriesLocalStorage(this.subcategoriesCache)),l}else{const l=this.subcategoriesCache.findIndex(u=>u.id===s);return l!==-1?(this.subcategoriesCache[l]={...this.subcategoriesCache[l],...i,updated_at:new Date().toISOString()},this.subcategoriesCache.sort((u,d)=>u.parent_category_id.localeCompare(d.parent_category_id)||u.display_order-d.display_order),this.saveSubcategoriesLocalStorage(this.subcategoriesCache),this.subcategoriesCache[l]):null}}catch(l){return console.error("Failed to update subcategory:",l),null}}async deleteSubCategory(s){try{if(this.isOnline){await $e.from("todos").update({subcategory_id:null}).eq("subcategory_id",s);const{error:i}=await $e.from("subcategories").delete().eq("id",s);if(i)throw i}return this.localCache=this.localCache.map(i=>i.subcategory_id===s?{...i,subcategory_id:null}:i),this.saveToLocalStorage(this.localCache),this.subcategoriesCache=this.subcategoriesCache.filter(i=>i.id!==s),this.saveSubcategoriesLocalStorage(this.subcategoriesCache),!0}catch(i){return console.error("Failed to delete subcategory:",i),!1}}saveSubcategoriesLocalStorage(s){try{localStorage.setItem("subcategories-cache",JSON.stringify(s))}catch(i){console.error("Failed to save subcategories to localStorage:",i)}}loadSubcategoriesLocalStorage(){try{const s=localStorage.getItem("subcategories-cache");return s?JSON.parse(s):[]}catch(s){return console.error("Failed to load subcategories from localStorage:",s),[]}}subscribeToChanges(s){const i=$e.channel("todos_changes").on("postgres_changes",{event:"*",schema:"public",table:"todos"},async()=>{const l=await this.getTodos();s(l)}).subscribe();return()=>{i.unsubscribe()}}subscribeToCategoryChanges(s){const i=$e.channel("categories_changes").on("postgres_changes",{event:"*",schema:"public",table:"categories"},async()=>{const l=await this.getCategories();s(l)}).subscribe();return()=>{i.unsubscribe()}}subscribeToSubCategoryChanges(s){const i=$e.channel("subcategories_changes").on("postgres_changes",{event:"*",schema:"public",table:"subcategories"},async()=>{const l=await this.getSubCategories();s(l)}).subscribe();return()=>{i.unsubscribe()}}}const Je=new O_,A0=/[\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F700}-\u{1F77F}]|[\u{1F780}-\u{1F7FF}]|[\u{1F800}-\u{1F8FF}]|[\u{1F900}-\u{1F9FF}]|[\u{1FA00}-\u{1FA6F}]|[\u{1FA70}-\u{1FAFF}]|[\u{1F1E0}-\u{1F1FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]|[\u{FE00}-\u{FE0F}]|[\u{1F200}-\u{1F2FF}]/gu,Ms=o=>{if(!o||o.length>8)return!1;const s=o.match(A0);if(s&&s.join("")===o)return!0;try{const i=Array.from(o);return i.length>4?!1:i.every(l=>{const u=l.codePointAt(0);return u&&(u>=126976||u>=9728||u>=127232)})}catch{return o.length<=4}},As=o=>{if(!o)return"";const s=o.match(A0);if(s&&s.length>0)return s[0];const i=Array.from(o)[0];return i&&Ms(i)?i:""},lc={업무:["💼","📊","🏢","📋","📅","⚡","💻","📞","📈","📇","🗂️","📄","📑","🖥️","⌨️","🖱️","💾","📠","📧","📬"],개인:["👤","🏠","💭","❤️","🎉","✨","🌟","💫","🎈","🎁","📖","🎭","🎪","🎨","🎵","🎬","📷","🎯","💎","🌈"],건강:["🏃","💪","🥗","🧘‍♀️","🏥","💊","⚕️","🩺","💚","🍎","🏋️","🚴","🏊","🧘","💆","🍃","🌱","💧","🔥","⛹️"],쇼핑:["🛒","🛍️","💳","🎁","📦","🏪","💰","🛵","📱","👕","👔","👗","👠","👜","⌚","💍","🕶️","🎒","🧳","🛎️"],학습:["📚","📖","✏️","🎓","💡","🧠","📝","💻","📊","📐","📏","🔬","🧪","🔭","🌍","📌","📎","🖇️","📋","🗒️"]},A_={"💼":["업무","직장","비즈니스","work","business","office"],"👤":["사람","개인","유저","person","user","individual"],"🏃":["달리기","운동","건강","run","exercise","health"],"🛒":["쇼핑","장보기","구매","shopping","cart","buy"],"📚":["공부","학습","책","study","learn","book"],"❤️":["사랑","좋아요","하트","love","heart","like"],"🎯":["목표","타겟","집중","target","goal","focus"],"⚡":["빠른","에너지","전력","fast","energy","power"],"🎨":["예술","창작","디자인","art","creative","design"],"🏠":["집","가정","홈","home","house","family"],"💡":["아이디어","생각","영감","idea","think","inspiration"],"🔥":["열정","핫","인기","passion","hot","trending"],"🌟":["별","특별","중요","star","special","important"],"💪":["강함","힘","근육","strong","power","muscle"],"📱":["폰","모바일","스마트폰","phone","mobile","smartphone"],"🧹":["청소","빗자루","정리","clean","broom","tidy"],"🧽":["청소","스펀지","닦기","clean","sponge","wash"],"🧼":["비누","손씻기","청소","soap","wash","clean"]},N_=o=>{if(!o.trim())return[];const s=o.toLowerCase(),i=[];return Object.entries(A_).forEach(([l,u])=>{u.some(d=>d.includes(s))&&i.push(l)}),i},R_=o=>lc[o]||lc.개인,N0="recent-emojis",M_=15,U_=o=>{try{const i=rc().filter(u=>u!==o),l=[o,...i].slice(0,M_);localStorage.setItem(N0,JSON.stringify(l))}catch(s){console.error("Failed to save recent emoji:",s)}},rc=()=>{try{const o=localStorage.getItem(N0);return o?JSON.parse(o):[]}catch(o){return console.error("Failed to load recent emojis:",o),[]}},k_=["💼","👤","🏃","🛒","📚","🎯","⚡","🎨","🍔","🏠","✈️","🎵","💡","📱","🚗","💰","🎮","📝","🔧","🌟","❤️","💚","💙","💜","🧡","💛","🖤","🤍","🤎","💗"];function D_({isOpen:o,onClose:s,onSelect:i,currentEmoji:l,categoryName:u,isDark:d}){const[f,y]=Z.useState("preset"),[p,m]=Z.useState(""),[b,S]=Z.useState(""),[T,A]=Z.useState([]),M=Z.useRef(null),q=Z.useRef(null);Z.useEffect(()=>{o&&(A(rc()),u&&lc[u]&&y("category"))},[o,u]),Z.useEffect(()=>{f==="search"&&M.current&&M.current.focus(),f==="custom"&&q.current&&q.current.focus()},[f]);const H=$=>{U_($),A(rc()),i($),s()},W=()=>{const $=As(b);Ms($)&&(H($),S(""))},re=()=>u?R_(u):[],G=()=>N_(p),Q=[{key:"preset",label:"기본",icon:g.jsx(vv,{className:"w-4 h-4"})},{key:"recent",label:"최근",icon:g.jsx(fg,{className:"w-4 h-4"})},...u?[{key:"category",label:u,icon:g.jsx(Av,{className:"w-4 h-4"})}]:[],{key:"search",label:"검색",icon:g.jsx(qu,{className:"w-4 h-4"})},{key:"custom",label:"직접입력",icon:g.jsx("span",{className:"text-sm",children:"✏️"})},{key:"none",label:"없음",icon:g.jsx(Us,{className:"w-4 h-4"})}];return o?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in",children:g.jsxs("div",{className:`max-w-md w-full mx-4 rounded-2xl overflow-hidden ${d?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"} animate-scale-in`,children:[g.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[g.jsx("h3",{className:`text-lg font-semibold ${d?"text-white":"text-gray-900"}`,children:"이모지 선택"}),g.jsx("button",{onClick:s,className:`p-1 rounded-lg transition-colors ${d?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,children:g.jsx(qu,{className:"w-5 h-5"})})]}),g.jsx("div",{className:`flex border-b ${d?"border-gray-700":"border-gray-200"}`,children:Q.map($=>g.jsxs("button",{onClick:()=>y($.key),className:`flex-1 px-3 py-2 text-sm flex items-center justify-center gap-1 transition-colors ${f===$.key?d?"bg-gray-700 text-blue-400":"bg-blue-50 text-blue-600":d?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-700"}`,children:[$.icon,g.jsx("span",{className:"hidden sm:inline",children:$.label})]},$.key))}),g.jsxs("div",{className:"p-4 max-h-64 overflow-y-auto",children:[f==="preset"&&g.jsx("div",{className:"grid grid-cols-6 gap-2",children:k_.map($=>g.jsx("button",{onClick:()=>H($),className:`w-10 h-10 rounded-lg text-xl transition-all hover:scale-110 ${l===$?d?"bg-blue-700 ring-2 ring-blue-400":"bg-blue-100 ring-2 ring-blue-500":d?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:$},$))}),f==="recent"&&g.jsx("div",{children:T.length>0?g.jsx("div",{className:"grid grid-cols-6 gap-2",children:T.map(($,ee)=>g.jsx("button",{onClick:()=>H($),className:`w-10 h-10 rounded-lg text-xl transition-all hover:scale-110 ${l===$?d?"bg-blue-700 ring-2 ring-blue-400":"bg-blue-100 ring-2 ring-blue-500":d?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:$},`${$}-${ee}`))}):g.jsxs("div",{className:`text-center py-8 ${d?"text-gray-500":"text-gray-400"}`,children:[g.jsx(fg,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),g.jsx("p",{className:"text-sm",children:"최근 사용한 이모지가 없습니다"})]})}),f==="category"&&u&&g.jsx("div",{className:"grid grid-cols-6 gap-2",children:re().map(($,ee)=>g.jsx("button",{onClick:()=>H($),className:`w-10 h-10 rounded-lg text-xl transition-all hover:scale-110 ${l===$?d?"bg-blue-700 ring-2 ring-blue-400":"bg-blue-100 ring-2 ring-blue-500":d?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:$},`${$}-${ee}`))}),f==="search"&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"relative",children:[g.jsx(qu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),g.jsx("input",{ref:M,type:"text",value:p,onChange:$=>m($.target.value),placeholder:"이모지 검색... (예: 하트, 집, 운동)",className:`w-full pl-10 pr-3 py-2 rounded-lg border transition-colors ${d?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300"}`})]}),p&&g.jsx("div",{className:"grid grid-cols-6 gap-2",children:G().map(($,ee)=>g.jsx("button",{onClick:()=>H($),className:`w-10 h-10 rounded-lg text-xl transition-all hover:scale-110 ${l===$?d?"bg-blue-700 ring-2 ring-blue-400":"bg-blue-100 ring-2 ring-blue-500":d?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:$},`search-${$}-${ee}`))}),p&&G().length===0&&g.jsx("div",{className:`text-center py-4 ${d?"text-gray-500":"text-gray-400"}`,children:g.jsx("p",{className:"text-sm",children:"검색 결과가 없습니다"})})]}),f==="custom"&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{ref:q,type:"text",value:b,onChange:$=>S($.target.value),placeholder:"이모지를 붙여넣거나 입력하세요",className:`flex-1 px-3 py-2 rounded-lg border transition-colors ${d?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300"}`,onKeyPress:$=>$.key==="Enter"&&W()}),g.jsx("button",{onClick:W,disabled:!b.trim()||!Ms(As(b)),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"확인"})]}),b&&g.jsx("div",{className:`p-3 rounded-lg border ${Ms(As(b))?d?"border-green-600 bg-green-900/20":"border-green-300 bg-green-50":d?"border-red-600 bg-red-900/20":"border-red-300 bg-red-50"}`,children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"text-2xl",children:Ms(As(b))?As(b):"❌"}),g.jsx("div",{className:"text-sm",children:Ms(As(b))?g.jsx("span",{className:d?"text-green-300":"text-green-700",children:"유효한 이모지입니다"}):g.jsx("span",{className:d?"text-red-300":"text-red-700",children:"올바른 이모지를 입력해주세요"})})]})}),g.jsx("div",{className:`text-xs ${d?"text-gray-400":"text-gray-500"}`,children:g.jsx("p",{children:"💡 팁: 다른 앱에서 이모지를 복사해서 붙여넣을 수 있습니다"})})]}),f==="none"&&g.jsxs("div",{className:"text-center py-8",children:[g.jsx("div",{className:`w-16 h-16 rounded-lg border-2 border-dashed flex items-center justify-center mx-auto mb-4 ${d?"border-gray-600":"border-gray-300"}`,children:g.jsx(Us,{className:`w-8 h-8 ${d?"text-gray-500":"text-gray-400"}`})}),g.jsx("p",{className:`text-sm mb-4 ${d?"text-gray-300":"text-gray-600"}`,children:"이모지 없이 카테고리를 만들 수 있습니다"}),g.jsx("button",{onClick:()=>i(""),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"이모지 제거"})]})]})]})}):null}const R0=Z.createContext(void 0),vr=()=>{const o=Z.useContext(R0);if(o===void 0)throw new Error("useAuth must be used within an AuthProvider");return o},z_=({children:o})=>{const[s,i]=Z.useState(null),[l,u]=Z.useState(!0),d=m=>({id:m.id,email:m.email||"",name:m.user_metadata?.full_name||m.user_metadata?.name||"",avatar_url:m.user_metadata?.avatar_url||m.user_metadata?.picture||"",created_at:m.created_at,updated_at:m.updated_at||m.created_at});Z.useEffect(()=>{(async()=>{try{console.log("🔍 초기 세션 확인 중...");const{data:{session:S}}=await $e.auth.getSession();if(console.log("🔍 세션 결과:",S),S?.user){console.log("✅ 사용자 세션 발견:",S.user);const T=d(S.user);console.log("✅ 변환된 사용자:",T),i(T)}else console.log("❌ 사용자 세션 없음")}catch(S){console.error("❌ Error getting session:",S)}finally{console.log("🏁 초기 로딩 완료"),u(!1)}})();const{data:{subscription:b}}=$e.auth.onAuthStateChange(async(S,T)=>{if(console.log("🔄 인증 상태 변화:",{event:S,session:T}),u(!0),T?.user){console.log("✅ 세션에 사용자 있음:",T.user);const A=d(T.user);console.log("✅ 사용자 설정:",A),i(A),S==="SIGNED_IN"&&console.log("🎉 SIGNED_IN 이벤트 발생")}else console.log("❌ 세션에 사용자 없음"),i(null);console.log("🏁 인증 상태 로딩 완료"),u(!1)});return()=>b.unsubscribe()},[]);const p={user:s,loading:l,signInWithGoogle:async()=>{try{u(!0),console.log("🚀 구글 로그인 시작..."),console.log("🔗 리다이렉트 URL:",`${window.location.origin}`);const{data:m,error:b}=await $e.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}`,queryParams:{access_type:"offline",prompt:"consent"}}});if(console.log("📊 로그인 응답:",{data:m,error:b}),b)throw console.error("❌ 로그인 에러:",b),b;console.log("✅ 로그인 요청 성공")}catch(m){throw console.error("❌ Error signing in with Google:",m),u(!1),m}},signOut:async()=>{try{u(!0);const{error:m}=await $e.auth.signOut();if(m)throw m;localStorage.removeItem("todos-cache"),localStorage.removeItem("categories-cache"),localStorage.removeItem("subcategories-cache"),i(null)}catch(m){throw console.error("Error signing out:",m),m}finally{u(!1)}}};return g.jsx(R0.Provider,{value:p,children:o})},Ta=["#3B82F6","#8B5CF6","#10B981","#F59E0B","#EF4444","#F97316","#06B6D4","#8B5F87","#6B7280","#84CC16"];function L_({isOpen:o,onClose:s,categories:i,subcategories:l,isDark:u,onAddCategory:d,onUpdateCategory:f,onDeleteCategory:y,onAddSubCategory:p,onUpdateSubCategory:m,onDeleteSubCategory:b}){const{user:S}=vr(),[T,A]=Z.useState(null),[M,q]=Z.useState({name:"",color:Ta[0],icon:"",display_order:0}),[H,W]=Z.useState({name:"",color:"",icon:"",display_order:0}),[re,G]=Z.useState(!1),[Q,$]=Z.useState("new"),[ee,ye]=Z.useState(new Set),[me,K]=Z.useState(null),[ae,fe]=Z.useState({name:"",color:Ta[0],icon:"",parent_category_id:"",display_order:0}),[I,F]=Z.useState(null),[je,Me]=Z.useState({name:"",color:"",icon:"",parent_category_id:"",display_order:0}),[U,Y]=Z.useState(!1);Z.useEffect(()=>{i.length>0&&q(B=>({...B,display_order:Math.max(...i.map(ve=>ve.display_order))+1}))},[i]);const se=async()=>{if(!(!M.name.trim()||!S)){Y(!0);try{await d({...M,user_id:S.id}),q({name:"",color:Ta[0],icon:"",display_order:0})}finally{Y(!1)}}},Oe=B=>{const ve=l.filter(_e=>_e.parent_category_id===B);fe({name:"",color:Ta[0],icon:"",parent_category_id:B,display_order:ve.length}),K(B),ye(_e=>new Set([..._e,B]))},w=async()=>{if(!(!ae.name.trim()||!S)){Y(!0);try{await p({...ae,user_id:S.id}),fe({name:"",color:Ta[0],icon:"",parent_category_id:"",display_order:0}),K(null)}finally{Y(!1)}}},L=B=>{ye(ve=>{const _e=new Set(ve);return _e.has(B)?_e.delete(B):_e.add(B),_e})},X=B=>{Q==="new"?q(ve=>({...ve,icon:B})):Q==="edit"?W(ve=>({...ve,icon:B})):Q==="new-sub"?fe(ve=>({...ve,icon:B})):Q==="edit-sub"&&Me(ve=>({...ve,icon:B})),G(!1)},V=B=>{A(B.id),W({name:B.name,color:B.color,icon:B.icon,display_order:B.display_order})},te=async()=>{if(!(!T||!H.name.trim())){Y(!0);try{await f(T,H),A(null)}finally{Y(!1)}}},be=()=>{A(null),W({name:"",color:"",icon:"",display_order:0})};return o?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in",children:g.jsxs("div",{className:`max-w-3xl w-full mx-4 max-h-[90vh] overflow-hidden rounded-2xl ${u?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"} animate-scale-in`,children:[g.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(i0,{className:"w-6 h-6 text-blue-500"}),g.jsx("h2",{className:`text-xl font-semibold ${u?"text-white":"text-gray-900"}`,children:"카테고리 관리"})]}),g.jsx("button",{onClick:s,className:`p-2 rounded-lg transition-colors ${u?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,children:g.jsx(Us,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-140px)]",children:[g.jsxs("div",{className:`p-6 border-b ${u?"border-gray-700":"border-gray-200"}`,children:[g.jsx("h3",{className:`text-lg font-medium mb-4 ${u?"text-white":"text-gray-900"}`,children:"새 카테고리 추가"}),g.jsxs("div",{className:"flex gap-3 mb-4",children:[g.jsx("input",{type:"text",value:M.name,onChange:B=>q(ve=>({...ve,name:B.target.value})),placeholder:"카테고리 이름",className:`flex-1 px-3 py-2 rounded-lg border ${u?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,onKeyPress:B=>B.key==="Enter"&&se()}),g.jsx("button",{onClick:se,disabled:!M.name.trim()||U,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:"추가"})]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("div",{className:"flex gap-2",children:Ta.slice(0,6).map(B=>g.jsx("button",{onClick:()=>q(ve=>({...ve,color:B})),className:`w-8 h-8 rounded-full border-2 ${M.color===B?"border-gray-800 dark:border-white":"border-gray-300"}`,style:{backgroundColor:B}},B))}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:`w-10 h-10 rounded border flex items-center justify-center text-lg ${u?"border-gray-600 bg-gray-700":"border-gray-300 bg-gray-100"}`,children:M.icon||g.jsx("div",{className:`text-xs ${u?"text-gray-400":"text-gray-500"}`,children:"없음"})}),g.jsx("button",{onClick:()=>{$("new"),G(!0)},className:"px-3 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 text-sm",children:M.icon?"변경":"선택"}),M.icon&&g.jsx("button",{onClick:()=>q(B=>({...B,icon:""})),className:"px-3 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm",children:"제거"})]})]})]}),g.jsxs("div",{className:"p-6",children:[g.jsx("h3",{className:`text-lg font-medium mb-4 ${u?"text-white":"text-gray-900"}`,children:"기존 카테고리"}),g.jsx("div",{className:"space-y-2",children:i.map(B=>{const ve=l.filter(le=>le.parent_category_id===B.id),_e=ee.has(B.id);return g.jsxs("div",{className:`rounded-lg border ${u?"border-gray-700":"border-gray-200"}`,children:[g.jsx("div",{className:`p-4 ${u?"bg-gray-750":"bg-gray-50"}`,children:T===B.id?g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex gap-3",children:[g.jsx("input",{type:"text",value:H.name,onChange:le=>W(Ke=>({...Ke,name:le.target.value})),className:`flex-1 px-3 py-2 rounded-lg border ${u?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,onKeyDown:le=>{le.key==="Enter"&&te(),le.key==="Escape"&&be()},autoFocus:!0}),g.jsx("button",{onClick:te,disabled:!H.name.trim()||U,className:"px-3 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50",children:"저장"}),g.jsx("button",{onClick:be,className:"px-3 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"취소"})]}),g.jsx("div",{className:"flex gap-2",children:Ta.map(le=>g.jsx("button",{onClick:()=>W(Ke=>({...Ke,color:le})),className:`w-6 h-6 rounded-full border ${H.color===le?"border-black dark:border-white":"border-gray-300"}`,style:{backgroundColor:le}},le))}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`w-10 h-10 rounded-lg border flex items-center justify-center text-lg ${u?"border-gray-600 bg-gray-700":"border-gray-300 bg-gray-100"}`,children:H.icon||g.jsx("div",{className:`text-xs ${u?"text-gray-400":"text-gray-500"}`,children:"없음"})}),g.jsx("button",{onClick:()=>{$("edit"),G(!0)},className:"px-3 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 text-sm",children:H.icon?"변경":"선택"}),H.icon&&g.jsx("button",{onClick:()=>W(le=>({...le,icon:""})),className:"px-3 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm",children:"제거"})]})]}):g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[ve.length>0&&g.jsx("button",{onClick:()=>L(B.id),className:`p-1 rounded transition-colors ${u?"hover:bg-gray-600":"hover:bg-gray-200"}`,children:_e?g.jsx(uc,{className:"w-4 h-4"}):g.jsx(cv,{className:"w-4 h-4"})}),g.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:B.color}}),B.icon&&g.jsx("span",{className:"text-lg",children:B.icon}),g.jsx("span",{className:`font-medium ${u?"text-white":"text-gray-900"}`,children:B.name}),ve.length>0&&g.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${u?"bg-gray-600 text-gray-300":"bg-gray-200 text-gray-600"}`,children:[ve.length,"개"]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>Oe(B.id),className:`p-2 rounded-lg transition-colors ${u?"hover:bg-green-900/20 text-green-400":"hover:bg-green-50 text-green-600"}`,title:"서브카테고리 추가",children:g.jsx(s0,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>V(B),className:`p-2 rounded-lg transition-colors ${u?"hover:bg-gray-600 text-gray-400":"hover:bg-gray-200 text-gray-600"}`,children:g.jsx(fr,{className:"w-4 h-4"})}),i.length>1&&g.jsx("button",{onClick:()=>y(B.id),className:"p-2 rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:g.jsx(hr,{className:"w-4 h-4"})})]})]})}),(_e||me===B.id)&&g.jsxs("div",{className:`border-t ${u?"border-gray-700":"border-gray-200"}`,children:[ve.map(le=>g.jsx("div",{className:`p-3 pl-8 ${u?"hover:bg-gray-700/50":"hover:bg-gray-100/50"}`,children:I===le.id?g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",value:je.name,onChange:Ke=>Me(Ot=>({...Ot,name:Ke.target.value})),className:`flex-1 px-2 py-1 rounded border text-sm ${u?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,autoFocus:!0}),g.jsx("button",{onClick:async()=>{if(je.name.trim()){Y(!0);try{await m(le.id,je),F(null)}finally{Y(!1)}}},disabled:!je.name.trim()||U,className:"px-2 py-1 bg-green-500 text-white rounded text-xs hover:bg-green-600",children:"저장"}),g.jsx("button",{onClick:()=>F(null),className:"px-2 py-1 bg-gray-500 text-white rounded text-xs hover:bg-gray-600",children:"취소"})]}),g.jsxs("div",{className:"flex gap-2",children:[Ta.slice(0,6).map(Ke=>g.jsx("button",{onClick:()=>Me(Ot=>({...Ot,color:Ke})),className:`w-4 h-4 rounded-full border ${je.color===Ke?"border-black dark:border-white":"border-gray-300"}`,style:{backgroundColor:Ke}},Ke)),g.jsx("div",{className:`w-6 h-6 rounded border flex items-center justify-center ml-2 ${u?"border-gray-600 bg-gray-600":"border-gray-300 bg-gray-100"}`,children:je.icon||g.jsx("div",{className:`text-xs ${u?"text-gray-400":"text-gray-500"}`,children:"×"})}),g.jsx("button",{onClick:()=>{$("edit-sub"),G(!0)},className:"px-2 py-1 bg-purple-500 text-white rounded text-xs hover:bg-purple-600",children:je.icon?"변경":"선택"})]})]}):g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-1 h-4 bg-gray-400 rounded-full opacity-50"}),g.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:le.color}}),le.icon&&g.jsx("span",{className:"text-sm",children:le.icon}),g.jsx("span",{className:`text-sm ${u?"text-gray-300":"text-gray-600"}`,children:le.name})]}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("button",{onClick:()=>{F(le.id),Me({name:le.name,color:le.color,icon:le.icon,parent_category_id:le.parent_category_id,display_order:le.display_order})},className:`p-1 rounded transition-colors ${u?"hover:bg-gray-600 text-gray-500":"hover:bg-gray-200 text-gray-500"}`,children:g.jsx(fr,{className:"w-3 h-3"})}),g.jsx("button",{onClick:()=>b(le.id),className:"p-1 rounded text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:g.jsx(hr,{className:"w-3 h-3"})})]})]})},le.id)),me===B.id&&g.jsx("div",{className:`p-4 pl-8 border-t ${u?"border-gray-700 bg-gray-800":"border-gray-200 bg-white"}`,children:g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",value:ae.name,onChange:le=>fe(Ke=>({...Ke,name:le.target.value})),placeholder:"서브카테고리 이름",className:`flex-1 px-3 py-2 rounded-lg border text-sm ${u?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,onKeyPress:le=>le.key==="Enter"&&w(),autoFocus:!0}),g.jsx("button",{onClick:w,disabled:!ae.name.trim()||U,className:"px-3 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 text-sm",children:"추가"}),g.jsx("button",{onClick:()=>K(null),className:"px-3 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm",children:"취소"})]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("div",{className:"flex gap-1",children:Ta.slice(0,6).map(le=>g.jsx("button",{onClick:()=>fe(Ke=>({...Ke,color:le})),className:`w-6 h-6 rounded-full border ${ae.color===le?"border-black dark:border-white":"border-gray-300"}`,style:{backgroundColor:le}},le))}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:`w-8 h-8 rounded border flex items-center justify-center ${u?"border-gray-600 bg-gray-600":"border-gray-300 bg-gray-100"}`,children:ae.icon||g.jsx("div",{className:`text-xs ${u?"text-gray-400":"text-gray-500"}`,children:"없음"})}),g.jsx("button",{onClick:()=>{$("new"),G(!0)},className:"px-2 py-1 bg-purple-500 text-white rounded text-xs hover:bg-purple-600",children:ae.icon?"변경":"선택"}),ae.icon&&g.jsx("button",{onClick:()=>fe(le=>({...le,icon:""})),className:"px-2 py-1 bg-gray-500 text-white rounded text-xs hover:bg-gray-600",children:"제거"})]})]})]})})]})]},B.id)})})]})]}),g.jsx(D_,{isOpen:re,onClose:()=>G(!1),onSelect:X,currentEmoji:Q==="new"?M.icon:Q==="edit"?H.icon:Q==="new-sub"?ae.icon:je.icon,categoryName:Q==="new"?M.name:Q==="edit"?H.name:"",isDark:u})]})}):null}function $_({isOpen:o,onClose:s,reviewTodos:i,categories:l,subcategories:u,isDark:d,onConfirm:f,isSubmitting:y,aiSummary:p}){const[m,b]=Z.useState(i),[S,T]=Z.useState(!0);Z.useEffect(()=>{b(i),T(i.every(K=>K.selected))},[i]);const A=(K,ae,fe)=>{b(I=>I.map(F=>F.id===K?{...F,[ae]:fe}:F))},M=()=>{const K=!S;b(ae=>ae.map(fe=>({...fe,selected:K}))),T(K)},q=K=>{b(ae=>{const fe=ae.map(I=>I.id===K?{...I,selected:!I.selected}:I);return T(fe.every(I=>I.selected)),fe})},H=K=>{b(ae=>{const fe=ae.filter(I=>I.id!==K);return T(fe.length>0&&fe.every(I=>I.selected)),fe})},W=async()=>{const K=m.filter(I=>I.selected&&I.text.trim());if(K.filter(I=>!I.text.trim()).length>0){alert("빈 할일은 추가할 수 없습니다.");return}K.filter((I,F)=>K.findIndex(je=>je.text.trim().toLowerCase()===I.text.trim().toLowerCase())!==F).length>0&&!confirm("중복된 할일이 있습니다. 그래도 추가하시겠습니까?")||K.length>0&&await f(K)},re=m.filter(K=>K.selected).length,G=m.filter(K=>K.text.trim()),Q=K=>{const ae=l.find(fe=>fe.name===K);return ae?{color:ae.color,icon:ae.icon}:{color:"#6B7280",icon:"📝"}},$=K=>u.find(fe=>fe.id===K)||null,ee=K=>{const ae=l.find(fe=>fe.name===K);return ae?u.filter(fe=>fe.parent_category_id===ae.id):[]},ye=(K,ae)=>{A(K,"category",ae),A(K,"subcategory_id",null)},me=K=>{if(!K)return"";try{return new Date(K).toISOString().split("T")[0]}catch{return""}};return o?g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in",children:g.jsxs("div",{className:`max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden rounded-2xl ${d?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"} animate-scale-in`,children:[g.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(Iu,{className:"w-6 h-6 text-purple-500"}),g.jsxs("div",{children:[g.jsx("h2",{className:`text-xl font-semibold ${d?"text-white":"text-gray-900"}`,children:"AI 할일 분석 결과"}),g.jsx("p",{className:`text-sm ${d?"text-gray-400":"text-gray-600"}`,children:"검토 후 추가할 할일을 선택해주세요"})]})]}),g.jsx("button",{onClick:s,className:`p-2 rounded-lg transition-colors ${d?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,children:g.jsx(Us,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-200px)]",children:[p&&g.jsxs("div",{className:`p-4 m-6 rounded-lg border-l-4 border-purple-500 ${d?"bg-purple-900/20 border-purple-400":"bg-purple-50"}`,children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx(Iu,{className:"w-4 h-4 text-purple-500"}),g.jsx("span",{className:`text-sm font-medium ${d?"text-purple-300":"text-purple-700"}`,children:"AI 분석 요약"})]}),g.jsx("p",{className:`text-sm ${d?"text-purple-200":"text-purple-600"}`,children:p})]}),g.jsx("div",{className:"p-6 pb-4",children:g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("button",{onClick:M,className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${d?"hover:bg-gray-700 text-gray-300":"hover:bg-gray-100 text-gray-600"}`,children:[S?g.jsx(Uv,{className:"w-4 h-4"}):g.jsx(Dv,{className:"w-4 h-4"}),g.jsx("span",{className:"text-sm",children:"전체 선택"})]}),g.jsx("div",{className:"flex items-center gap-4",children:g.jsxs("span",{className:`text-sm ${d?"text-gray-400":"text-gray-600"}`,children:[re,"개 선택됨 / 총 ",G.length,"개"]})})]})}),g.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[m.map((K,ae)=>{const fe=Q(K.category);return g.jsx("div",{className:`p-4 rounded-lg border transition-all duration-300 ${K.selected?d?"border-purple-500 bg-purple-900/10":"border-purple-300 bg-purple-50":d?"border-gray-700 bg-gray-750":"border-gray-200 bg-gray-50"} animate-slide-in-up`,style:{animationDelay:`${ae*.1}s`},children:g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("button",{onClick:()=>q(K.id),className:`mt-1 flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center transition-all ${K.selected?"bg-purple-500 border-purple-500 text-white":d?"border-gray-500 hover:border-purple-400":"border-gray-300 hover:border-purple-500"}`,children:K.selected&&g.jsx(dr,{className:"w-3 h-3"})}),g.jsxs("div",{className:"flex-1 space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:`block text-sm font-medium mb-1 ${d?"text-gray-300":"text-gray-700"}`,children:"할일 내용"}),g.jsx("input",{type:"text",value:K.text,onChange:I=>A(K.id,"text",I.target.value),className:`w-full px-3 py-2 rounded-lg border transition-colors ${K.text.trim()?d?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300":"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-900/20"} focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent`,placeholder:"할일을 입력하세요"}),!K.text.trim()&&g.jsx("p",{className:"text-xs text-red-500 mt-1",children:"할일 내용을 입력해주세요."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:`block text-sm font-medium mb-1 ${d?"text-gray-300":"text-gray-700"}`,children:"카테고리"}),g.jsxs("div",{className:"relative",children:[g.jsx("select",{value:K.category,onChange:I=>ye(K.id,I.target.value),className:`w-full px-3 py-2 rounded-lg border transition-colors ${d?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"} focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent`,children:l.map(I=>g.jsxs("option",{value:I.name,children:[I.icon," ",I.name]},I.id))}),g.jsx("div",{className:"absolute right-10 top-1/2 transform -translate-y-1/2 w-3 h-3 rounded-full",style:{backgroundColor:fe.color}})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:`block text-sm font-medium mb-1 ${d?"text-gray-300":"text-gray-700"}`,children:"서브카테고리"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{value:K.subcategory_id||"",onChange:I=>A(K.id,"subcategory_id",I.target.value||null),className:`w-full px-3 py-2 rounded-lg border transition-colors ${d?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"} focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent`,disabled:ee(K.category).length===0,children:[g.jsx("option",{value:"",children:"서브카테고리 없음"}),ee(K.category).map(I=>g.jsxs("option",{value:I.id,children:[I.icon," ",I.name]},I.id))]}),K.subcategory_id&&$(K.subcategory_id)&&g.jsx("div",{className:"absolute right-10 top-1/2 transform -translate-y-1/2 w-3 h-3 rounded-full",style:{backgroundColor:$(K.subcategory_id).color}})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:`block text-sm font-medium mb-1 ${d?"text-gray-300":"text-gray-700"}`,children:"마감일"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"date",value:me(K.due_date),onChange:I=>A(K.id,"due_date",I.target.value||null),className:`w-full px-3 py-2 rounded-lg border transition-colors ${d?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"} focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent`}),K.due_date&&g.jsx(n0,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),g.jsx("button",{onClick:()=>H(K.id),className:`mt-1 p-2 rounded-lg transition-colors ${d?"hover:bg-red-900/20 text-red-400":"hover:bg-red-50 text-red-500"}`,children:g.jsx(hr,{className:"w-4 h-4"})})]})},K.id)}),m.length===0&&g.jsxs("div",{className:`text-center py-8 ${d?"text-gray-500":"text-gray-400"}`,children:[g.jsx(fr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),g.jsx("p",{children:"분석된 할일이 없습니다."})]})]})]}),g.jsxs("div",{className:`flex items-center justify-between p-6 border-t ${d?"border-gray-700":"border-gray-200"}`,children:[g.jsx("button",{onClick:s,className:`px-4 py-2 rounded-lg transition-colors ${d?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-700"}`,children:"취소"}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("span",{className:`text-sm ${d?"text-gray-400":"text-gray-600"}`,children:[re,"개 할일을 추가합니다"]}),g.jsxs("button",{onClick:W,disabled:re===0||y,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg hover:from-purple-600 hover:to-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center gap-2 transform hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl",children:[y?g.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):g.jsx(dr,{className:"w-4 h-4"}),y?"추가 중...":"할일 추가"]})]})]})]})}):null}function q_({todo:o,categories:s,subcategories:i,isDark:l,isEditing:u,onStartEdit:d,onSave:f,onCancel:y,isSubmitting:p}){const[m,b]=Z.useState(o.text),[S,T]=Z.useState(o.category),[A,M]=Z.useState(o.subcategory_id||""),[q,H]=Z.useState(o.due_date||""),[W,re]=Z.useState(!1),G=Z.useRef(null),Q=Z.useRef(null),$=i.filter(F=>{const je=s.find(Me=>Me.name===S);return je&&F.parent_category_id===je.id});Z.useEffect(()=>{u&&G.current&&(G.current.focus(),G.current.select())},[u]),Z.useEffect(()=>{const F=je=>{Q.current&&!Q.current.contains(je.target)&&re(!1)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]);const ee=F=>{F.key==="Enter"&&!F.shiftKey?(F.preventDefault(),ye()):F.key==="Escape"&&me()},ye=async()=>{if(!m.trim())return;const F={text:m.trim(),category:S,subcategory_id:A||null,due_date:q||null};await f(F)},me=()=>{b(o.text),T(o.category),M(o.subcategory_id||""),H(o.due_date||""),y()},K=F=>{T(F),M(""),re(!1)},ae=F=>s.find(Me=>Me.name===F)||{color:"#6B7280",icon:"📝"},fe=F=>i.find(Me=>Me.id===F)||null,I=F=>{if(!F)return"";try{return new Date(F).toISOString().split("T")[0]}catch{return""}};if(!u){const F=ae(o.category),je=o.subcategory_id?fe(o.subcategory_id):null;return g.jsx("div",{className:"group cursor-pointer",onClick:d,children:g.jsx("div",{className:"flex items-start gap-4",children:g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("span",{className:`transition-all duration-300 ${o.completed?"line-through text-gray-500":l?"text-white":"text-gray-900"}`,children:o.text}),g.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1 rounded text-gray-400 hover:text-blue-500 transition-all",children:g.jsx(fr,{className:"w-3 h-3"})})]}),g.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[g.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium transition-all duration-300 flex items-center gap-1",style:{backgroundColor:`${F.color}20`,color:F.color},children:[F.icon&&g.jsx("span",{children:F.icon}),o.category]}),je&&g.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium transition-all duration-300 flex items-center gap-1",style:{backgroundColor:`${je.color}15`,color:je.color},children:[je.icon&&g.jsx("span",{children:je.icon}),je.name]}),o.due_date&&g.jsxs("span",{className:`flex items-center gap-1 transition-colors duration-300 ${l?"text-gray-400":"text-gray-500"}`,children:[g.jsx(n0,{className:"w-3 h-3"}),new Date(o.due_date).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})]})]})]})})})}return g.jsxs("div",{className:"space-y-3",children:[g.jsx("div",{children:g.jsx("input",{ref:G,type:"text",value:m,onChange:F=>b(F.target.value),onKeyDown:ee,className:`w-full px-3 py-2 rounded-lg border-2 transition-all duration-300 focus:outline-none ${l?"bg-gray-700 border-blue-500 text-white placeholder-gray-400":"bg-white border-blue-500 shadow-sm"}`,placeholder:"할일을 입력하세요",disabled:p})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[g.jsxs("div",{className:"relative",ref:Q,children:[g.jsxs("button",{onClick:()=>re(!W),className:`w-full px-3 py-2 rounded-lg border transition-all duration-300 flex items-center justify-between ${l?"bg-gray-700 border-gray-600 text-white hover:border-gray-500":"bg-white border-gray-300 hover:border-gray-400"}`,disabled:p,children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{children:ae(S).icon}),g.jsx("span",{children:S})]}),g.jsx(uc,{className:`w-4 h-4 transition-transform ${W?"rotate-180":""}`})]}),W&&g.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 rounded-lg border shadow-lg z-10 ${l?"bg-gray-700 border-gray-600":"bg-white border-gray-200"}`,children:s.map(F=>g.jsxs("button",{onClick:()=>K(F.name),className:`w-full px-3 py-2 text-left flex items-center gap-2 transition-colors ${S===F.name?l?"bg-gray-600":"bg-gray-100":l?"hover:bg-gray-600":"hover:bg-gray-50"}`,children:[g.jsx("span",{children:F.icon}),g.jsx("span",{children:F.name})]},F.id))})]}),g.jsx("div",{children:g.jsxs("select",{value:A,onChange:F=>M(F.target.value),className:`w-full px-3 py-2 rounded-lg border transition-all duration-300 ${l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,disabled:p||$.length===0,children:[g.jsx("option",{value:"",children:"서브카테고리 없음"}),$.map(F=>g.jsxs("option",{value:F.id,children:[F.icon," ",F.name]},F.id))]})})]}),g.jsx("div",{children:g.jsx("input",{type:"date",value:I(q),onChange:F=>H(F.target.value),className:`w-full px-3 py-2 rounded-lg border transition-all duration-300 ${l?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,disabled:p})}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx("button",{onClick:me,disabled:p,className:`px-3 py-1 rounded-lg transition-colors ${l?"text-gray-400 hover:text-gray-300 hover:bg-gray-700":"text-gray-600 hover:text-gray-700 hover:bg-gray-100"}`,children:g.jsx(Us,{className:"w-4 h-4"})}),g.jsx("button",{onClick:ye,disabled:!m.trim()||p,className:"px-3 py-1 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1",children:p?g.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):g.jsx(dr,{className:"w-4 h-4"})})]})]})}const B_=({isDark:o})=>{const{signInWithGoogle:s,loading:i}=vr(),[l,u]=Z.useState(!1),d=async()=>{try{u(!0),await s()}catch(y){console.error("Login failed:",y),alert("로그인에 실패했습니다. 다시 시도해주세요.")}finally{u(!1)}},f=[{icon:g.jsx(Iu,{className:"w-6 h-6"}),title:"AI 할일 분석",description:"복잡한 할일 목록을 AI가 자동으로 분석하고 정리합니다"},{icon:g.jsx(fv,{className:"w-6 h-6"}),title:"스마트 카테고리",description:"할일을 자동으로 분류하고 우선순위를 제안합니다"},{icon:g.jsx(Gv,{className:"w-6 h-6"}),title:"실시간 동기화",description:"모든 기기에서 실시간으로 동기화되는 할일 관리"}];return g.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 sm:px-6 transition-all duration-500 ${o?"bg-gray-900":"bg-gray-50"}`,children:g.jsxs("div",{className:"max-w-md w-full space-y-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx("div",{className:`p-4 rounded-2xl ${o?"bg-gray-800":"bg-white shadow-lg"}`,children:g.jsx(Rv,{className:`w-12 h-12 ${o?"text-purple-400":"text-purple-600"}`})})}),g.jsx("h1",{className:`text-3xl font-light mb-2 ${o?"text-white":"text-gray-900"}`,children:"AI 할일 관리"}),g.jsx("p",{className:`text-lg ${o?"text-gray-400":"text-gray-600"}`,children:"스마트하게 할일을 관리하세요"})]}),g.jsx("div",{className:`p-6 rounded-2xl space-y-4 ${o?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200 shadow-lg"}`,children:f.map((y,p)=>g.jsxs("div",{className:"flex items-start space-x-4",children:[g.jsx("div",{className:`p-2 rounded-lg ${o?"bg-purple-900/30 text-purple-400":"bg-purple-100 text-purple-600"}`,children:y.icon}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:`font-medium mb-1 ${o?"text-white":"text-gray-900"}`,children:y.title}),g.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"}`,children:y.description})]})]},p))}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("button",{onClick:d,disabled:i||l,className:`w-full flex items-center justify-center px-6 py-4 rounded-xl font-medium transition-all duration-300 transform hover:scale-105 active:scale-95 disabled:transform-none disabled:opacity-50 disabled:cursor-not-allowed ${o?"bg-white text-gray-900 hover:bg-gray-100 shadow-lg hover:shadow-xl":"bg-white text-gray-900 hover:bg-gray-50 border border-gray-300 shadow-lg hover:shadow-xl"}`,children:i||l?g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"w-5 h-5 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}),g.jsx("span",{children:"로그인 중..."})]}):g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[g.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),g.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),g.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),g.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),g.jsx("span",{children:"Google로 시작하기"})]})}),g.jsx("p",{className:`text-center text-sm ${o?"text-gray-500":"text-gray-400"}`,children:"계정이 없으면 자동으로 생성됩니다"})]}),g.jsx("div",{className:"text-center space-y-2",children:g.jsx("p",{className:`text-xs ${o?"text-gray-600":"text-gray-400"}`,children:"로그인하면 서비스 이용약관과 개인정보처리방침에 동의하는 것으로 간주됩니다."})})]})})},H_=({isDark:o})=>{const{user:s,signOut:i,loading:l}=vr(),[u,d]=Z.useState(!1),f=async()=>{try{await i()}catch(y){console.error("Logout failed:",y),alert("로그아웃에 실패했습니다. 다시 시도해주세요.")}};return s?g.jsxs("div",{className:"relative",children:[g.jsxs("button",{onClick:()=>d(!u),className:`flex items-center space-x-3 px-3 py-2 rounded-xl transition-all duration-300 hover:scale-105 ${o?"bg-gray-800 hover:bg-gray-700 text-gray-300":"bg-white hover:bg-gray-50 text-gray-700 shadow-lg hover:shadow-xl border border-gray-200"}`,children:[s.avatar_url?g.jsx("img",{src:s.avatar_url,alt:s.name||s.email,className:"w-8 h-8 rounded-full"}):g.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${o?"bg-gray-600":"bg-gray-200"}`,children:g.jsx(hg,{className:"w-4 h-4"})}),g.jsxs("div",{className:"hidden sm:block text-left",children:[g.jsx("p",{className:"text-sm font-medium",children:s.name||"사용자"}),g.jsx("p",{className:`text-xs ${o?"text-gray-500":"text-gray-400"}`,children:s.email})]}),g.jsx(uc,{className:`w-4 h-4 transition-transform duration-200 ${u?"rotate-180":""}`})]}),u&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1)}),g.jsx("div",{className:`absolute right-0 top-full mt-2 w-64 rounded-xl shadow-xl border z-50 ${o?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:g.jsxs("div",{className:"p-4",children:[g.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.avatar_url?g.jsx("img",{src:s.avatar_url,alt:s.name||s.email,className:"w-12 h-12 rounded-full"}):g.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${o?"bg-gray-600":"bg-gray-200"}`,children:g.jsx(hg,{className:"w-6 h-6"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:`font-medium ${o?"text-white":"text-gray-900"}`,children:s.name||"사용자"}),g.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"}`,children:s.email})]})]}),g.jsx("div",{className:"space-y-2",children:g.jsxs("button",{onClick:f,disabled:l,className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${o?"hover:bg-gray-700 text-red-400":"hover:bg-red-50 text-red-600"} disabled:opacity-50`,children:[g.jsx(bv,{className:"w-4 h-4"}),g.jsx("span",{className:"text-sm",children:l?"로그아웃 중...":"로그아웃"})]})})]})})]})]}):null};function G_(){const{user:o,loading:s}=vr(),[i,l]=Z.useState([]),[u,d]=Z.useState(""),[f,y]=Z.useState(()=>localStorage.getItem("darkMode")==="true"),[p,m]=Z.useState("all"),[b,S]=Z.useState("all"),[T,A]=Z.useState("all"),[M,q]=Z.useState("개인"),[H,W]=Z.useState(""),[re,G]=Z.useState(""),[Q,$]=Z.useState(!1),[ee,ye]=Z.useState(navigator.onLine),[me,K]=Z.useState(!1),[ae,fe]=Z.useState([]),[I,F]=Z.useState([]),[je,Me]=Z.useState(!1),[U,Y]=Z.useState(!1),[se,Oe]=Z.useState([]),[w,L]=Z.useState(""),[X,V]=Z.useState(""),[te,be]=Z.useState(""),[B,ve]=Z.useState(""),[_e,le]=Z.useState(null),[Ke,Ot]=Z.useState(null),[Wt,ea]=Z.useState("connected");Z.useEffect(()=>{if(!o)return;const R=async(Pe=0)=>{console.log("📦 데이터 로딩 시작... (시도:",Pe+1,")"),K(!0);try{console.log("🔄 Todos, Categories, Subcategories 로딩 중...");const[Xt,Qt,Oa]=await Promise.all([Je.getTodos(),Je.getCategories(),Je.getSubCategories()]);console.log("📊 로드된 데이터:",{todos:Xt.length,categories:Qt.length,subcategories:Oa.length}),console.log("📋 Categories:",Qt),console.log("📋 Subcategories:",Oa);let ua=Qt;if(Qt.length===0){console.log("🔧 기본 카테고리 생성 중...");try{const Aa=[{name:"개인",color:"#6B7280",icon:"👤",display_order:1},{name:"업무",color:"#3B82F6",icon:"💼",display_order:2},{name:"학습",color:"#10B981",icon:"📚",display_order:3}],St=[];for(const it of Aa){const dt=await Je.addCategory(it);dt&&St.push(dt)}ua=St,console.log("✅ 기본 카테고리 생성 완료:",St.length)}catch(Aa){console.error("❌ 기본 카테고리 생성 실패:",Aa)}}if(l(Xt),fe(ua),F(Oa),ua.length>0){console.log("✅ 기본 카테고리 설정:",ua[0].name),q(ua[0].name);const Aa=Oa.filter(St=>St.parent_category_id===ua[0].id);Aa.length>0&&W(Aa[0].id)}else console.log("❌ 카테고리 생성도 실패했습니다!")}catch(Xt){if(console.error("❌ Failed to load data:",Xt),Pe<2){console.log("🔄 데이터 로딩 재시도 중..."),setTimeout(()=>R(Pe+1),2e3);return}else console.error("❌ 데이터 로딩 최종 실패. 로컬 데이터 사용."),alert("데이터 로딩에 실패했습니다. 새로고침을 시도하거나 네트워크를 확인해주세요.")}finally{console.log("🏁 데이터 로딩 완료"),K(!1)}};R(),Nn(f);const J=()=>ye(!0),de=()=>ye(!1);window.addEventListener("online",J),window.addEventListener("offline",de);const ie=Je.subscribeToChanges(Pe=>{console.log("🔄 실시간 할일 업데이트:",Pe.length),l(Pe),ea("connected")}),Ae=Je.subscribeToCategoryChanges(Pe=>{console.log("🔄 실시간 카테고리 업데이트:",Pe.length),fe(Pe),ea("connected")}),pe=Je.subscribeToSubCategoryChanges(Pe=>{console.log("🔄 실시간 서브카테고리 업데이트:",Pe.length),F(Pe),ea("connected")}),At=(()=>{const Pe=setTimeout(()=>{console.log("⚠️ 실시간 구독 상태 확인 중..."),ea("disconnected")},5e3);return()=>clearTimeout(Pe)})();return()=>{window.removeEventListener("online",J),window.removeEventListener("offline",de),At(),ie(),Ae(),pe()}},[o]);const Nn=R=>{R?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},Yi=async()=>{if(u.trim())if(u.includes(",")||u.includes("그리고")||u.includes("및")||u.includes("후에")||u.includes("다음에")){V(u),be(M),ve(re);const R=new AbortController;le(R),$(!0),d(""),G(""),W("");try{const J=ae.map(Ae=>Ae.name),de=ae.map(Ae=>({category:Ae.name,subcategories:I.filter(pe=>pe.parent_category_id===Ae.id).map(pe=>({id:pe.id,name:pe.name}))})),ie=await xp(u,J,de);if(R.signal.aborted)return;if(ie.todos&&ie.todos.length>0){const Ae=ie.todos.map((pe,Fe)=>{let At=null;if(pe.subcategory&&pe.category){const Pe=ae.find(Xt=>Xt.name===pe.category);Pe&&(At=I.find(Qt=>Qt.parent_category_id===Pe.id&&Qt.name===pe.subcategory)?.id||null)}return{id:`review_${Date.now()}_${Fe}`,text:pe.title,category:pe.category||te,subcategory_id:At,due_date:pe.dueDate||null,selected:!0}});Oe(Ae),L(ie.summary||""),Y(!0)}else pt(),Ki()}catch(J){if(console.error("Failed to parse todos:",J),!R.signal.aborted){const de=J.message||"AI 분석 중 오류가 발생했습니다";alert(`❌ ${de}

원래 입력을 복원하고 단순 추가 모드로 전환합니다.`),pt()}}finally{R.signal.aborted||($(!1),le(null))}}else Ki(),d(""),G(""),W("")},pr=()=>{_e&&(_e.abort(),le(null)),$(!1),pt()},pt=()=>{d(X),q(te),G(B);const R=ae.find(J=>J.name===te);if(R){const J=I.filter(de=>de.parent_category_id===R.id);W(J.length>0?J[0].id:"")}V(""),be(""),ve("")},Ki=async()=>{await Je.addTodo({text:u,completed:!1,category:M,subcategory_id:H||null,due_date:re||null})},Vi=async R=>{const J=i.find(ie=>ie.id===R);if(!J)return;const de=i.map(ie=>ie.id===R?{...ie,completed:!ie.completed}:ie);l(de);try{await Je.updateTodo(R,{completed:!J.completed})}catch(ie){console.error("Failed to toggle todo:",ie),l(i),alert("할일 상태 변경에 실패했습니다. 다시 시도해주세요.")}},Xi=async R=>{if(!i.find(ie=>ie.id===R))return;const de=i.filter(ie=>ie.id!==R);l(de);try{if(!await Je.deleteTodo(R))throw new Error("Delete operation failed")}catch(ie){console.error("Failed to delete todo:",ie),l(i),alert("할일 삭제에 실패했습니다. 다시 시도해주세요.")}},sn=i.filter(R=>{let J=!0;p==="completed"&&(J=R.completed),p==="active"&&(J=!R.completed);let de=!0;b!=="all"&&(de=R.category===b);let ie=!0;return T!=="all"&&(T==="none"?ie=!R.subcategory_id:ie=R.subcategory_id===T),J&&de&&ie}),Qi=i.filter(R=>R.completed).length,Ii=i.length?Qi/i.length*100:0,br=R=>{const J=ae.find(Fe=>Fe.name===R);if(!J)return{color:"#6B7280",icon:"",className:f?"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300":"bg-gray-100 text-gray-800"};const ie=(Fe=>{const At=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Fe);return At?{r:parseInt(At[1],16),g:parseInt(At[2],16),b:parseInt(At[3],16)}:null})(J.color),Ae=f?"0.2":"0.1",pe=f?"0.9":"0.8";return{color:J.color,icon:J.icon,className:"",style:{backgroundColor:ie?`rgba(${ie.r}, ${ie.g}, ${ie.b}, ${Ae})`:void 0,color:ie?`rgba(${ie.r}, ${ie.g}, ${ie.b}, ${pe})`:void 0}}},_r=async R=>{await Je.addCategory(R)},ln=async(R,J)=>{await Je.updateCategory(R,J)},bt=async R=>{await Je.deleteCategory(R)},ta=async R=>{await Je.addSubCategory(R)},_t=async(R,J)=>{await Je.updateSubCategory(R,J)},wr=async R=>{await Je.deleteSubCategory(R)},xr=async R=>{$(!0);try{const J=i.map(pe=>pe.text.trim().toLowerCase()),de=R.filter(pe=>J.includes(pe.text.trim().toLowerCase()));if(de.length>0){const pe=de.map(At=>`"${At.text}"`).join(", ");if(!confirm(`다음 할일이 이미 존재합니다: ${pe}

그래도 추가하시겠습니까?`)){$(!1);return}}const ie=R.map((pe,Fe)=>({id:`temp_${Date.now()}_${Fe}`,text:pe.text.trim(),completed:!1,category:pe.category,subcategory_id:pe.subcategory_id,due_date:pe.due_date,user_id:"temp_user",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}));l(pe=>[...ie,...pe]);const Ae=[];for(const pe of R){const Fe=await Je.addTodo({text:pe.text.trim(),completed:!1,category:pe.category,subcategory_id:pe.subcategory_id,due_date:pe.due_date});Fe&&Ae.push(Fe)}l(pe=>[...Ae,...pe.filter(Fe=>!Fe.id.startsWith("temp_"))]),Y(!1),Oe([]),L(""),V(""),be(""),ve("")}catch(J){console.error("Failed to add reviewed todos:",J),l(de=>de.filter(ie=>!ie.id.startsWith("temp_"))),alert("할일 추가 중 오류가 발생했습니다. 다시 시도해주세요.")}finally{$(!1)}},Sr=R=>{Ot(R)},Rn=async(R,J)=>{const de=[...i],ie=i.map(Ae=>Ae.id===R?{...Ae,...J}:Ae);l(ie),Ot(null);try{await Je.updateTodo(R,J)}catch(Ae){console.error("Failed to save todo edit:",Ae),l(de),Ot(R),alert("할일 수정에 실패했습니다. 다시 시도해주세요.")}},Mn=()=>{Ot(null)},oa=async()=>{if(!(!o||me)){console.log("🔄 수동 새로고침 시작..."),K(!0),ea("connected");try{const[R,J,de]=await Promise.all([Je.getTodos(),Je.getCategories(),Je.getSubCategories()]);l(R),fe(J),F(de),console.log("✅ 수동 새로고침 완료")}catch(R){console.error("❌ 수동 새로고침 실패:",R),ea("error")}finally{K(!1)}}};return s?g.jsx("div",{className:`min-h-screen flex items-center justify-center transition-all duration-500 ${f?"bg-gray-900":"bg-gray-50"}`,children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),g.jsx("p",{className:`text-lg ${f?"text-gray-300":"text-gray-600"}`,children:"로딩 중..."})]})}):o?g.jsx("div",{className:`min-h-screen transition-all duration-500 ease-in-out ${f?"bg-gray-900":"bg-gray-50"}`,children:g.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 py-6 sm:py-8",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8 animate-fade-in-down",children:[g.jsxs("div",{children:[g.jsx("h1",{className:`text-2xl sm:text-3xl font-light transition-colors duration-300 ${f?"text-white":"text-gray-900"}`,children:"할일"}),g.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[g.jsx("p",{className:`text-sm transition-colors duration-300 ${f?"text-gray-400":"text-gray-600"}`,children:"오늘 해야 할 일들을 정리해보세요"}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:`w-2 h-2 rounded-full transition-colors duration-300 ${ee?Wt==="connected"?"bg-green-500 animate-pulse":Wt==="disconnected"?"bg-yellow-500":"bg-red-500":"bg-red-500"}`}),g.jsx("span",{className:`text-xs transition-colors duration-300 ${f?"text-gray-500":"text-gray-400"}`,children:ee?Wt==="connected"?"실시간 동기화":Wt==="disconnected"?"동기화 대기":"연결 오류":"오프라인"}),me&&g.jsx("div",{className:"ml-1",children:g.jsx("div",{className:"w-3 h-3 border border-blue-500 border-t-transparent rounded-full animate-spin"})})]})]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{onClick:oa,disabled:me,className:`p-3 rounded-xl transition-all duration-300 transform hover:scale-110 ${Wt==="disconnected"||Wt==="error"?"bg-yellow-500 hover:bg-yellow-600 text-white shadow-lg animate-pulse":f?"bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-blue-400":"bg-white hover:bg-gray-100 text-gray-600 hover:text-blue-600 shadow-lg hover:shadow-xl"} disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none`,title:"수동 새로고침",children:g.jsx(Tv,{className:`w-5 h-5 ${me?"animate-spin":""}`})}),g.jsx("button",{onClick:()=>Me(!0),className:`p-3 rounded-xl transition-all duration-300 transform hover:scale-110 hover:rotate-12 ${f?"bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-purple-400":"bg-white hover:bg-gray-100 text-gray-600 hover:text-purple-600 shadow-lg hover:shadow-xl"}`,children:g.jsx(i0,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>{const R=!f;y(R),localStorage.setItem("darkMode",R.toString()),Nn(R)},className:`p-3 rounded-xl transition-all duration-300 transform hover:scale-110 hover:rotate-12 ${f?"bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-yellow-400":"bg-white hover:bg-gray-100 text-gray-600 hover:text-blue-600 shadow-lg hover:shadow-xl"}`,children:f?g.jsx(Lv,{className:"w-5 h-5"}):g.jsx(wv,{className:"w-5 h-5"})}),g.jsx(H_,{isDark:f})]})]}),i.length>0&&g.jsxs("div",{className:`p-6 rounded-2xl mb-6 transition-all duration-500 animate-slide-in-up ${f?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200 shadow-lg"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("span",{className:`text-sm font-medium transition-colors duration-300 ${f?"text-gray-300":"text-gray-700"}`,children:"진행률"}),g.jsxs("span",{className:`text-sm font-mono transition-colors duration-300 ${f?"text-gray-400":"text-gray-500"}`,children:[Qi,"/",i.length]})]}),g.jsx("div",{className:`w-full h-3 rounded-full overflow-hidden ${f?"bg-gray-700":"bg-gray-200"}`,children:g.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-1000 ease-out",style:{width:`${Ii}%`}})})]}),g.jsx("div",{className:`p-6 rounded-2xl mb-6 transition-all duration-500 animate-slide-in-up ${f?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200 shadow-lg"}`,style:{animationDelay:"0.1s"},children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("div",{className:"relative flex-1",children:[Q&&g.jsx("div",{className:`absolute inset-0 rounded-xl flex items-center justify-center backdrop-blur-sm z-10 ${f?"bg-gray-800/80":"bg-white/80"}`,children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"w-6 h-6 border-2 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),g.jsx("p",{className:`text-sm ${f?"text-gray-300":"text-gray-600"}`,children:"AI가 분석하고 있어요..."})]})}),g.jsx("textarea",{value:u,onChange:R=>d(R.target.value),placeholder:`할일을 입력하세요
여러 할일은 쉼표로 구분
Enter: 추가, Shift+Enter: 개행`,className:`w-full px-4 py-3 rounded-xl border transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:scale-[1.02] resize-none ${f?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 shadow-sm focus:shadow-md"} ${Q||me?"opacity-75":""}`,onKeyDown:R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),Yi())},disabled:Q||me,rows:Math.max(1,Math.min(4,u.split(`
`).length)),style:{minHeight:"48px",maxHeight:"120px",overflow:"auto"}}),Q?g.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:g.jsxs("div",{className:`px-3 py-1 rounded-full text-xs ${f?"bg-blue-900/50 text-blue-300":"bg-blue-100 text-blue-600"} flex items-center gap-2 animate-pulse`,children:[g.jsx("div",{className:"w-3 h-3 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),"AI 분석 중..."]})}):(u.includes(",")||u.includes("그리고")||u.includes("및")||u.includes("후에")||u.includes("다음에"))&&g.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:g.jsxs("div",{className:`px-2 py-1 rounded-full text-xs ${f?"bg-purple-900/50 text-purple-300":"bg-purple-100 text-purple-600"} flex items-center gap-1 animate-pulse`,children:[g.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-ping"}),"AI 분석 가능"]})})]}),Q?g.jsxs("button",{onClick:pr,className:"px-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300 flex items-center gap-2 transform hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl",children:[g.jsx(Us,{className:"w-4 h-4"}),"취소"]}):g.jsxs("button",{onClick:Yi,disabled:!u.trim()||me,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl hover:from-blue-600 hover:to-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center gap-2 transform hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl",children:[me?g.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):g.jsx(s0,{className:"w-4 h-4"}),me?"동기화중...":"추가"]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[g.jsx("select",{value:M,onChange:R=>{q(R.target.value);const J=ae.find(de=>de.name===R.target.value);if(J){const de=I.filter(ie=>ie.parent_category_id===J.id);W(de.length>0?de[0].id:"")}else W("")},className:`px-3 py-3 text-base rounded-lg border transition-all duration-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:ae.map(R=>g.jsxs("option",{value:R.name,children:[R.icon," ",R.name]},R.id))}),g.jsxs("select",{value:H,onChange:R=>{W(R.target.value)},className:`px-3 py-3 text-base rounded-lg border transition-all duration-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,disabled:I.filter(R=>{const J=ae.find(de=>de.name===M);return J&&R.parent_category_id===J.id}).length===0,children:[g.jsx("option",{value:"",children:"서브카테고리 없음"}),I.filter(R=>{const J=ae.find(de=>de.name===M);return J&&R.parent_category_id===J.id}).map(R=>g.jsxs("option",{value:R.id,children:[R.icon," ",R.name]},R.id))]}),g.jsx("input",{type:"date",value:re,onChange:R=>G(R.target.value),className:`px-3 py-3 text-base rounded-lg border transition-all duration-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]})}),g.jsxs("div",{className:"space-y-4 mb-6 animate-slide-in-up",style:{animationDelay:"0.2s"},children:[g.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"전체"},{key:"active",label:"미완료"},{key:"completed",label:"완료"}].map(({key:R,label:J})=>g.jsx("button",{onClick:()=>m(R),className:`px-4 py-3 min-h-[44px] rounded-xl text-sm transition-all duration-300 transform hover:scale-105 touch-manipulation ${p===R?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":f?"bg-gray-800 text-gray-300 hover:bg-gray-700 border border-gray-700":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200 shadow-sm hover:shadow-md"}`,children:J},R))}),ae.length>0&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex flex-wrap gap-2 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600",children:[g.jsx("button",{onClick:()=>{S("all"),A("all")},className:`px-3 py-2 min-h-[44px] rounded-lg text-sm transition-all duration-300 transform hover:scale-105 touch-manipulation ${b==="all"?"bg-gray-500 text-white shadow-md":f?"bg-gray-800 text-gray-300 hover:bg-gray-700 border border-gray-700":"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-200"}`,children:"모든 카테고리"}),ae.map(R=>{const J=i.filter(Ae=>Ae.category===R.name),de=J.filter(Ae=>Ae.completed),ie=br(R.name);return g.jsxs("button",{onClick:()=>{S(R.name),A("all")},className:`px-3 py-2 min-h-[44px] rounded-lg text-sm transition-all duration-300 transform hover:scale-105 touch-manipulation flex items-center gap-1 whitespace-nowrap ${b===R.name?"shadow-md ring-2 ring-offset-1":"hover:shadow-sm"}`,style:{backgroundColor:b===R.name?ie.color:ie.style?.backgroundColor,color:b===R.name?"white":ie.style?.color,...b===R.name?{"--tw-ring-color":ie.color}:{}},children:[R.icon&&g.jsx("span",{children:R.icon}),g.jsx("span",{children:R.name}),g.jsxs("span",{className:`ml-1 px-1 py-0.5 rounded-full text-xs ${b===R.name?"bg-white/20 text-white":f?"bg-gray-700 text-gray-300":"bg-gray-200 text-gray-600"}`,children:[de.length,"/",J.length]})]},R.id)})]}),b!=="all"&&I.filter(R=>{const J=ae.find(de=>de.name===b);return J&&R.parent_category_id===J.id}).length>0&&g.jsxs("div",{className:"flex flex-wrap gap-2 pl-4 border-l-2 border-gray-300 dark:border-gray-600",children:[g.jsx("button",{onClick:()=>A("all"),className:`px-2 py-1 rounded text-xs transition-all duration-300 transform hover:scale-105 ${T==="all"?"bg-gray-400 text-white shadow-sm":f?"bg-gray-700 text-gray-400 hover:bg-gray-600 border border-gray-600":"bg-gray-50 text-gray-500 hover:bg-gray-100 border border-gray-200"}`,children:"전체 서브카테고리"}),g.jsxs("button",{onClick:()=>A("none"),className:`px-2 py-1 rounded text-xs transition-all duration-300 transform hover:scale-105 ${T==="none"?"bg-gray-400 text-white shadow-sm":f?"bg-gray-700 text-gray-400 hover:bg-gray-600 border border-gray-600":"bg-gray-50 text-gray-500 hover:bg-gray-100 border border-gray-200"}`,children:["서브카테고리 없음 (",i.filter(R=>R.category===b&&!R.subcategory_id).length,")"]}),I.filter(R=>{const J=ae.find(de=>de.name===b);return J&&R.parent_category_id===J.id}).map(R=>{const J=i.filter(Ae=>Ae.subcategory_id===R.id),de=J.filter(Ae=>Ae.completed),ie=J.filter(Ae=>!Ae.completed);return g.jsxs("button",{onClick:()=>A(R.id),className:`px-2 py-1 rounded text-xs transition-all duration-300 transform hover:scale-105 flex items-center gap-1 ${T===R.id?"shadow-md ring-1 ring-offset-1":"hover:shadow-sm"}`,style:{backgroundColor:T===R.id?R.color:`${R.color}20`,color:T===R.id?"white":R.color,...T===R.id?{"--tw-ring-color":R.color}:{}},children:[R.icon&&g.jsx("span",{children:R.icon}),g.jsx("span",{children:R.name}),g.jsxs("span",{className:`ml-1 px-1 py-0.5 rounded-full text-xs ${T===R.id?"bg-white/20 text-white":f?"bg-gray-700 text-gray-300":"bg-gray-200 text-gray-600"}`,children:[ie.length,"/",de.length]})]},R.id)})]})]})]}),g.jsxs("div",{className:"space-y-3",children:[sn.map((R,J)=>g.jsx("div",{className:`group p-4 sm:p-5 rounded-2xl border transition-all duration-500 transform hover:shadow-xl animate-slide-in-up ${Ke===R.id?f?"bg-blue-900/20 border-blue-500 scale-[1.02]":"bg-blue-50 border-blue-300 scale-[1.02]":f?"bg-gray-800 border-gray-700 hover:bg-gray-750 hover:scale-[1.02]":"bg-white border-gray-200 shadow-sm hover:shadow-lg hover:scale-[1.02]"} ${R.completed?"opacity-75 hover:opacity-90":""}`,style:{animationDelay:`${.3+J*.05}s`},children:g.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[g.jsx("button",{onClick:()=>Vi(R.id),className:`mt-1 flex-shrink-0 w-7 h-7 sm:w-6 sm:h-6 min-h-[44px] sm:min-h-0 rounded-full border-2 flex items-center justify-center transition-all duration-300 transform hover:scale-110 touch-manipulation ${R.completed?"bg-gradient-to-r from-green-500 to-emerald-500 border-green-500 text-white animate-check-mark":f?"border-gray-500 hover:border-green-400 hover:bg-green-400/10":"border-gray-300 hover:border-green-500 hover:bg-green-50"}`,disabled:Ke===R.id,children:R.completed&&g.jsx(dr,{className:"w-4 h-4 animate-bounce-in"})}),g.jsx("div",{className:"flex-1 min-w-0",children:g.jsx(q_,{todo:R,categories:ae,subcategories:I,isDark:f,isEditing:Ke===R.id,onStartEdit:()=>Sr(R.id),onSave:de=>Rn(R.id,de),onCancel:Mn,isSubmitting:Q})}),g.jsx("button",{onClick:()=>Xi(R.id),className:"opacity-60 sm:opacity-0 group-hover:opacity-100 p-2 min-h-[44px] text-gray-400 hover:text-red-500 transition-all duration-300 transform hover:scale-110 hover:rotate-12 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 touch-manipulation",disabled:Ke===R.id,children:g.jsx(hr,{className:"w-4 h-4"})})]})},R.id)),sn.length===0&&!me&&g.jsxs("div",{className:`text-center py-16 transition-colors duration-300 ${f?"text-gray-500":"text-gray-400"} animate-fade-in`,children:[g.jsx(gv,{className:"w-16 h-16 mx-auto mb-4 opacity-50 animate-pulse"}),g.jsx("p",{className:"text-lg",children:p==="completed"?"완료된 할일이 없습니다":p==="active"?"미완료 할일이 없습니다":"할일을 추가해보세요"}),!ee&&g.jsx("p",{className:"text-sm mt-2 text-yellow-500",children:"오프라인 모드입니다. 온라인 연결 시 동기화됩니다."})]}),me&&i.length===0&&g.jsxs("div",{className:`text-center py-16 transition-colors duration-300 ${f?"text-gray-500":"text-gray-400"} animate-fade-in`,children:[g.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),g.jsx("p",{className:"text-lg",children:"데이터를 불러오는 중..."})]})]}),g.jsx(L_,{isOpen:je,onClose:()=>Me(!1),categories:ae,subcategories:I,isDark:f,onAddCategory:_r,onUpdateCategory:ln,onDeleteCategory:bt,onAddSubCategory:ta,onUpdateSubCategory:_t,onDeleteSubCategory:wr}),g.jsx($_,{isOpen:U,onClose:()=>{Y(!1),Oe([]),L(""),X&&pt()},reviewTodos:se,categories:ae,subcategories:I,isDark:f,onConfirm:xr,isSubmitting:Q,aiSummary:w})]})}):g.jsx(B_,{isDark:f})}function Y_(){return g.jsx(z_,{children:g.jsx(G_,{})})}Wm.createRoot(document.getElementById("root")).render(g.jsx(Z.StrictMode,{children:g.jsx(Y_,{})}));
